{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Packer","url":"/packer"},{"title":"Guides","url":"/packer/guides","isCurrentPage":false},{"title":"Upgrade Your Template to use Packer init","url":"/packer/guides/1.7-template-upgrade","isCurrentPage":true}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Packer Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Packer","fullPath":"/packer","theme":"packer"},{"title":"Install","fullPath":"/packer/install"},{"title":"Tutorials","fullPath":"/packer/tutorials"},{"title":"Documentation","fullPath":"/packer/docs"},{"title":"Guides","fullPath":"/packer/guides"},{"title":"Plugins","fullPath":"/packer/plugins"},{"title":"Integrations","fullPath":"/packer/integrations"}],"showFilterInput":false,"title":"Packer","visuallyHideTitle":true},{"backToLinkProps":{"text":"Packer Home","href":"/packer"},"levelButtonProps":{"levelUpButtonText":"Packer Home"},"menuItems":[{"title":"Guides","fullPath":"/packer/guides","theme":"packer"},{"title":"Upgrade Your Plugin to use the Packer plugin sdk","path":"1.7-plugin-upgrade","filePath":"../content/guides/1.7-plugin-upgrade.mdx","fullPath":"/packer/guides/1.7-plugin-upgrade","id":"sidebar-nav-item-0"},{"title":"Upgrade Your Template to use Packer init","path":"1.7-template-upgrade","filePath":"../content/guides/1.7-template-upgrade.mdx","fullPath":"/packer/guides/1.7-template-upgrade","id":"sidebar-nav-item-1"},{"title":"HCL guides","routes":[{"title":"Overview","path":"hcl","filePath":"../content/guides/hcl/index.mdx","fullPath":"/packer/guides/hcl","id":"sidebar-nav-item-3"},{"title":"Variables","path":"hcl/variables","filePath":"../content/guides/hcl/variables.mdx","fullPath":"/packer/guides/hcl/variables","id":"sidebar-nav-item-4"},{"title":"Upgrade Packer JSON Template to HCL2","href":"https://learn.hashicorp.com/tutorials/packer/hcl2-upgrade","id":"sidebar-nav-item-5"},{"title":"Making a plugin HCL2 enabled","path":"hcl/component-object-spec","filePath":"../content/guides/hcl/component-object-spec.mdx","fullPath":"/packer/guides/hcl/component-object-spec","id":"sidebar-nav-item-6"}],"id":"sidebar-nav-item-2"},{"title":"Automatic OS Installs","routes":[{"title":"Overview","path":"automatic-operating-system-installs","filePath":"../content/guides/automatic-operating-system-installs/index.mdx","fullPath":"/packer/guides/automatic-operating-system-installs","id":"sidebar-nav-item-8"},{"title":"Unattended Installation for Windows","path":"automatic-operating-system-installs/autounattend_windows","filePath":"../content/guides/automatic-operating-system-installs/autounattend_windows.mdx","fullPath":"/packer/guides/automatic-operating-system-installs/autounattend_windows","id":"sidebar-nav-item-9"},{"title":"Unattended Installation for Debian","path":"automatic-operating-system-installs/preseed_ubuntu","filePath":"../content/guides/automatic-operating-system-installs/preseed_ubuntu.mdx","fullPath":"/packer/guides/automatic-operating-system-installs/preseed_ubuntu","id":"sidebar-nav-item-10"}],"id":"sidebar-nav-item-7"},{"title":"Build Immutable Infrastructure with Packer in CI/CD","routes":[{"title":"Overview","path":"packer-on-cicd","filePath":"../content/guides/packer-on-cicd/index.mdx","fullPath":"/packer/guides/packer-on-cicd","id":"sidebar-nav-item-12"},{"title":"Build Images in CI/CD","path":"packer-on-cicd/build-image-in-cicd","filePath":"../content/guides/packer-on-cicd/build-image-in-cicd.mdx","fullPath":"/packer/guides/packer-on-cicd/build-image-in-cicd","id":"sidebar-nav-item-13"},{"title":"Build a VirtualBox Image with Packer in TeamCity","path":"packer-on-cicd/build-virtualbox-image","filePath":"../content/guides/packer-on-cicd/build-virtualbox-image.mdx","fullPath":"/packer/guides/packer-on-cicd/build-virtualbox-image","id":"sidebar-nav-item-14"},{"title":"Pipelineing Builds","path":"packer-on-cicd/pipelineing-builds","filePath":"../content/guides/packer-on-cicd/pipelineing-builds.mdx","fullPath":"/packer/guides/packer-on-cicd/pipelineing-builds","id":"sidebar-nav-item-15"},{"title":"Trigger Terraform Enterprise runs","path":"packer-on-cicd/trigger-tfe","filePath":"../content/guides/packer-on-cicd/trigger-tfe.mdx","fullPath":"/packer/guides/packer-on-cicd/trigger-tfe","id":"sidebar-nav-item-16"},{"title":"Upload a VirtualBox Image to S3","path":"packer-on-cicd/upload-images-to-artifact","filePath":"../content/guides/packer-on-cicd/upload-images-to-artifact.mdx","fullPath":"/packer/guides/packer-on-cicd/upload-images-to-artifact","id":"sidebar-nav-item-17"}],"id":"sidebar-nav-item-11"}],"title":"Guides","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/packer/blob/main/website/../content/guides/1.7-template-upgrade.mdx"},"metadata":{"title":"Upgrading your template to use Packer init","description":"Use packer init and the required_plugins block to better control plugin usage within Packer templates. Learn how to update your template to work with these new features.","layout":null},"outlineItems":[{"title":"Upgrading your template to be compatible with packer init","url":"#upgrading-your-template-to-be-compatible-with-packer-init","dataHeapTrack":"toc-list-item-index-0"},{"title":"Updating your template with the required_plugins block","url":"#updating-your-template-with-the-required_plugins-block","dataHeapTrack":"toc-list-item-index-1"},{"title":"FAQs","url":"#faqs","dataHeapTrack":"toc-list-item-index-2"}],"pageHeading":{"id":"upgrading-your-template-to-be-compatible-with-packer-init","title":"Upgrading your template to be compatible with packer init"},"mdxSource":{"compiledSource":"var c=Object.defineProperty,u=Object.defineProperties;var d=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;var r=(a,n,t)=>n in a?c(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t,e=(a,n)=>{for(var t in n||(n={}))i.call(n,t)&&r(a,t,n[t]);if(o)for(var t of o(n))s.call(n,t)&&r(a,t,n[t]);return a},l=(a,n)=>u(a,d(n));var m=(a,n)=>{var t={};for(var p in a)i.call(a,p)&&n.indexOf(p)<0&&(t[p]=a[p]);if(a!=null&&o)for(var p of o(a))n.indexOf(p)<0&&s.call(a,p)&&(t[p]=a[p]);return t};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var p=t,{components:a}=p,n=m(p,[\"components\"]);return mdx(MDXLayout,l(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"packer init\"),` command introduced in version v1.7.0 benefits Packer users by providing better control of plugin\nusage within a Packer template configuration.`),mdx(\"p\",null,\"In short, \",mdx(\"inlineCode\",{parentName:\"p\"},\"packer init\"),\" will look at the \",mdx(\"inlineCode\",{parentName:\"p\"},\"required_plugins\"),` block definition within a template, and download the correct\nbinaries for that template. For details about how the command works and where the plugins will be installed, please\nrefer to the `,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/commands/init\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"packer init\")),\" documentation.\"),mdx(\"div\",e({},{className:\"alert alert-info g-type-body\"}),mdx(\"p\",{parentName:\"div\"},\"\",mdx(\"strong\",{parentName:\"p\"},\"Note:\"),\" \",mdx(\"inlineCode\",{parentName:\"p\"},\"packer init\"),` is only supported for HCL templates. You can\nupgrade legacy JSON templates to HCL using the `,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/commands/hcl2_upgrade\"}),\"hcl2_upgrade\"),\" command.\")),mdx(\"h2\",e({},{id:\"updating-your-template-with-the-required_plugins-block\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#updating-your-template-with-the-required_plugins-block\",\"aria-label\":\"updating your template with the required_plugins block permalink\"}),\"\\xBB\"),\"Updating your template with the \",mdx(\"inlineCode\",{parentName:\"h2\"},\"required_plugins\"),\" block\"),mdx(\"h2\",e({},{id:\"faqs\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#faqs\",\"aria-label\":\"faqs permalink\"}),\"\\xBB\"),\"FAQs\"),mdx(\"h3\",e({},{id:\"why-do-you-need-to-upgrade-your-template\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#why-do-you-need-to-upgrade-your-template\",\"aria-label\":\"why do you need to upgrade your template permalink\"}),\"\\xBB\"),\"Why do you need to upgrade your template?\"),mdx(\"p\",null,\"To use the \",mdx(\"inlineCode\",{parentName:\"p\"},\"packer init\"),\" command, you must upgrade your template to use the \",mdx(\"inlineCode\",{parentName:\"p\"},\"required_plugins\"),\" block. The \",mdx(\"inlineCode\",{parentName:\"p\"},\"init\"),` command\nwon't work if no `,mdx(\"inlineCode\",{parentName:\"p\"},\"required_plugins\"),\" is provided.\"),mdx(\"p\",null,\"We strongly encourage you to upgrade and start using \",mdx(\"inlineCode\",{parentName:\"p\"},\"required_plugins\"),` block within your templates to manage plugin\ninstallation, but if you prefer not to use the `,mdx(\"inlineCode\",{parentName:\"p\"},\"required_plugins\"),` block you can continue to\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/plugins#installing-plugins\"}),\"install plugins manually\"),\".\"),mdx(\"h3\",e({},{id:\"what-if-you-only-use-components-that-are-built-into-the-packer-core\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#what-if-you-only-use-components-that-are-built-into-the-packer-core\",\"aria-label\":\"what if you only use components that are built into the packer core permalink\"}),\"\\xBB\"),\"What if you only use components that are built into the Packer core?\"),mdx(\"p\",null,\"You don't need \",mdx(\"inlineCode\",{parentName:\"p\"},\"packer init\"),` for this, as of v1.7.0. But it's a good idea to get familiar with the required_plugins\nblock anyway, because we are going to start splitting popular HashiCorp-maintained components like the amazon-ebs\nbuilder out of the core into their own multi-component plugins. When we do split these plugins out of the core, we will\nprovide a tool to help you create the correct required_plugins block.`),mdx(\"h3\",e({},{id:\"when-should-you-upgrade-your-template\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#when-should-you-upgrade-your-template\",\"aria-label\":\"when should you upgrade your template permalink\"}),\"\\xBB\"),\"When should you upgrade your template?\"),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"packer init\"),` command can only install plugins that have been upgraded to use the latest version of the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/hashicorp/packer-plugin-sdk\"}),\"Packer Plugin SDK\"),`, and therefore are compatible with Packer's API\nversion v5.0. The plugin repository on GitHub also needs to use a specific release format. If you are not sure whether\nthe plugin you use fits those requirements, you can reach out to your maintainer to ask. You can also look for clues\nthat the plugin is ready for use with `,mdx(\"inlineCode\",{parentName:\"p\"},\"packer init\"),\":\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Check the plugin's CHANGELOG for notes about migrating to the packer-plugin-sdk.\"),mdx(\"li\",{parentName:\"ul\"},`Check the name of the repository the plugin resides in. Chances are that if the repository follows the naming\nconvention `,mdx(\"inlineCode\",{parentName:\"li\"},\"packer-plugin-*\"),\" (e.g. \",mdx(\"inlineCode\",{parentName:\"li\"},\"packer-plugin-comment\"),`), then the plugin has been upgraded to be compatible with\n`,mdx(\"inlineCode\",{parentName:\"li\"},\"packer init\"),`. If the repository has a name that references a specific Packer component (for example,\n`,mdx(\"inlineCode\",{parentName:\"li\"},\"packer-provisioner-*\"),\", \",mdx(\"inlineCode\",{parentName:\"li\"},\"packer-builder-*\"),\", or \",mdx(\"inlineCode\",{parentName:\"li\"},\"packer-post-processor-*\"),`) then the plugin likely still needs to be\nupgraded to be compatible with `,mdx(\"inlineCode\",{parentName:\"li\"},\"packer init\"),`. Reach out to your plugin maintainer to request that they upgrade; the\nPacker team has written a maintainer-focused guide `,mdx(\"a\",e({parentName:\"li\"},{href:\"/packer/guides/1.7-plugin-upgrade\"}),\"here\"),\".\")),mdx(\"p\",null,\"If the plugin(s) have been upgraded, then they can be used with the \",mdx(\"inlineCode\",{parentName:\"p\"},\"required_plugins\"),\" block in your upgraded template.\"),mdx(\"h4\",e({},{id:\"what-if-the-plugin-you-need-is-not-upgraded-to-api-v5-0\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#what-if-the-plugin-you-need-is-not-upgraded-to-api-v5-0\",\"aria-label\":\"what if the plugin you need is not upgraded to api v5 0 permalink\"}),\"\\xBB\"),\"What if the plugin you need is not upgraded to API v5.0?\"),mdx(\"p\",null,\"Since the SDK is being released at the same time as the \",mdx(\"inlineCode\",{parentName:\"p\"},\"init\"),` command, plugin users may face a gap between when the\nPacker core v1.7.0 is released, and the plugins you use are upgraded by their maintainers. The Packer team is getting\nin touch with all currently known plugin maintainers to provide support during their upgrade process.`),mdx(\"p\",null,`If you are willing to upgrade your template but found out that the plugin you are using hasn't been upgraded yet,\nwe suggest you reach out to the plugin maintainers and ask for an upgrade; the Packer team has written a\nmaintainer-focused guide `,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/guides/1.7-plugin-upgrade\"}),\"here\"),\".\"),mdx(\"p\",null,\"Check the table below to better understand whether your plugin is compatible with \",mdx(\"inlineCode\",{parentName:\"p\"},\"packer init\"),`, with manual\ninstallation, or with both for the the Packer version you are using.`),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Packer Core Version\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Single Component Plugin - API v4\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Single Component Plugin - API v5.0\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Multi Component Plugin - API v5.0\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"v1.5.0 to v1.6.6\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"\\u270B Plugin must be manually installed\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"\\u26D4 Plugin cannot be used with this Packer version\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"\\u26D4 Plugin cannot be used with this Packer version\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"v1.7.0\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"\\u26D4 Plugin cannot be used with this Packer version\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"\\u270B Plugin must be manually installed\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"\\u{1F4E6} Plugin can be installed manually or with \",mdx(\"inlineCode\",{parentName:\"td\"},\"packer init\"))))),mdx(\"h3\",e({},{id:\"how-to-upgrade-your-template\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#how-to-upgrade-your-template\",\"aria-label\":\"how to upgrade your template permalink\"}),\"\\xBB\"),\"How to upgrade your template\"),mdx(\"p\",null,\"Let's use the following template as an example:\"),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# file: example.pkr.hcl\"),`\n`,`\n`,\"source \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"null\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"basic-example\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"communicator\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"none\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"build\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"sources\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"sources.null.basic-example\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"provisioner\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"comment\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"comment\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Hello from comment plugin\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"ui\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"bubble_text\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",null,\"This template uses the example \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/sylviamoss/packer-plugin-comment\"}),\"packer-provisioner-comment\"),` plugin.\nUntil Packer v1.7.0, the binaries were installed manually.`),mdx(\"p\",null,`Since the Packer v1.7.0 release, the plugin has been upgraded by its maintainers and is now called\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"packer-plugin-comment\"),`. with its latest version being v0.2.23. Knowing that, our example template can be upgraded to\nuse the `,mdx(\"inlineCode\",{parentName:\"p\"},\"required_plugins\"),\" block.\"),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# file: example.pkr.hcl\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"packer\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"required_plugins\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"comment\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"            \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"version\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\">=v0.2.23\"'),`\n`,\"            \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"source\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"github.com/sylviamoss/comment\"'),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,\"source \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"null\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"basic-example\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"communicator\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"none\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"build\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"sources\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"sources.null.basic-example\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"provisioner\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"comment\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"comment\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Hello from comment plugin\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"ui\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"bubble_text\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",null,\"The upgraded template is now telling Packer that it requires a plugin named \",mdx(\"inlineCode\",{parentName:\"p\"},\"comment\"),` stored in a github repository\nowned by the user `,mdx(\"inlineCode\",{parentName:\"p\"},\"sylviamoss\"),`. It also says that the template needs to use a version of the plugin equal to or greater\nthan `,mdx(\"inlineCode\",{parentName:\"p\"},\"v0.2.23\"),\". Finally, the local_name of the plugin will be \",mdx(\"inlineCode\",{parentName:\"p\"},\"comment\"),\", which means it will be referred to as \",mdx(\"inlineCode\",{parentName:\"p\"},\"comment\"),`\nin the rest of the template.`),mdx(\"p\",null,\"Here it is a brief explanation of each field:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"version\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#version\",\"aria-label\":\"version permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"version\")),\" - Should follow the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/templates/hcl_templates/blocks/packer#version-constraints\"}),\"version constraints\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"source\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#source\",\"aria-label\":\"source permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"source\")),` - Should have the GitHub hostname, the plugin's organizational namespace, and its short name.\nPacker will be responsible for determining the full GitHub\naddress. For example, if the source is `,mdx(\"inlineCode\",{parentName:\"p\"},\"github.com/sylviamoss/comment\"),`, Packer\nwill download the binaries from `,mdx(\"inlineCode\",{parentName:\"p\"},\"github.com/sylviamoss/packer-plugin-comment\"),`.\nTo learn more about the source field, check out the `,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/plugins#source-addresses\"}),`Source\nAddress`),\" documentation.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"local_name\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#local_name\",\"aria-label\":\"local_name permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"local_name\")),`- Can be replaced with whatever you want, and the new value will become the name of the plugin.\nFor example:`),mdx(\"pre\",e({parentName:\"li\"},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"packer\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"required_plugins\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"bubbled_up\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"            \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# ...\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# ...\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"build\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# ...\"),`\n`,`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"provisioner\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"bubbled_up\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# ...\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)))),mdx(\"p\",null,\"Once the template is upgraded, you can run \",mdx(\"inlineCode\",{parentName:\"p\"},\"packer init example.pkr.hcl\"),` and the output should tell you the installed\nplugin, and the place where it was installed.`),mdx(\"pre\",e({},{className:\"language-shell\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-shell\"}),\"\\u279C packerdev init example.pkr.hcl\",`\n`,\"Installed plugin sylviamoss/comment v0.2.23 \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"in\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"/Users/<user>/.packer.d/plugins/github.com/sylviamoss/comment/packer-plugin-comment_v0.2.23_x5.0_darwin_amd64\"'),`\n`)),mdx(\"p\",null,mdx(\"inlineCode\",{parentName:\"p\"},\"packer init\"),` will only download plugin binaries and never delete existing ones. If all the required plugins are installed,\nthe command won't do anything unless you set the `,mdx(\"inlineCode\",{parentName:\"p\"},\"-upgrade\"),\" flag to force download newer versions of the existing plugins.\"),mdx(\"p\",null,\"You can uninstall a plugin by deleting it from the \",mdx(\"inlineCode\",{parentName:\"p\"},\".packer.d/plugins/\"),\" directory on your computer.\"),mdx(\"p\",null,\"Now that the required comment plugin is installed via \",mdx(\"inlineCode\",{parentName:\"p\"},\"packer init\"),\", you can run \",mdx(\"inlineCode\",{parentName:\"p\"},\"packer build example.pkr.hcl\"),` as usual\nand won't need to run `,mdx(\"inlineCode\",{parentName:\"p\"},\"init\"),\" again unless you want to upgrade the plugin version.\"),mdx(\"p\",null,\"A template with a \",mdx(\"inlineCode\",{parentName:\"p\"},\"required_plugins\"),\" block should \",mdx(\"strong\",{parentName:\"p\"},\"always\"),\" be initialised at least once with \",mdx(\"inlineCode\",{parentName:\"p\"},\"packer init\"),` before\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"packer build\"),\". If the template is built before init, Packer will fail and ask for initialisation.\"))}MDXContent.isMDXComponent=!0;\n","scope":{"version":"latest"}},"product":{"name":"Packer","slug":"packer","algoliaConfig":{"indexName":"product_PACKER","searchOnlyApiKey":"4e1ea7f4bf4335ac43d9f28463e42148"},"analyticsConfig":{"includedDomains":"packer.io www.packer.io","segmentWriteKey":"AjXdfmTTk1I9q9dfyePuDFHBrz1tCO3l"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Packer by HashiCorp","description":"Packer helps you create golden images for multiple platforms from a single source configuration.","image":"https://www.packer.io/packer-public/img/og-image.png","icon":[{"href":"/packer-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiConf","url":"https://hashiconf.com/2023?utm_source=direct&utm_medium=banner&utm_campaign=23Q3_HASHICONFGLOBAL_EVENT&utm_content=&utm_offer=event","text":"Our community conference is taking place in San Francisco and online October 10-12.","linkText":"Register now","expirationDate":""},"version":"1.7.10","basePaths":["docs","guides","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"guide","name":"Guides","path":"guides"},{"iconName":"plug","name":"Plugins","path":"plugins"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Packer Integrations."},"currentRootDocsPath":{"iconName":"guide","name":"Guides","path":"guides"}},"projectName":null,"versions":null},"__N_SSG":true}