{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Packer","url":"/packer"},{"title":"Documentation","url":"/packer/docs","isCurrentPage":false},{"title":"Communicators","url":"/packer/docs/communicators"},{"title":"WINRM","url":"/packer/docs/communicators/winrm","isCurrentPage":true}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Packer Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Packer","fullPath":"/packer","theme":"packer"},{"title":"Install","fullPath":"/packer/install"},{"title":"Tutorials","fullPath":"/packer/tutorials"},{"title":"Documentation","fullPath":"/packer/docs"},{"title":"Guides","fullPath":"/packer/guides"},{"title":"Plugins","fullPath":"/packer/plugins"},{"title":"Integrations","fullPath":"/packer/integrations"}],"showFilterInput":false,"title":"Packer","visuallyHideTitle":true},{"backToLinkProps":{"text":"Packer Home","href":"/packer"},"levelButtonProps":{"levelUpButtonText":"Packer Home"},"menuItems":[{"title":"Documentation","fullPath":"/packer/docs","theme":"packer"},{"title":"What is Packer?","routes":[{"title":"Overview","path":"intro","filePath":"../content/docs/intro/index.mdx","fullPath":"/packer/docs/intro","id":"sidebar-nav-item-1"},{"title":"Why Use Packer?","path":"intro/why","filePath":"../content/docs/intro/why.mdx","fullPath":"/packer/docs/intro/why","id":"sidebar-nav-item-2"},{"title":"Use Cases","path":"intro/use-cases","filePath":"../content/docs/intro/use-cases.mdx","fullPath":"/packer/docs/intro/use-cases","id":"sidebar-nav-item-3"}],"id":"sidebar-nav-item-0"},{"title":"HCP Packer","path":"hcp","filePath":"../content/docs/hcp/index.mdx","fullPath":"/packer/docs/hcp","id":"sidebar-nav-item-4"},{"divider":true,"id":"sidebar-nav-item-5"},{"title":"Getting Started with AWS","path":"aws-get-started","filePath":"../content/docs/aws-get-started.mdx","fullPath":"/packer/docs/aws-get-started","id":"sidebar-nav-item-6"},{"divider":true,"id":"sidebar-nav-item-7"},{"title":"Terminology","path":"terminology","filePath":"../content/docs/terminology.mdx","fullPath":"/packer/docs/terminology","id":"sidebar-nav-item-8"},{"title":"Commands (CLI)","routes":[{"title":"Overview","path":"commands","filePath":"../content/docs/commands/index.mdx","fullPath":"/packer/docs/commands","id":"sidebar-nav-item-10"},{"title":"<code>init</code>","path":"commands/init","filePath":"../content/docs/commands/init.mdx","fullPath":"/packer/docs/commands/init","id":"sidebar-nav-item-11"},{"title":"<code>plugins</code>","routes":[{"title":"Overview","path":"commands/plugins","filePath":"../content/docs/commands/plugins/index.mdx","fullPath":"/packer/docs/commands/plugins","id":"sidebar-nav-item-13"},{"title":"<code>install</code>","path":"commands/plugins/install","filePath":"../content/docs/commands/plugins/install.mdx","fullPath":"/packer/docs/commands/plugins/install","id":"sidebar-nav-item-14"},{"title":"<code>installed</code>","path":"commands/plugins/installed","filePath":"../content/docs/commands/plugins/installed.mdx","fullPath":"/packer/docs/commands/plugins/installed","id":"sidebar-nav-item-15"},{"title":"<code>remove</code>","path":"commands/plugins/remove","filePath":"../content/docs/commands/plugins/remove.mdx","fullPath":"/packer/docs/commands/plugins/remove","id":"sidebar-nav-item-16"},{"title":"<code>required</code>","path":"commands/plugins/required","filePath":"../content/docs/commands/plugins/required.mdx","fullPath":"/packer/docs/commands/plugins/required","id":"sidebar-nav-item-17"}],"id":"sidebar-nav-item-12"},{"title":"<code>build</code>","path":"commands/build","filePath":"../content/docs/commands/build.mdx","fullPath":"/packer/docs/commands/build","id":"sidebar-nav-item-18"},{"title":"<code>console</code>","path":"commands/console","filePath":"../content/docs/commands/console.mdx","fullPath":"/packer/docs/commands/console","id":"sidebar-nav-item-19"},{"title":"<code>fix</code>","path":"commands/fix","filePath":"../content/docs/commands/fix.mdx","fullPath":"/packer/docs/commands/fix","id":"sidebar-nav-item-20"},{"title":"<code>fmt</code>","path":"commands/fmt","filePath":"../content/docs/commands/fmt.mdx","fullPath":"/packer/docs/commands/fmt","id":"sidebar-nav-item-21"},{"title":"<code>inspect</code>","path":"commands/inspect","filePath":"../content/docs/commands/inspect.mdx","fullPath":"/packer/docs/commands/inspect","id":"sidebar-nav-item-22"},{"title":"<code>validate</code>","path":"commands/validate","filePath":"../content/docs/commands/validate.mdx","fullPath":"/packer/docs/commands/validate","id":"sidebar-nav-item-23"},{"title":"<code>hcl2_upgrade</code>","path":"commands/hcl2_upgrade","filePath":"../content/docs/commands/hcl2_upgrade.mdx","fullPath":"/packer/docs/commands/hcl2_upgrade","id":"sidebar-nav-item-24"}],"id":"sidebar-nav-item-9"},{"title":"Templates","routes":[{"title":"Overview","path":"templates","filePath":"../content/docs/templates/index.mdx","fullPath":"/packer/docs/templates","id":"sidebar-nav-item-26"},{"title":"JSON to HCL2","path":"templates/json_to_hcl","filePath":"../content/docs/templates/json_to_hcl.mdx","fullPath":"/packer/docs/templates/json_to_hcl","id":"sidebar-nav-item-27"},{"title":"HCL Templates","routes":[{"title":"Overview","path":"templates/hcl_templates","filePath":"../content/docs/templates/hcl_templates/index.mdx","fullPath":"/packer/docs/templates/hcl_templates","id":"sidebar-nav-item-29"},{"title":"Blocks","routes":[{"title":"Overview","path":"templates/hcl_templates/blocks","filePath":"../content/docs/templates/hcl_templates/blocks/index.mdx","fullPath":"/packer/docs/templates/hcl_templates/blocks","id":"sidebar-nav-item-31"},{"title":"<code>build</code>","routes":[{"title":"Overview","path":"templates/hcl_templates/blocks/build","filePath":"../content/docs/templates/hcl_templates/blocks/build/index.mdx","fullPath":"/packer/docs/templates/hcl_templates/blocks/build","id":"sidebar-nav-item-33"},{"title":"<code>hcp_packer_registry</code>","path":"templates/hcl_templates/blocks/build/hcp_packer_registry","filePath":"../content/docs/templates/hcl_templates/blocks/build/hcp_packer_registry.mdx","fullPath":"/packer/docs/templates/hcl_templates/blocks/build/hcp_packer_registry","id":"sidebar-nav-item-34"},{"title":"<code>source</code>","path":"templates/hcl_templates/blocks/build/source","filePath":"../content/docs/templates/hcl_templates/blocks/build/source.mdx","fullPath":"/packer/docs/templates/hcl_templates/blocks/build/source","id":"sidebar-nav-item-35"},{"title":"<code>provisioner</code>","path":"templates/hcl_templates/blocks/build/provisioner","filePath":"../content/docs/templates/hcl_templates/blocks/build/provisioner.mdx","fullPath":"/packer/docs/templates/hcl_templates/blocks/build/provisioner","id":"sidebar-nav-item-36"},{"title":"<code>post-processor</code>","path":"templates/hcl_templates/blocks/build/post-processor","filePath":"../content/docs/templates/hcl_templates/blocks/build/post-processor.mdx","fullPath":"/packer/docs/templates/hcl_templates/blocks/build/post-processor","id":"sidebar-nav-item-37"},{"title":"<code>post-processors</code>","path":"templates/hcl_templates/blocks/build/post-processors","filePath":"../content/docs/templates/hcl_templates/blocks/build/post-processors.mdx","fullPath":"/packer/docs/templates/hcl_templates/blocks/build/post-processors","id":"sidebar-nav-item-38"}],"id":"sidebar-nav-item-32"},{"title":"<code>locals</code>","path":"templates/hcl_templates/blocks/locals","filePath":"../content/docs/templates/hcl_templates/blocks/locals.mdx","fullPath":"/packer/docs/templates/hcl_templates/blocks/locals","id":"sidebar-nav-item-39"},{"title":"<code>source</code>","path":"templates/hcl_templates/blocks/source","filePath":"../content/docs/templates/hcl_templates/blocks/source.mdx","fullPath":"/packer/docs/templates/hcl_templates/blocks/source","id":"sidebar-nav-item-40"},{"title":"<code>variable</code>","path":"templates/hcl_templates/blocks/variable","filePath":"../content/docs/templates/hcl_templates/blocks/variable.mdx","fullPath":"/packer/docs/templates/hcl_templates/blocks/variable","id":"sidebar-nav-item-41"},{"title":"<code>packer</code>","path":"templates/hcl_templates/blocks/packer","filePath":"../content/docs/templates/hcl_templates/blocks/packer.mdx","fullPath":"/packer/docs/templates/hcl_templates/blocks/packer","id":"sidebar-nav-item-42"},{"title":"<code>data</code>","path":"templates/hcl_templates/blocks/data","filePath":"../content/docs/templates/hcl_templates/blocks/data.mdx","fullPath":"/packer/docs/templates/hcl_templates/blocks/data","id":"sidebar-nav-item-43"}],"id":"sidebar-nav-item-30"},{"title":"Functions","routes":[{"title":"Overview","path":"templates/hcl_templates/functions","filePath":"../content/docs/templates/hcl_templates/functions/index.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions","id":"sidebar-nav-item-45"},{"title":"Contextual Functions","routes":[{"title":"aws_secretsmanager","path":"templates/hcl_templates/functions/contextual/aws_secretsmanager","filePath":"../content/docs/templates/hcl_templates/functions/contextual/aws_secretsmanager.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/contextual/aws_secretsmanager","id":"sidebar-nav-item-47"},{"title":"consul","path":"templates/hcl_templates/functions/contextual/consul","filePath":"../content/docs/templates/hcl_templates/functions/contextual/consul.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/contextual/consul","id":"sidebar-nav-item-48"},{"title":"env","path":"templates/hcl_templates/functions/contextual/env","filePath":"../content/docs/templates/hcl_templates/functions/contextual/env.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/contextual/env","id":"sidebar-nav-item-49"},{"title":"vault","path":"templates/hcl_templates/functions/contextual/vault","filePath":"../content/docs/templates/hcl_templates/functions/contextual/vault.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/contextual/vault","id":"sidebar-nav-item-50"}],"id":"sidebar-nav-item-46"},{"title":"Numeric Functions","routes":[{"title":"abs","path":"templates/hcl_templates/functions/numeric/abs","filePath":"../content/docs/templates/hcl_templates/functions/numeric/abs.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/numeric/abs","id":"sidebar-nav-item-52"},{"title":"ceil","path":"templates/hcl_templates/functions/numeric/ceil","filePath":"../content/docs/templates/hcl_templates/functions/numeric/ceil.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/numeric/ceil","id":"sidebar-nav-item-53"},{"title":"floor","path":"templates/hcl_templates/functions/numeric/floor","filePath":"../content/docs/templates/hcl_templates/functions/numeric/floor.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/numeric/floor","id":"sidebar-nav-item-54"},{"title":"log","path":"templates/hcl_templates/functions/numeric/log","filePath":"../content/docs/templates/hcl_templates/functions/numeric/log.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/numeric/log","id":"sidebar-nav-item-55"},{"title":"max","path":"templates/hcl_templates/functions/numeric/max","filePath":"../content/docs/templates/hcl_templates/functions/numeric/max.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/numeric/max","id":"sidebar-nav-item-56"},{"title":"min","path":"templates/hcl_templates/functions/numeric/min","filePath":"../content/docs/templates/hcl_templates/functions/numeric/min.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/numeric/min","id":"sidebar-nav-item-57"},{"title":"parseint","path":"templates/hcl_templates/functions/numeric/parseint","filePath":"../content/docs/templates/hcl_templates/functions/numeric/parseint.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/numeric/parseint","id":"sidebar-nav-item-58"},{"title":"pow","path":"templates/hcl_templates/functions/numeric/pow","filePath":"../content/docs/templates/hcl_templates/functions/numeric/pow.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/numeric/pow","id":"sidebar-nav-item-59"},{"title":"signum","path":"templates/hcl_templates/functions/numeric/signum","filePath":"../content/docs/templates/hcl_templates/functions/numeric/signum.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/numeric/signum","id":"sidebar-nav-item-60"}],"id":"sidebar-nav-item-51"},{"title":"String Functions","routes":[{"title":"chomp","path":"templates/hcl_templates/functions/string/chomp","filePath":"../content/docs/templates/hcl_templates/functions/string/chomp.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/string/chomp","id":"sidebar-nav-item-62"},{"title":"format","path":"templates/hcl_templates/functions/string/format","filePath":"../content/docs/templates/hcl_templates/functions/string/format.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/string/format","id":"sidebar-nav-item-63"},{"title":"formatlist","path":"templates/hcl_templates/functions/string/formatlist","filePath":"../content/docs/templates/hcl_templates/functions/string/formatlist.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/string/formatlist","id":"sidebar-nav-item-64"},{"title":"indent","path":"templates/hcl_templates/functions/string/indent","filePath":"../content/docs/templates/hcl_templates/functions/string/indent.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/string/indent","id":"sidebar-nav-item-65"},{"title":"join","path":"templates/hcl_templates/functions/string/join","filePath":"../content/docs/templates/hcl_templates/functions/string/join.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/string/join","id":"sidebar-nav-item-66"},{"title":"lower","path":"templates/hcl_templates/functions/string/lower","filePath":"../content/docs/templates/hcl_templates/functions/string/lower.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/string/lower","id":"sidebar-nav-item-67"},{"title":"replace","path":"templates/hcl_templates/functions/string/replace","filePath":"../content/docs/templates/hcl_templates/functions/string/replace.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/string/replace","id":"sidebar-nav-item-68"},{"title":"regex_replace","path":"templates/hcl_templates/functions/string/regex_replace","filePath":"../content/docs/templates/hcl_templates/functions/string/regex_replace.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/string/regex_replace","id":"sidebar-nav-item-69"},{"title":"regex","path":"templates/hcl_templates/functions/string/regex","filePath":"../content/docs/templates/hcl_templates/functions/string/regex.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/string/regex","id":"sidebar-nav-item-70"},{"title":"regexall","path":"templates/hcl_templates/functions/string/regexall","filePath":"../content/docs/templates/hcl_templates/functions/string/regexall.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/string/regexall","id":"sidebar-nav-item-71"},{"title":"split","path":"templates/hcl_templates/functions/string/split","filePath":"../content/docs/templates/hcl_templates/functions/string/split.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/string/split","id":"sidebar-nav-item-72"},{"title":"strrev","path":"templates/hcl_templates/functions/string/strrev","filePath":"../content/docs/templates/hcl_templates/functions/string/strrev.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/string/strrev","id":"sidebar-nav-item-73"},{"title":"substr","path":"templates/hcl_templates/functions/string/substr","filePath":"../content/docs/templates/hcl_templates/functions/string/substr.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/string/substr","id":"sidebar-nav-item-74"},{"title":"title","path":"templates/hcl_templates/functions/string/title","filePath":"../content/docs/templates/hcl_templates/functions/string/title.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/string/title","id":"sidebar-nav-item-75"},{"title":"trim","path":"templates/hcl_templates/functions/string/trim","filePath":"../content/docs/templates/hcl_templates/functions/string/trim.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/string/trim","id":"sidebar-nav-item-76"},{"title":"trimprefix","path":"templates/hcl_templates/functions/string/trimprefix","filePath":"../content/docs/templates/hcl_templates/functions/string/trimprefix.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/string/trimprefix","id":"sidebar-nav-item-77"},{"title":"trimsuffix","path":"templates/hcl_templates/functions/string/trimsuffix","filePath":"../content/docs/templates/hcl_templates/functions/string/trimsuffix.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/string/trimsuffix","id":"sidebar-nav-item-78"},{"title":"trimspace","path":"templates/hcl_templates/functions/string/trimspace","filePath":"../content/docs/templates/hcl_templates/functions/string/trimspace.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/string/trimspace","id":"sidebar-nav-item-79"},{"title":"upper","path":"templates/hcl_templates/functions/string/upper","filePath":"../content/docs/templates/hcl_templates/functions/string/upper.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/string/upper","id":"sidebar-nav-item-80"}],"id":"sidebar-nav-item-61"},{"title":"Collection Functions","routes":[{"title":"chunklist","path":"templates/hcl_templates/functions/collection/chunklist","filePath":"../content/docs/templates/hcl_templates/functions/collection/chunklist.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/chunklist","id":"sidebar-nav-item-82"},{"title":"coalesce","path":"templates/hcl_templates/functions/collection/coalesce","filePath":"../content/docs/templates/hcl_templates/functions/collection/coalesce.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/coalesce","id":"sidebar-nav-item-83"},{"title":"coalescelist","path":"templates/hcl_templates/functions/collection/coalescelist","filePath":"../content/docs/templates/hcl_templates/functions/collection/coalescelist.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/coalescelist","id":"sidebar-nav-item-84"},{"title":"compact","path":"templates/hcl_templates/functions/collection/compact","filePath":"../content/docs/templates/hcl_templates/functions/collection/compact.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/compact","id":"sidebar-nav-item-85"},{"title":"concat","path":"templates/hcl_templates/functions/collection/concat","filePath":"../content/docs/templates/hcl_templates/functions/collection/concat.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/concat","id":"sidebar-nav-item-86"},{"title":"contains","path":"templates/hcl_templates/functions/collection/contains","filePath":"../content/docs/templates/hcl_templates/functions/collection/contains.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/contains","id":"sidebar-nav-item-87"},{"title":"distinct","path":"templates/hcl_templates/functions/collection/distinct","filePath":"../content/docs/templates/hcl_templates/functions/collection/distinct.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/distinct","id":"sidebar-nav-item-88"},{"title":"element","path":"templates/hcl_templates/functions/collection/element","filePath":"../content/docs/templates/hcl_templates/functions/collection/element.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/element","id":"sidebar-nav-item-89"},{"title":"flatten","path":"templates/hcl_templates/functions/collection/flatten","filePath":"../content/docs/templates/hcl_templates/functions/collection/flatten.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/flatten","id":"sidebar-nav-item-90"},{"title":"index","path":"templates/hcl_templates/functions/collection/index-fn","filePath":"../content/docs/templates/hcl_templates/functions/collection/index-fn.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/index-fn","id":"sidebar-nav-item-91"},{"title":"keys","path":"templates/hcl_templates/functions/collection/keys","filePath":"../content/docs/templates/hcl_templates/functions/collection/keys.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/keys","id":"sidebar-nav-item-92"},{"title":"length","path":"templates/hcl_templates/functions/collection/length","filePath":"../content/docs/templates/hcl_templates/functions/collection/length.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/length","id":"sidebar-nav-item-93"},{"title":"lookup","path":"templates/hcl_templates/functions/collection/lookup","filePath":"../content/docs/templates/hcl_templates/functions/collection/lookup.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/lookup","id":"sidebar-nav-item-94"},{"title":"merge","path":"templates/hcl_templates/functions/collection/merge","filePath":"../content/docs/templates/hcl_templates/functions/collection/merge.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/merge","id":"sidebar-nav-item-95"},{"title":"range","path":"templates/hcl_templates/functions/collection/range","filePath":"../content/docs/templates/hcl_templates/functions/collection/range.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/range","id":"sidebar-nav-item-96"},{"title":"reverse","path":"templates/hcl_templates/functions/collection/reverse","filePath":"../content/docs/templates/hcl_templates/functions/collection/reverse.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/reverse","id":"sidebar-nav-item-97"},{"title":"setintersection","path":"templates/hcl_templates/functions/collection/setintersection","filePath":"../content/docs/templates/hcl_templates/functions/collection/setintersection.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/setintersection","id":"sidebar-nav-item-98"},{"title":"setproduct","path":"templates/hcl_templates/functions/collection/setproduct","filePath":"../content/docs/templates/hcl_templates/functions/collection/setproduct.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/setproduct","id":"sidebar-nav-item-99"},{"title":"setunion","path":"templates/hcl_templates/functions/collection/setunion","filePath":"../content/docs/templates/hcl_templates/functions/collection/setunion.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/setunion","id":"sidebar-nav-item-100"},{"title":"slice","path":"templates/hcl_templates/functions/collection/slice","filePath":"../content/docs/templates/hcl_templates/functions/collection/slice.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/slice","id":"sidebar-nav-item-101"},{"title":"sort","path":"templates/hcl_templates/functions/collection/sort","filePath":"../content/docs/templates/hcl_templates/functions/collection/sort.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/sort","id":"sidebar-nav-item-102"},{"title":"values","path":"templates/hcl_templates/functions/collection/values","filePath":"../content/docs/templates/hcl_templates/functions/collection/values.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/values","id":"sidebar-nav-item-103"},{"title":"zipmap","path":"templates/hcl_templates/functions/collection/zipmap","filePath":"../content/docs/templates/hcl_templates/functions/collection/zipmap.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/collection/zipmap","id":"sidebar-nav-item-104"}],"id":"sidebar-nav-item-81"},{"title":"Encoding Functions","routes":[{"title":"base64decode","path":"templates/hcl_templates/functions/encoding/base64decode","filePath":"../content/docs/templates/hcl_templates/functions/encoding/base64decode.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/encoding/base64decode","id":"sidebar-nav-item-106"},{"title":"base64encode","path":"templates/hcl_templates/functions/encoding/base64encode","filePath":"../content/docs/templates/hcl_templates/functions/encoding/base64encode.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/encoding/base64encode","id":"sidebar-nav-item-107"},{"title":"csvdecode","path":"templates/hcl_templates/functions/encoding/csvdecode","filePath":"../content/docs/templates/hcl_templates/functions/encoding/csvdecode.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/encoding/csvdecode","id":"sidebar-nav-item-108"},{"title":"jsondecode","path":"templates/hcl_templates/functions/encoding/jsondecode","filePath":"../content/docs/templates/hcl_templates/functions/encoding/jsondecode.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/encoding/jsondecode","id":"sidebar-nav-item-109"},{"title":"jsonencode","path":"templates/hcl_templates/functions/encoding/jsonencode","filePath":"../content/docs/templates/hcl_templates/functions/encoding/jsonencode.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/encoding/jsonencode","id":"sidebar-nav-item-110"},{"title":"urlencode","path":"templates/hcl_templates/functions/encoding/urlencode","filePath":"../content/docs/templates/hcl_templates/functions/encoding/urlencode.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/encoding/urlencode","id":"sidebar-nav-item-111"},{"title":"yamldecode","path":"templates/hcl_templates/functions/encoding/yamldecode","filePath":"../content/docs/templates/hcl_templates/functions/encoding/yamldecode.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/encoding/yamldecode","id":"sidebar-nav-item-112"},{"title":"yamlencode","path":"templates/hcl_templates/functions/encoding/yamlencode","filePath":"../content/docs/templates/hcl_templates/functions/encoding/yamlencode.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/encoding/yamlencode","id":"sidebar-nav-item-113"}],"id":"sidebar-nav-item-105"},{"title":"Filesystem Functions","routes":[{"title":"abspath","path":"templates/hcl_templates/functions/file/abspath","filePath":"../content/docs/templates/hcl_templates/functions/file/abspath.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/file/abspath","id":"sidebar-nav-item-115"},{"title":"basename","path":"templates/hcl_templates/functions/file/basename","filePath":"../content/docs/templates/hcl_templates/functions/file/basename.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/file/basename","id":"sidebar-nav-item-116"},{"title":"dirname","path":"templates/hcl_templates/functions/file/dirname","filePath":"../content/docs/templates/hcl_templates/functions/file/dirname.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/file/dirname","id":"sidebar-nav-item-117"},{"title":"file","path":"templates/hcl_templates/functions/file/file","filePath":"../content/docs/templates/hcl_templates/functions/file/file.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/file/file","id":"sidebar-nav-item-118"},{"title":"fileexists","path":"templates/hcl_templates/functions/file/fileexists","filePath":"../content/docs/templates/hcl_templates/functions/file/fileexists.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/file/fileexists","id":"sidebar-nav-item-119"},{"title":"fileset","path":"templates/hcl_templates/functions/file/fileset","filePath":"../content/docs/templates/hcl_templates/functions/file/fileset.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/file/fileset","id":"sidebar-nav-item-120"},{"title":"pathexpand","path":"templates/hcl_templates/functions/file/pathexpand","filePath":"../content/docs/templates/hcl_templates/functions/file/pathexpand.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/file/pathexpand","id":"sidebar-nav-item-121"},{"title":"templatefile","path":"templates/hcl_templates/functions/file/templatefile","filePath":"../content/docs/templates/hcl_templates/functions/file/templatefile.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/file/templatefile","id":"sidebar-nav-item-122"}],"id":"sidebar-nav-item-114"},{"title":"Date and Time Functions","routes":[{"title":"formatdate","path":"templates/hcl_templates/functions/datetime/formatdate","filePath":"../content/docs/templates/hcl_templates/functions/datetime/formatdate.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/datetime/formatdate","id":"sidebar-nav-item-124"},{"title":"timeadd","path":"templates/hcl_templates/functions/datetime/timeadd","filePath":"../content/docs/templates/hcl_templates/functions/datetime/timeadd.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/datetime/timeadd","id":"sidebar-nav-item-125"},{"title":"timestamp","path":"templates/hcl_templates/functions/datetime/timestamp","filePath":"../content/docs/templates/hcl_templates/functions/datetime/timestamp.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/datetime/timestamp","id":"sidebar-nav-item-126"},{"title":"legacy_isotime","path":"templates/hcl_templates/functions/datetime/legacy_isotime","filePath":"../content/docs/templates/hcl_templates/functions/datetime/legacy_isotime.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/datetime/legacy_isotime","id":"sidebar-nav-item-127"},{"title":"legacy_strftime","path":"templates/hcl_templates/functions/datetime/legacy_strftime","filePath":"../content/docs/templates/hcl_templates/functions/datetime/legacy_strftime.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/datetime/legacy_strftime","id":"sidebar-nav-item-128"}],"id":"sidebar-nav-item-123"},{"title":"Hash and Crypto Functions","routes":[{"title":"bcrypt","path":"templates/hcl_templates/functions/crypto/bcrypt","filePath":"../content/docs/templates/hcl_templates/functions/crypto/bcrypt.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/crypto/bcrypt","id":"sidebar-nav-item-130"},{"title":"md5","path":"templates/hcl_templates/functions/crypto/md5","filePath":"../content/docs/templates/hcl_templates/functions/crypto/md5.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/crypto/md5","id":"sidebar-nav-item-131"},{"title":"rsadecrypt","path":"templates/hcl_templates/functions/crypto/rsadecrypt","filePath":"../content/docs/templates/hcl_templates/functions/crypto/rsadecrypt.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/crypto/rsadecrypt","id":"sidebar-nav-item-132"},{"title":"sha1","path":"templates/hcl_templates/functions/crypto/sha1","filePath":"../content/docs/templates/hcl_templates/functions/crypto/sha1.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/crypto/sha1","id":"sidebar-nav-item-133"},{"title":"sha256","path":"templates/hcl_templates/functions/crypto/sha256","filePath":"../content/docs/templates/hcl_templates/functions/crypto/sha256.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/crypto/sha256","id":"sidebar-nav-item-134"},{"title":"sha512","path":"templates/hcl_templates/functions/crypto/sha512","filePath":"../content/docs/templates/hcl_templates/functions/crypto/sha512.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/crypto/sha512","id":"sidebar-nav-item-135"}],"id":"sidebar-nav-item-129"},{"title":"UUID Functions","routes":[{"title":"uuidv4","path":"templates/hcl_templates/functions/uuid/uuidv4","filePath":"../content/docs/templates/hcl_templates/functions/uuid/uuidv4.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/uuid/uuidv4","id":"sidebar-nav-item-137"},{"title":"uuidv5","path":"templates/hcl_templates/functions/uuid/uuidv5","filePath":"../content/docs/templates/hcl_templates/functions/uuid/uuidv5.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/uuid/uuidv5","id":"sidebar-nav-item-138"}],"id":"sidebar-nav-item-136"},{"title":"IP Network Functions","routes":[{"title":"cidrhost","path":"templates/hcl_templates/functions/ipnet/cidrhost","filePath":"../content/docs/templates/hcl_templates/functions/ipnet/cidrhost.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/ipnet/cidrhost","id":"sidebar-nav-item-140"},{"title":"cidrnetmask","path":"templates/hcl_templates/functions/ipnet/cidrnetmask","filePath":"../content/docs/templates/hcl_templates/functions/ipnet/cidrnetmask.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/ipnet/cidrnetmask","id":"sidebar-nav-item-141"},{"title":"cidrsubnet","path":"templates/hcl_templates/functions/ipnet/cidrsubnet","filePath":"../content/docs/templates/hcl_templates/functions/ipnet/cidrsubnet.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/ipnet/cidrsubnet","id":"sidebar-nav-item-142"},{"title":"cidrsubnets","path":"templates/hcl_templates/functions/ipnet/cidrsubnets","filePath":"../content/docs/templates/hcl_templates/functions/ipnet/cidrsubnets.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/ipnet/cidrsubnets","id":"sidebar-nav-item-143"}],"id":"sidebar-nav-item-139"},{"title":"Type Conversion Functions","routes":[{"title":"can","path":"templates/hcl_templates/functions/conversion/can","filePath":"../content/docs/templates/hcl_templates/functions/conversion/can.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/conversion/can","id":"sidebar-nav-item-145"},{"title":"convert","path":"templates/hcl_templates/functions/conversion/convert","filePath":"../content/docs/templates/hcl_templates/functions/conversion/convert.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/conversion/convert","id":"sidebar-nav-item-146"},{"title":"try","path":"templates/hcl_templates/functions/conversion/try","filePath":"../content/docs/templates/hcl_templates/functions/conversion/try.mdx","fullPath":"/packer/docs/templates/hcl_templates/functions/conversion/try","id":"sidebar-nav-item-147"}],"id":"sidebar-nav-item-144"}],"id":"sidebar-nav-item-44"},{"title":"Variables","path":"templates/hcl_templates/variables","filePath":"../content/docs/templates/hcl_templates/variables.mdx","fullPath":"/packer/docs/templates/hcl_templates/variables","id":"sidebar-nav-item-148"},{"title":"Locals","path":"templates/hcl_templates/locals","filePath":"../content/docs/templates/hcl_templates/locals.mdx","fullPath":"/packer/docs/templates/hcl_templates/locals","id":"sidebar-nav-item-149"},{"title":"Contextual Variables","path":"templates/hcl_templates/contextual-variables","filePath":"../content/docs/templates/hcl_templates/contextual-variables.mdx","fullPath":"/packer/docs/templates/hcl_templates/contextual-variables","id":"sidebar-nav-item-150"},{"title":"Data Sources","path":"templates/hcl_templates/datasources","filePath":"../content/docs/templates/hcl_templates/datasources.mdx","fullPath":"/packer/docs/templates/hcl_templates/datasources","id":"sidebar-nav-item-151"},{"title":"Path Variables","path":"templates/hcl_templates/path-variables","filePath":"../content/docs/templates/hcl_templates/path-variables.mdx","fullPath":"/packer/docs/templates/hcl_templates/path-variables","id":"sidebar-nav-item-152"},{"title":"Syntax","path":"templates/hcl_templates/syntax","filePath":"../content/docs/templates/hcl_templates/syntax.mdx","fullPath":"/packer/docs/templates/hcl_templates/syntax","id":"sidebar-nav-item-153"},{"title":"Only Except","path":"templates/hcl_templates/onlyexcept","filePath":"../content/docs/templates/hcl_templates/onlyexcept.mdx","fullPath":"/packer/docs/templates/hcl_templates/onlyexcept","id":"sidebar-nav-item-154"},{"title":"Expressions","path":"templates/hcl_templates/expressions","filePath":"../content/docs/templates/hcl_templates/expressions.mdx","fullPath":"/packer/docs/templates/hcl_templates/expressions","id":"sidebar-nav-item-155"},{"title":"JSON Syntax","path":"templates/hcl_templates/syntax-json","filePath":"../content/docs/templates/hcl_templates/syntax-json.mdx","fullPath":"/packer/docs/templates/hcl_templates/syntax-json","id":"sidebar-nav-item-156"}],"id":"sidebar-nav-item-28"},{"title":"JSON Templates","routes":[{"title":"Overview","path":"templates/legacy_json_templates","filePath":"../content/docs/templates/legacy_json_templates/index.mdx","fullPath":"/packer/docs/templates/legacy_json_templates","id":"sidebar-nav-item-158"},{"title":"Builders","path":"templates/legacy_json_templates/builders","filePath":"../content/docs/templates/legacy_json_templates/builders.mdx","fullPath":"/packer/docs/templates/legacy_json_templates/builders","id":"sidebar-nav-item-159"},{"title":"Communicators","path":"templates/legacy_json_templates/communicator","filePath":"../content/docs/templates/legacy_json_templates/communicator.mdx","fullPath":"/packer/docs/templates/legacy_json_templates/communicator","id":"sidebar-nav-item-160"},{"title":"Engine","path":"templates/legacy_json_templates/engine","filePath":"../content/docs/templates/legacy_json_templates/engine.mdx","fullPath":"/packer/docs/templates/legacy_json_templates/engine","id":"sidebar-nav-item-161"},{"title":"Post-Processors","path":"templates/legacy_json_templates/post-processors","filePath":"../content/docs/templates/legacy_json_templates/post-processors.mdx","fullPath":"/packer/docs/templates/legacy_json_templates/post-processors","id":"sidebar-nav-item-162"},{"title":"Provisioners","path":"templates/legacy_json_templates/provisioners","filePath":"../content/docs/templates/legacy_json_templates/provisioners.mdx","fullPath":"/packer/docs/templates/legacy_json_templates/provisioners","id":"sidebar-nav-item-163"},{"title":"User Variables","path":"templates/legacy_json_templates/user-variables","filePath":"../content/docs/templates/legacy_json_templates/user-variables.mdx","fullPath":"/packer/docs/templates/legacy_json_templates/user-variables","id":"sidebar-nav-item-164"}],"id":"sidebar-nav-item-157"}],"id":"sidebar-nav-item-25"},{"divider":true,"id":"sidebar-nav-item-165"},{"title":"Communicators","routes":[{"title":"Overview","path":"communicators","filePath":"../content/docs/communicators/index.mdx","fullPath":"/packer/docs/communicators","id":"sidebar-nav-item-167"},{"title":"SSH","path":"communicators/ssh","filePath":"../content/docs/communicators/ssh.mdx","fullPath":"/packer/docs/communicators/ssh","id":"sidebar-nav-item-168"},{"title":"WINRM","path":"communicators/winrm","filePath":"../content/docs/communicators/winrm.mdx","fullPath":"/packer/docs/communicators/winrm","id":"sidebar-nav-item-169"}],"id":"sidebar-nav-item-166"},{"title":"Builders","routes":[{"title":"Overview","path":"builders","filePath":"../content/docs/builders/index.mdx","fullPath":"/packer/docs/builders","id":"sidebar-nav-item-171"},{"title":"File","path":"builders/file","filePath":"../content/docs/builders/file.mdx","fullPath":"/packer/docs/builders/file","id":"sidebar-nav-item-172"},{"title":"Null","path":"builders/null","filePath":"../content/docs/builders/null.mdx","fullPath":"/packer/docs/builders/null","id":"sidebar-nav-item-173"},{"title":"Custom","path":"builders/custom","filePath":"../content/docs/builders/custom.mdx","fullPath":"/packer/docs/builders/custom","id":"sidebar-nav-item-174"},{"title":"Community-Supported","path":"builders/community-supported","filePath":"../content/docs/builders/community-supported.mdx","fullPath":"/packer/docs/builders/community-supported","id":"sidebar-nav-item-175"}],"id":"sidebar-nav-item-170"},{"title":"Data Sources","routes":[{"title":"Overview","path":"datasources","filePath":"../content/docs/datasources/index.mdx","fullPath":"/packer/docs/datasources","id":"sidebar-nav-item-177"},{"title":"HCP Packer","routes":[{"title":"Overview","path":"datasources/hcp","filePath":"../content/docs/datasources/hcp/index.mdx","fullPath":"/packer/docs/datasources/hcp","id":"sidebar-nav-item-179"},{"title":"Iteration","path":"datasources/hcp/hcp-packer-iteration","filePath":"../content/docs/datasources/hcp/hcp-packer-iteration.mdx","fullPath":"/packer/docs/datasources/hcp/hcp-packer-iteration","id":"sidebar-nav-item-180"},{"title":"Image","path":"datasources/hcp/hcp-packer-image","filePath":"../content/docs/datasources/hcp/hcp-packer-image.mdx","fullPath":"/packer/docs/datasources/hcp/hcp-packer-image","id":"sidebar-nav-item-181"}],"id":"sidebar-nav-item-178"},{"title":"HTTP","path":"datasources/http","filePath":"../content/docs/datasources/http.mdx","fullPath":"/packer/docs/datasources/http","id":"sidebar-nav-item-182"}],"id":"sidebar-nav-item-176"},{"title":"Provisioners","routes":[{"title":"Overview","path":"provisioners","filePath":"../content/docs/provisioners/index.mdx","fullPath":"/packer/docs/provisioners","id":"sidebar-nav-item-184"},{"title":"Breakpoint","path":"provisioners/breakpoint","filePath":"../content/docs/provisioners/breakpoint.mdx","fullPath":"/packer/docs/provisioners/breakpoint","id":"sidebar-nav-item-185"},{"title":"File","path":"provisioners/file","filePath":"../content/docs/provisioners/file.mdx","fullPath":"/packer/docs/provisioners/file","id":"sidebar-nav-item-186"},{"title":"PowerShell","path":"provisioners/powershell","filePath":"../content/docs/provisioners/powershell.mdx","fullPath":"/packer/docs/provisioners/powershell","id":"sidebar-nav-item-187"},{"title":"Shell","path":"provisioners/shell","filePath":"../content/docs/provisioners/shell.mdx","fullPath":"/packer/docs/provisioners/shell","id":"sidebar-nav-item-188"},{"title":"Shell (Local)","path":"provisioners/shell-local","filePath":"../content/docs/provisioners/shell-local.mdx","fullPath":"/packer/docs/provisioners/shell-local","id":"sidebar-nav-item-189"},{"title":"Windows Shell","path":"provisioners/windows-shell","filePath":"../content/docs/provisioners/windows-shell.mdx","fullPath":"/packer/docs/provisioners/windows-shell","id":"sidebar-nav-item-190"},{"title":"Windows Restart","path":"provisioners/windows-restart","filePath":"../content/docs/provisioners/windows-restart.mdx","fullPath":"/packer/docs/provisioners/windows-restart","id":"sidebar-nav-item-191"},{"title":"Custom","path":"provisioners/custom","filePath":"../content/docs/provisioners/custom.mdx","fullPath":"/packer/docs/provisioners/custom","id":"sidebar-nav-item-192"},{"title":"Community-Supported","path":"provisioners/community-supported","filePath":"../content/docs/provisioners/community-supported.mdx","fullPath":"/packer/docs/provisioners/community-supported","id":"sidebar-nav-item-193"}],"id":"sidebar-nav-item-183"},{"title":"Post-Processors","routes":[{"title":"Overview","path":"post-processors","filePath":"../content/docs/post-processors/index.mdx","fullPath":"/packer/docs/post-processors","id":"sidebar-nav-item-195"},{"title":"Artifice","path":"post-processors/artifice","filePath":"../content/docs/post-processors/artifice.mdx","fullPath":"/packer/docs/post-processors/artifice","id":"sidebar-nav-item-196"},{"title":"Compress","path":"post-processors/compress","filePath":"../content/docs/post-processors/compress.mdx","fullPath":"/packer/docs/post-processors/compress","id":"sidebar-nav-item-197"},{"title":"Checksum","path":"post-processors/checksum","filePath":"../content/docs/post-processors/checksum.mdx","fullPath":"/packer/docs/post-processors/checksum","id":"sidebar-nav-item-198"},{"title":"Manifest","path":"post-processors/manifest","filePath":"../content/docs/post-processors/manifest.mdx","fullPath":"/packer/docs/post-processors/manifest","id":"sidebar-nav-item-199"},{"title":"Shell (Local)","path":"post-processors/shell-local","filePath":"../content/docs/post-processors/shell-local.mdx","fullPath":"/packer/docs/post-processors/shell-local","id":"sidebar-nav-item-200"},{"title":"Community-Supported","path":"post-processors/community-supported","filePath":"../content/docs/post-processors/community-supported.mdx","fullPath":"/packer/docs/post-processors/community-supported","id":"sidebar-nav-item-201"}],"id":"sidebar-nav-item-194"},{"divider":true,"id":"sidebar-nav-item-202"},{"title":"Installing Packer","path":"install","filePath":"../content/docs/install.mdx","fullPath":"/packer/docs/install","id":"sidebar-nav-item-203"},{"title":"Configuring Packer","path":"configure","filePath":"../content/docs/configure.mdx","fullPath":"/packer/docs/configure","id":"sidebar-nav-item-204"},{"divider":true,"id":"sidebar-nav-item-205"},{"title":"Plugins","routes":[{"title":"Overview","path":"plugins","filePath":"../content/docs/plugins/index.mdx","fullPath":"/packer/docs/plugins","id":"sidebar-nav-item-207"},{"title":"Installing Plugins","path":"plugins/install-plugins","filePath":"../content/docs/plugins/install-plugins.mdx","fullPath":"/packer/docs/plugins/install-plugins","id":"sidebar-nav-item-208"},{"title":"External Plugins","href":null,"fullPath":"/packer/plugins","id":"sidebar-nav-item-209","path":"/plugins"},{"title":"Developing Plugins","routes":[{"title":"Overview","path":"plugins/creation","filePath":"../content/docs/plugins/creation/index.mdx","fullPath":"/packer/docs/plugins/creation","id":"sidebar-nav-item-211"},{"title":"Custom Builders","path":"plugins/creation/custom-builders","filePath":"../content/docs/plugins/creation/custom-builders.mdx","fullPath":"/packer/docs/plugins/creation/custom-builders","id":"sidebar-nav-item-212"},{"title":"Custom Post-Processors","path":"plugins/creation/custom-post-processors","filePath":"../content/docs/plugins/creation/custom-post-processors.mdx","fullPath":"/packer/docs/plugins/creation/custom-post-processors","id":"sidebar-nav-item-213"},{"title":"Custom Provisioners","path":"plugins/creation/custom-provisioners","filePath":"../content/docs/plugins/creation/custom-provisioners.mdx","fullPath":"/packer/docs/plugins/creation/custom-provisioners","id":"sidebar-nav-item-214"},{"title":"Custom Data Sources","path":"plugins/creation/custom-datasources","filePath":"../content/docs/plugins/creation/custom-datasources.mdx","fullPath":"/packer/docs/plugins/creation/custom-datasources","id":"sidebar-nav-item-215"},{"title":"HCP Packer Support","path":"plugins/creation/hcp-support","filePath":"../content/docs/plugins/creation/hcp-support.mdx","fullPath":"/packer/docs/plugins/creation/hcp-support","id":"sidebar-nav-item-216"}],"id":"sidebar-nav-item-210"}],"id":"sidebar-nav-item-206"},{"title":"Integration Program","path":"partnerships","filePath":"../content/docs/partnerships.mdx","fullPath":"/packer/docs/partnerships","id":"sidebar-nav-item-217"},{"title":"Community Tools","path":"community-tools","filePath":"../content/docs/community-tools.mdx","fullPath":"/packer/docs/community-tools","id":"sidebar-nav-item-218"},{"divider":true,"id":"sidebar-nav-item-219"},{"title":"Debugging","path":"debugging","filePath":"../content/docs/debugging.mdx","fullPath":"/packer/docs/debugging","id":"sidebar-nav-item-220"}],"title":"Documentation","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/packer/blob/main/website/../content/docs/communicators/winrm.mdx"},"metadata":{"title":"Communicators - Templates","description":"Communicators are the mechanism Packer uses to upload files, execute scripts,\netc. with the machine being created.\n","layout":null},"outlineItems":[{"title":"WinRM Communicator","url":"#winrm-communicator","dataHeapTrack":"toc-list-item-index-0"},{"title":"Getting Ready to Use the WinRM Communicator","url":"#getting-ready-to-use-the-winrm-communicator","dataHeapTrack":"toc-list-item-index-1"},{"title":"WinRM Communicator Options","url":"#winrm-communicator-options","dataHeapTrack":"toc-list-item-index-2"},{"title":"Examples","url":"#examples","dataHeapTrack":"toc-list-item-index-3"}],"pageHeading":{"id":"winrm-communicator","title":"WinRM Communicator"},"mdxSource":{"compiledSource":"var l=Object.defineProperty,N=Object.defineProperties;var u=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;var i=(a,n,t)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t,e=(a,n)=>{for(var t in n||(n={}))p.call(n,t)&&i(a,t,n[t]);if(o)for(var t of o(n))r.call(n,t)&&i(a,t,n[t]);return a},m=(a,n)=>N(a,u(n));var c=(a,n)=>{var t={};for(var s in a)p.call(a,s)&&n.indexOf(s)<0&&(t[s]=a[s]);if(a!=null&&o)for(var s of o(a))n.indexOf(s)<0&&r.call(a,s)&&(t[s]=a[s]);return t};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var s=t,{components:a}=s,n=c(s,[\"components\"]);return mdx(MDXLayout,m(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,`Communicators are the mechanism Packer uses to upload files, execute scripts,\netc. with the machine being created. The WinRM communicator uses the\nWindows Remote Management protocol to do this.`),mdx(\"h2\",e({},{id:\"getting-ready-to-use-the-winrm-communicator\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#getting-ready-to-use-the-winrm-communicator\",\"aria-label\":\"getting ready to use the winrm communicator permalink\"}),\"\\xBB\"),\"Getting Ready to Use the WinRM Communicator\"),mdx(\"p\",null,`The WinRM communicator is not the default communicator, so you will always have\nto set the `,mdx(\"inlineCode\",{parentName:\"p\"},'\"communicator\": \"winrm\",'),` template option explicitly. In addition,\nyou will almost always have to provide a pre-run script that enables and\nconfigures WinRM on the guest machine. This will generally be in the form of a\nPowerShell script or a batch file.`),mdx(\"p\",null,`If you are building from a brand-new and unconfigured operating system\nimage, you will need to provide this pre-run script as part of your\nAutounattend.xml file, required by Windows for automatic operating system\ninstallation. If you are building in a cloud or from a pre-installed image, your\nmethod for providing this pre-run script will vary based on the builder. Please\nrefer to each builder's documentation for more information on how to supply the\nwinrm configuration script.`),mdx(\"p\",null,`If you are unfamiliar with how to use an autounattend file, take a look at our\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/guides/automatic-operating-system-installs\"}),\"quick guides\"),`; knowing\nhow to automatically initalize your operating system is critical for being able\nto successfully use Packer to build from an iso.`),mdx(\"h2\",e({},{id:\"winrm-communicator-options\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#winrm-communicator-options\",\"aria-label\":\"winrm communicator options permalink\"}),\"\\xBB\"),\"WinRM Communicator Options\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"winrm_username\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#winrm_username\",\"aria-label\":\"winrm_username permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"winrm_username\")),\" (string) - The username to use to connect to WinRM.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"winrm_password\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#winrm_password\",\"aria-label\":\"winrm_password permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"winrm_password\")),\" (string) - The password to use to connect to WinRM.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"winrm_host\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#winrm_host\",\"aria-label\":\"winrm_host permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"winrm_host\")),\" (string) - The address for WinRM to connect to.\"),mdx(\"p\",{parentName:\"li\"},`NOTE: If using an Amazon EBS builder, you can specify the interface\nWinRM connects to via\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/plugins/builders/amazon/ebs#ssh_interface\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ssh_interface\")))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"winrm_no_proxy\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#winrm_no_proxy\",\"aria-label\":\"winrm_no_proxy permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"winrm_no_proxy\")),\" (bool) - Setting this to \",mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),` adds the remote\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"host:port\"),\" to the \",mdx(\"inlineCode\",{parentName:\"p\"},\"NO_PROXY\"),` environment variable. This has the effect of\nbypassing any configured proxies when connecting to the remote host.\nDefault to `,mdx(\"inlineCode\",{parentName:\"p\"},\"false\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"winrm_port\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#winrm_port\",\"aria-label\":\"winrm_port permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"winrm_port\")),\" (int) - The WinRM port to connect to. This defaults to \",mdx(\"inlineCode\",{parentName:\"p\"},\"5985\"),` for plain\nunencrypted connection and `,mdx(\"inlineCode\",{parentName:\"p\"},\"5986\"),\" for SSL when \",mdx(\"inlineCode\",{parentName:\"p\"},\"winrm_use_ssl\"),` is set to\ntrue.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"winrm_timeout\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#winrm_timeout\",\"aria-label\":\"winrm_timeout permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"winrm_timeout\")),` (duration string | ex: \"1h5m2s\") - The amount of time to wait for WinRM to become available. This defaults\nto `,mdx(\"inlineCode\",{parentName:\"p\"},\"30m\"),\" since setting up a Windows machine generally takes a long time.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"winrm_use_ssl\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#winrm_use_ssl\",\"aria-label\":\"winrm_use_ssl permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"winrm_use_ssl\")),\" (bool) - If \",mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),\", use HTTPS for WinRM.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"winrm_insecure\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#winrm_insecure\",\"aria-label\":\"winrm_insecure permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"winrm_insecure\")),\" (bool) - If \",mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),\", do not check server certificate chain and host name.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"winrm_use_ntlm\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#winrm_use_ntlm\",\"aria-label\":\"winrm_use_ntlm permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"winrm_use_ntlm\")),\" (bool) - If \",mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),`, NTLMv2 authentication (with session security) will be used\nfor WinRM, rather than default (basic authentication), removing the\nrequirement for basic authentication to be enabled within the target\nguest. Further reading for remote connection authentication can be found\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://msdn.microsoft.com/en-us/library/aa384295(v=vs.85).aspx\"}),\"here\"),\".\"))),mdx(\"h2\",e({},{id:\"examples\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#examples\",\"aria-label\":\"examples permalink\"}),\"\\xBB\"),\"Examples\"),mdx(\"h3\",e({},{id:\"basics-of-winrm-connection\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#basics-of-winrm-connection\",\"aria-label\":\"basics of winrm connection permalink\"}),\"\\xBB\"),\"Basics of WinRM Connection\"),mdx(\"p\",null,`Please note that WinRM is not a Packer-specific protocol. Microsoft has a great\ndeal of documentation about WinRM. If you find after reading this guide that\nyou are still not able to connect via WinRM, check the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.microsoft.com/en-us/windows/win32/winrm/installation-and-configuration-for-windows-remote-management\"}),\"Microsoft documentation\"),`\nto make sure there isn't anything you're missing.`),mdx(\"p\",null,`There are some steps that you will normally need to take in order for Packer\nto be able to connect via WinRM`),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"Set up a username and password that Packer to connect with.\"),mdx(\"li\",{parentName:\"ol\"},`Make any necesary registry edits to enable remote execution\n(and remote execution with elevated privileges, if needed)`),mdx(\"li\",{parentName:\"ol\"},\"Start WinRM, setting any config needed for allowing basic auth\"),mdx(\"li\",{parentName:\"ol\"},\"Open ports 5985 and/or 5986 depending on how you're connecting\"),mdx(\"li\",{parentName:\"ol\"},\"launch WinRM and set it to automatically launch when the computer restarts\"),mdx(\"li\",{parentName:\"ol\"},`If necessary, generate a self-signed certificate or provide a real certificate\nto the WinRM listener.`)),mdx(\"h4\",e({},{id:\"configuring-winrm-in-vmware\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#configuring-winrm-in-vmware\",\"aria-label\":\"configuring winrm in vmware permalink\"}),\"\\xBB\"),\"Configuring WinRM in VMware\"),mdx(\"p\",null,`If you are configuring WinRM using an Autounattend.xml, the simplest way to set\nup WinRM is to put the configuration commands directly into the Autounattend\nfile as shown `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/StefanScherer/packer-windows/blob/6e603e904e9b280eeb97f7eb542940a043954112/answer_files/2008_r2_core/Autounattend.xml#L157-L234\"}),\"here\")),mdx(\"p\",null,`Instead of entering each line individually, you can also add a batch file to\nyour autounattend that contains the commands for configuring winrm. Depending\non your winrm setup, this could be a complex batch file, or a very simple one.`),mdx(\"p\",null,`Below is an example of how we would call a batch file from inside the\nAutounattend file.`),mdx(\"pre\",e({},{className:\"language-xml\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-xml\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"FirstLogonCommands\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n`,\"  ...\",`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"SynchronousCommand\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"token attr-name\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token namespace\"}),\"wcm:\"),\"action\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"add\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"CommandLine\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),\"cmd.exe /c a:\\\\winrmConfig.bat\",mdx(\"span\",e({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"CommandLine\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"Description\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),\"Configure WinRM\",mdx(\"span\",e({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"Description\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"Order\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),\"3\",mdx(\"span\",e({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"Order\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"RequiresUserInput\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),\"true\",mdx(\"span\",e({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"RequiresUserInput\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"SynchronousCommand\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n`,\"  ...\",`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"FirstLogonCommands\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n`)),mdx(\"p\",null,\"It is also possible to call PowerShell scripts in a similar manner.\"),mdx(\"p\",null,\"The winrmConfig.bat referenced above can be as simple as\"),mdx(\"pre\",e({},{className:\"language-powershell\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-powershell\"}),\"rem basic config \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"for\"),\" winrm\",`\n`,\"cmd\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"exe \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"c winrm quickconfig \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"-\"),\"q\",`\n`,`\n`,\"rem allow unencrypted traffic\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" and configure auth to use basic username\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"password auth\",`\n`,\"cmd\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"exe \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"c winrm \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"set\"),\" winrm\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"config\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"service @\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\"AllowUnencrypted=\",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"true\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"cmd\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"exe \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"c winrm \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"set\"),\" winrm\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"config\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"service\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"auth @\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\"Basic=\",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"true\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,\"rem update firewall rules to open the right port and to allow remote administration\",`\n`,\"cmd\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"exe \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"c netsh advfirewall firewall \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"set\"),\" rule \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"group\"),\"=\",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"remote administration\"'),\" new enable=yes\",`\n`,`\n`,\"rem restart winrm\",`\n`,\"cmd\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"exe \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"c net stop winrm\",`\n`,\"cmd\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"exe \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"c net \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"start\"),\" winrm\",`\n`)),mdx(\"p\",null,\"Please note that the above batch file is \",mdx(\"em\",{parentName:\"p\"},\"extremely\"),` simplistic, and not secure.\nIt is intended to be an example of the bare minimum configuration. Below, you'll\nfind a more complicated example of a more secure WinRM configuration process.`),mdx(\"p\",null,`This batch file will only work for HTTP connections, not HTTPS, but will enable\nyou to connect using only the username and password created earlier in the\nAutounattend file. The above batchfile will allow you to connect using a very\nsimple Packer config:`),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"communicator\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"winrm\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"winrm_username\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"packeruser\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"winrm_password\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"SecretPassword\"'),`\n`)),mdx(\"p\",null,`A more complex example of a PowerShell script used for configuration can be seen\nbelow.`),mdx(\"pre\",e({},{className:\"language-powershell\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-powershell\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# A Packer config that works with this example would be:\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"#\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"#\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'#    \"winrm_username\": \"Administrator\",'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'#    \"winrm_password\": \"SuperS3cr3t!!!\",'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'#    \"winrm_insecure\": true,'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'#    \"winrm_use_ssl\": true'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"#\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"#\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# Create username and password\"),`\n`,\"net user Administrator SuperS3cr3t!\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"!\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"!\"),`\n`,\"wmic useraccount where \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),`\"name='Administrator'\"`),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"set\"),\" PasswordExpires=FALSE\",`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"Set-ExecutionPolicy\"),\" Unrestricted \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"-\"),\"Scope LocalMachine \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"-\"),\"Force \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"-\"),\"ErrorAction Ignore\",`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# Don't set this before Set-ExecutionPolicy as it throws an error\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token variable\"}),\"$ErrorActionPreference\"),\" = \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"stop\"'),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# Remove HTTP listener\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"Remove-Item\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"-\"),\"Path WSMan:\\\\Localhost\\\\listener\\\\listener\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"*\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"-\"),\"Recurse\",`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# Create a self-signed certificate to let ssl work\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token variable\"}),\"$Cert\"),\" = \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"New-SelfSignedCertificate\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"-\"),\"CertstoreLocation Cert:\\\\LocalMachine\\\\My \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"-\"),\"DnsName \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"packer\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"New-Item\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"-\"),\"Path WSMan:\\\\LocalHost\\\\Listener \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"-\"),\"Transport HTTPS \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"-\"),\"Address \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"*\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"-\"),\"CertificateThumbPrint \",mdx(\"span\",e({parentName:\"code\"},{className:\"token variable\"}),\"$Cert\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"Thumbprint \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"-\"),\"Force\",`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# WinRM\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"write-output\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Setting up WinRM\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"write-host\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"(host) setting up WinRM\"'),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# Configure WinRM to allow unencrypted communication, and provide the\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# self-signed cert to the WinRM listener.\"),`\n`,\"cmd\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"exe \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"c winrm quickconfig \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"-\"),\"q\",`\n`,\"cmd\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"exe \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"c winrm \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"set\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"winrm/config/service\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),`'@{AllowUnencrypted=\"true\"}'`),`\n`,\"cmd\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"exe \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"c winrm \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"set\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"winrm/config/client\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),`'@{AllowUnencrypted=\"true\"}'`),`\n`,\"cmd\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"exe \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"c winrm \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"set\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"winrm/config/service/auth\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),`'@{Basic=\"true\"}'`),`\n`,\"cmd\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"exe \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"c winrm \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"set\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"winrm/config/client/auth\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),`'@{Basic=\"true\"}'`),`\n`,\"cmd\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"exe \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"c winrm \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"set\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"winrm/config/service/auth\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),`'@{CredSSP=\"true\"}'`),`\n`,\"cmd\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"exe \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"c winrm \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"set\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"winrm/config/listener?Address=*+Transport=HTTPS\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"@{Port=`\"5986`\";Hostname=`\"packer`\";CertificateThumbprint=`\"',mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"$\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token variable\"}),\"$Cert\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),\"Thumbprint\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\")\")),'`\"}\"'),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# Make sure appropriate firewall port openings exist\"),`\n`,\"cmd\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"exe \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"c netsh advfirewall firewall \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"set\"),\" rule \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"group\"),\"=\",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"remote administration\"'),\" new enable=yes\",`\n`,\"cmd\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"exe \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"c netsh firewall add portopening TCP 5986 \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Port 5986\"'),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# Restart WinRM, and set it so that it auto-launches on startup.\"),`\n`,\"cmd\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"exe \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"c net stop winrm\",`\n`,\"cmd\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"exe \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"c \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"sc\"),\" config winrm \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"start\"),\"= auto\",`\n`,\"cmd\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"exe \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"/\"),\"c net \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"start\"),\" winrm\",`\n`)),mdx(\"p\",null,`Please note that having WinRM auto-launch on all start ups may not be the right\nchoice for you, if you don't need the server to recieve WinRM connections in the\nfuture. Clean up after yourself and close unnecesary firewall ports at a final\nprovisioning step to make sure your image is secure.`),mdx(\"h4\",e({},{id:\"configuring-winrm-in-the-cloud\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#configuring-winrm-in-the-cloud\",\"aria-label\":\"configuring winrm in the cloud permalink\"}),\"\\xBB\"),\"Configuring WinRM in the Cloud\"),mdx(\"p\",null,`Most clouds allow you to provide a configuration script that runs when the\ninstance is launched. In AWS, this is the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/plugins/builders/amazon/ebs#user_data_file\"}),\"user_data_file\"),`. In Google\nCloud, this is provided using the `,mdx(\"inlineCode\",{parentName:\"p\"},\"windows-startup-script-cmd\"),`\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/plugins/builders/googlecompute#metadata\"}),\"metadata\"),` tag.\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/plugins/builders/googlecompute#windows-example\"}),\"Example\")),mdx(\"p\",null,`Essentially, these files are powershell or cmd scripts that configure winrm,\nwithout having to be wrapped in an Autounattend. Provide the script in the\nformat requested by each cloud, and make sure you manually configure any\nfirewall rules that the cloud doesn't allow you to manage internally. More\nspecific details for each cloud can be found in the builder sections.`),mdx(\"p\",null,`The above examples will work in cloud prep too, but may be overkill depending on\nhow much preconfiguration the cloud has done for you.`))}MDXContent.isMDXComponent=!0;\n","scope":{"version":"latest"}},"product":{"name":"Packer","slug":"packer","algoliaConfig":{"indexName":"product_PACKER","searchOnlyApiKey":"4e1ea7f4bf4335ac43d9f28463e42148"},"analyticsConfig":{"includedDomains":"packer.io www.packer.io","segmentWriteKey":"AjXdfmTTk1I9q9dfyePuDFHBrz1tCO3l"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Packer by HashiCorp","description":"Packer helps you create golden images for multiple platforms from a single source configuration.","image":"https://www.packer.io/packer-public/img/og-image.png","icon":[{"href":"/packer-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiConf","url":"https://hashiconf.com/2023?utm_source=direct&utm_medium=banner&utm_campaign=23Q3_HASHICONFGLOBAL_EVENT&utm_content=&utm_offer=event","text":"Our community conference is taking place in San Francisco and online October 10-12.","linkText":"Register now","expirationDate":""},"version":"1.7.10","basePaths":["docs","guides","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"guide","name":"Guides","path":"guides"},{"iconName":"plug","name":"Plugins","path":"plugins"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Packer Integrations."},"currentRootDocsPath":{"iconName":"docs","name":"Documentation","path":"docs"}},"projectName":null,"versions":null},"__N_SSG":true}