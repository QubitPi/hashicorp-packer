(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3372],{81823:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/open-api-docs-preview-v2/[[...page]]",function(){return n(65086)}])},12710:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var i=n(85893),r=n(67294);let o=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",title:o,...s}=e,l=(0,r.useMemo)(()=>o?"title-"+Math.random().toString(36).substr(2,9):void 0,[o]);return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":!o,ref:t,"aria-labelledby":l,...s,children:[o?(0,i.jsx)("title",{id:l,children:o}):null,(0,i.jsx)("path",{fill:n,fillRule:"evenodd",d:"M6.407.753L.75 6.409a2.25 2.25 0 000 3.182l5.657 5.657a2.25 2.25 0 003.182 0l5.657-5.657a2.25 2.25 0 000-3.182L9.589.753a2.25 2.25 0 00-3.182 0zM7 11a1 1 0 011-1h.007a1 1 0 110 2H8a1 1 0 01-1-1zm1.75-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z",clipRule:"evenodd"})]})})},69313:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var i=n(85893),r=n(67294);let o=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",title:o,...s}=e,l=(0,r.useMemo)(()=>o?"title-"+Math.random().toString(36).substr(2,9):void 0,[o]);return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24","aria-hidden":!o,ref:t,"aria-labelledby":l,...s,children:[o?(0,i.jsx)("title",{id:l,children:o}):null,(0,i.jsxs)("g",{fill:n,children:[(0,i.jsx)("path",{d:"M12 10.5a.75.75 0 01.75.75v5.5a.75.75 0 01-1.5 0v-5.5a.75.75 0 01.75-.75zM12 7a1 1 0 100 2h.01a1 1 0 100-2H12z"}),(0,i.jsx)("path",{fillRule:"evenodd",d:"M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12zm11-9.5a9.5 9.5 0 100 19 9.5 9.5 0 000-19z",clipRule:"evenodd"})]})]})})},55435:function(e,t,n){"use strict";var i=n(85893),r=n(93967),o=n.n(r),s=n(46704),l=n.n(s);t.Z=e=>{let{children:t,className:n}=e,r=o()(l().root,n);return(0,i.jsx)("legend",{className:r,children:t})}},87447:function(e,t,n){"use strict";n.d(t,{j:function(){return b},g:function(){return k}});var i=n(85893),r=n(83952),o=n(12710),s=n(6703),l=n.n(s),a=n(93967),c=n.n(a),d=e=>{let{className:t,messages:n=[]}=e,r=c()(l().root,t);return(0,i.jsxs)("div",{className:r,children:[(0,i.jsx)(o.O,{className:l().icon}),(0,i.jsx)("ul",{className:l().list,children:n.map((e,t)=>(0,i.jsx)("li",{className:l().message,children:e},t))})]})},p=n(33075),u=n.n(p),h=e=>{let{children:t,className:n,id:r}=e,o=c()(u().root,n);return(0,i.jsx)("span",{className:o,id:r,children:t})},x=n(6750),_=n.n(x),f=e=>{let{children:t,className:n,fontWeight:r="semibold",htmlFor:o}=e,s=c()(_().root,"hds-font-weight-".concat(r),n);return(0,i.jsx)("label",{className:s,htmlFor:o,children:t})};n(55435);var m=n(3680),g=n.n(m),v=e=>{let{"aria-describedby":t,checked:n=!1,className:r,id:o,name:s,onChange:l,onClick:a,value:d}=e,p=c()(g().root,r);return(0,i.jsx)("input",{"aria-describedby":t,checked:n,className:p,id:o,name:s,onChange:l,onClick:a,type:"checkbox",value:d||o})},j=n(39496),w=n.n(j),b=e=>{let t,n,o,{checked:s,errors:l,helperText:a,id:c,label:p,labelFontWeight:u,name:x,onClick:_=()=>void 0,onChange:m=()=>void 0}=e,g=(0,r.Me)(c);return a&&(n="checkbox-".concat(g,"-helper-text"),t=(0,i.jsx)(h,{className:w().helperText,id:n,children:a})),l&&l.length>0&&(o=(0,i.jsx)(d,{className:w().errors,messages:l})),(0,i.jsxs)("div",{className:w().root,children:[(0,i.jsx)(v,{"aria-describedby":n,checked:s,id:g,name:x,onChange:m,onClick:_}),(0,i.jsx)(f,{className:w().label,fontWeight:u,htmlFor:g,children:p}),t,o]})},y=n(73101),N=n.n(y),S=e=>{let{"aria-describedby":t,checked:n=!1,className:r,id:o,name:s,onChange:l,onClick:a,onKeyDown:d,value:p}=e,u=c()(N().root,r);return(0,i.jsx)("input",{"aria-describedby":t,checked:n,className:u,id:o,name:s,onChange:l,onClick:a,onKeyDown:d,type:"radio",value:p||o})},C=n(67909),P=n.n(C),k=e=>{let t,n,o,{checked:s,errors:l,helperText:a,id:c,label:p,labelFontWeight:u,value:x,name:_,onChange:m,onClick:g,onKeyDown:v}=e,j=(0,r.Me)(c);return a&&(n="checkbox-".concat(j,"-helper-text"),t=(0,i.jsx)(h,{className:P().helperText,id:n,children:a})),l&&l.length>0&&(o=(0,i.jsx)(d,{className:P().errors,messages:l})),(0,i.jsxs)("div",{className:P().root,children:[(0,i.jsx)(S,{"aria-describedby":n,checked:s,id:j,name:_,value:x,onChange:m,onClick:g,onKeyDown:v}),(0,i.jsx)(f,{className:P().label,fontWeight:u,htmlFor:j,children:p}),t,o]})}},8855:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(85893),r=n(93967),o=n.n(r),s=n(69313),l=n(27436),a=n.n(l);function c(e){let{className:t,color:n="neutral",description:r,icon:l=(0,i.jsx)(s.w,{}),title:c,ctaSlot:d}=e;return(0,i.jsxs)("div",{className:o()(a().default,a()[n],t),children:[(0,i.jsx)("span",{className:a().icon,"data-testid":"icon",children:l}),(0,i.jsxs)("span",{className:a().content,children:[(0,i.jsx)("p",{className:a().title,children:c}),(0,i.jsx)("span",{className:a().description,children:r}),d?(0,i.jsx)("span",{className:a().ctaSlot,children:d}):null]})]})}},55693:function(e,t,n){"use strict";var i=n(85893),r=n(94636),o=n(32868),s=n.n(o);t.Z=function(e){let{children:t,sidebarSlot:n,mobileMenuSlot:o}=e;return(0,i.jsx)(r.Z,{mobileMenuSlot:o,showFooterTopBorder:!0,children:(0,i.jsxs)("div",{className:s().root,children:[(0,i.jsx)("div",{className:s().sidebarArea,children:n}),(0,i.jsx)("div",{className:s().mainArea,children:t})]})})}},65086:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return C},default:function(){return P}});var i=n(85893),r=n(55693),o=n(67294),s=n(93967),l=n.n(s),a=n(27552),c=n(8855),d=n(87447),p=n(19557),u=n.n(p);function h(e){let{label:t,helperText:n,accept:r,setValue:s}=e,l=(0,o.useId)();return(0,i.jsxs)("div",{className:u().root,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:l,children:t}),n?(0,i.jsx)("div",{className:u().helperText,children:n}):null]}),(0,i.jsx)("input",{id:l,type:"file",accept:r,onChange:function(e){let t=new FileReader;t.readAsText(e.target.files[0],"UTF-8"),t.onload=e=>s(e.target.result.toString())}})]})}var x=n(75754),_=n.n(x);function f(e){let{label:t,helperText:n,value:r,setValue:s}=e,l=(0,o.useId)();return(0,i.jsxs)("div",{className:_().root,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:l,children:t}),n?(0,i.jsx)("div",{className:_().helperText,children:n}):null]}),(0,i.jsx)("textarea",{id:l,value:r,className:_().textarea,onChange:e=>s(e.target.value)})]})}async function m(e){try{let t=await fetch("/api/open-api-docs-preview-v2",{method:"POST",body:JSON.stringify(e)}),n=await t.json();if(n.error)return[{title:"Failed to generate page data",description:"An error occured while attempting to generate page data from the provided inputs. Please ensure the provided schema is a valid OpenAPI specification in JSON format. Please also ensure the provided description is valid markdown.",error:n.error},null];return[null,n]}catch(e){return[{title:"Failed to generate page data",description:"An unexpected error occurred while attempting to generate page data from the provided inputs. Please ensure the provided schema is a valid OpenAPI specification in JSON format. Please also ensure the provided description is valid markdown. And reach out to the team in #proj-dev-portal if this still isn't working!",error:e.toString()},null]}}var g=n(53759),v=n.n(g);function j(e){let{defaultValues:t,defaultCollapsed:n=!0}=e,[r,s]=(0,o.useState)(),[p,u]=(0,o.useState)(!1),[x,_]=(0,o.useState)(n),[g,j]=(0,o.useState)({openApiJsonString:"",openApiDescription:"",groupOperationsByPath:!1,...t});function w(e,t){j(n=>({...n,[e]:t}))}async function b(){u(!0);let[e,t]=await m(g);e?s(e):(document.cookie="".concat("open-api-docs-preview-v2_unique-file-id","=").concat(t.uniqueFileId),window.location.reload()),u(!1)}return(0,o.useEffect)(()=>{r&&s(void 0)},[g]),(0,o.useEffect)(()=>{if(""===g.openApiDescription)try{var e;let t=JSON.parse(g.openApiJsonString),n=null==t?void 0:null===(e=t.info)||void 0===e?void 0:e.description;n&&g.openApiDescription!==n&&w("openApiDescription",n)}catch(e){}},[g]),(0,i.jsxs)("div",{className:l()(v().root,{[v().isCollapsed]:x}),children:[(0,i.jsx)("div",{className:v().scrollableContent,children:(0,i.jsxs)("div",{className:v().inputs,children:[(0,i.jsx)(h,{label:"OpenAPI File",helperText:'Upload your OpenAPI specification file, in ".json" format.',accept:".json",setValue:e=>w("openApiJsonString",e)}),(0,i.jsx)(a.Z,{className:v().generateButton,text:p?"Loading...":"Generate preview",size:"large",onClick:()=>b()}),r?(0,i.jsx)(c.Z,{color:"critical",title:r.title,description:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:r.description}),(0,i.jsx)("pre",{style:{whiteSpace:"pre-wrap"},children:(0,i.jsx)("code",{children:r.error})})]})}):null,(0,i.jsx)(d.j,{label:"Group operations by path",helperText:"By default, operations are organized by their first tag, which is expected to correspond to a service name. In some cases, spec files may have only a single tag, in which case this option can be used to group operations by their paths instead.",checked:g.groupOperationsByPath,onChange:()=>w("groupOperationsByPath",!g.groupOperationsByPath)}),(0,i.jsx)(f,{label:"Schema source",helperText:"Test out edits to the uploaded OpenAPI specification file.",value:g.openApiJsonString,setValue:e=>w("openApiJsonString",e)}),(0,i.jsx)(f,{label:"Description Markdown",helperText:'Enter markdown here to override the "schema.info.description" field of your schema.',value:g.openApiDescription,setValue:e=>w("openApiDescription",e)})]})}),(0,i.jsx)("div",{className:v().collapseButtonLayout,children:(0,i.jsxs)("button",{className:v().collapseButton,onClick:()=>_(e=>!e),children:[x?"Show":"Hide"," preview inputs"]})})]})}function w(e){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("pre",{style:{whiteSpace:"pre-wrap"},children:(0,i.jsx)("code",{children:JSON.stringify(e,null,2)})})})}function b(e){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("pre",{style:{whiteSpace:"pre-wrap"},children:(0,i.jsx)("code",{children:JSON.stringify(e,null,2)})})})}function y(e){let{basePath:t,navItems:n,...o}=e;return(0,i.jsx)(r.Z,{sidebarSlot:(0,i.jsx)("ul",{style:{margin:0,border:"1px solid magenta"},children:n.map(e=>"fullPath"in e?(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:e.fullPath,style:{color:e.isActive?"white":void 0},children:e.title})},e.fullPath):null)}),mobileMenuSlot:null,children:(0,i.jsx)("div",{style:{padding:"24px"},children:(0,i.jsx)("div",{style:{border:"1px solid magenta"},children:"operationContentProps"in o?(0,i.jsx)(b,{...o.operationContentProps}):"landingContentProps"in o?(0,i.jsx)(w,{...o.landingContentProps}):null})})})}var N=n(9008),S=n.n(N),C=!0,P=function(e){let{staticProps:t,previewData:n,hasStaticProps:o}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{isolation:"isolate"},children:o?(0,i.jsx)(y,{...t}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(S(),{children:(0,i.jsx)("title",{children:"OpenAPI Preview Tool | HashiCorp Developer"})}),(0,i.jsx)(r.Z,{sidebarSlot:"",mobileMenuSlot:null,children:(0,i.jsxs)("div",{style:{padding:"24px",maxWidth:"35em"},children:[(0,i.jsx)("h1",{children:"OpenAPI Preview Tool"}),(0,i.jsx)("p",{children:"Please use the input form on this page to upload your spec. After submitting the form, the page should reload and display a preview."})]})})]})}),(0,i.jsx)(j,{defaultCollapsed:o,defaultValues:n})]})}},3680:function(e){e.exports={root:"checkbox-control_root__EWtcZ"}},73101:function(e){e.exports={root:"radio-control_root__jPM8O"}},6703:function(e){e.exports={root:"errors_root__uqP_E",icon:"errors_icon__8Kwa_",list:"errors_list__sn9Yx",message:"errors_message__ezCS9 hds-typography-body-100 hds-font-weight-medium"}},33075:function(e){e.exports={root:"helper-text_root__j8qxW hds-typography-body-100 hds-font-weight-regular"}},6750:function(e){e.exports={root:"label_root__LV5_v hds-typography-body-200"}},46704:function(e){e.exports={root:"legend_root__T3rOV hds-typography-body-200 hds-font-weight-semibold"}},39496:function(e){e.exports={root:"checkbox-field_root__CKXPK",label:"checkbox-field_label__Hd7dj",helperText:"checkbox-field_helperText__N39Ce",errors:"checkbox-field_errors__wjMl9"}},67909:function(e){e.exports={root:"radio-field_root__J75uv",label:"radio-field_label__x53qW",helperText:"radio-field_helperText__NMG_C",errors:"radio-field_errors__AnKps"}},27436:function(e){e.exports={default:"inline-alert_default___c6Mu hds-typography-body-200",icon:"inline-alert_icon__b_Ema",content:"inline-alert_content__fR9kv",title:"inline-alert_title__20wIt",description:"inline-alert_description__tisu9",ctaSlot:"inline-alert_ctaSlot__Hks6I",highlight:"inline-alert_highlight__Gg_mI",warning:"inline-alert_warning__2yPdZ",critical:"inline-alert_critical__De5HV"}},32868:function(e){e.exports={root:"sidebar-layout_root__5Orqw",sidebarArea:"sidebar-layout_sidebarArea__CVWqK",mainArea:"sidebar-layout_mainArea__3pW6J"}},19557:function(e){e.exports={root:"file-string-input_root__OgvwK",helperText:"file-string-input_helperText__2__tL"}},53759:function(e){e.exports={root:"open-api-preview-inputs_root__Fv_31",isCollapsed:"open-api-preview-inputs_isCollapsed__i4_yL",scrollableContent:"open-api-preview-inputs_scrollableContent__xjBcD",inputs:"open-api-preview-inputs_inputs__iqN_p",collapseButtonLayout:"open-api-preview-inputs_collapseButtonLayout__LcdBw",collapseButton:"open-api-preview-inputs_collapseButton__1kVGD",generateButton:"open-api-preview-inputs_generateButton__rOIJn"}},75754:function(e){e.exports={root:"textarea-input_root__5I40p",helperText:"textarea-input_helperText__Que4Q",textarea:"textarea-input_textarea__FlIbs"}}},function(e){e.O(0,[4819,3652,2888,9774,179],function(){return e(e.s=81823)}),_N_E=e.O()}]);