<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>Outline | Integrations | Nomad | HashiCorp Developer</title><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta property="article:publisher" content="https://www.facebook.com/HashiCorp/"/><meta name="twitter:site" content="@HashiCorp"/><meta name="twitter:card" content="summary_large_image"/><meta name="theme-color" content="#000"/><meta name="description" property="og:description" content="Outline - Wiki and knowledgebase for teams"/><meta name="twitter:description" content="Outline - Wiki and knowledgebase for teams"/><meta property="og:site_name" content="Outline | Integrations | Nomad | HashiCorp Developer"/><meta property="og:title" content="Outline | Integrations | Nomad | HashiCorp Developer"/><meta property="og:image" content="https://developer.hashicorp.com/og-image/nomad.jpg"/><link rel="canonical" href="https://developer.hashicorp.com/nomad/integrations/hashicorp/outline"/><link rel="icon" href="/favicon.ico" sizes="48x48"/><link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="google-site-verification" content="zRQZqfAsOX-ypXfU0mzAIzb5rUvj5fA4Zw2jWJRN-JI"/><meta name="ahrefs-site-verification" content="9d739b21c466a84dae91df1c79396081a9072152e64f765c9390fed6f249fb84"/><meta name="zd-site-verification" content="xnvnvv1i0wl4tf0pzaymb" data-product="hcp"/><meta name="zd-site-verification" content="36fp2i1pj67d8cjtzf4fi9" data-product="terraform"/><meta name="zd-site-verification" content="nbe87kfyp1sck7b13vj1i" data-product="packer"/><meta name="zd-site-verification" content="wvsmmqa1cfb9am9zlwfj" data-product="consul"/><meta name="zd-site-verification" content="cw22oopfwr68ujj0n5pn9i" data-product="boundary"/><meta name="zd-site-verification" content="lkslvganwfgfqfwpdeicgh" data-product="vault"/><meta name="zd-site-verification" content="jl2wp2hoej9rz6c8rmqdns" data-product="nomad"/><meta name="zd-site-verification" content="2eb0cu6xceo73t0038m0tb" data-product="waypoint"/><meta name="zd-site-verification" content="n52xisxdf3higs2q9kuogd" data-product="vagrant"/><meta name="twitter:image" content="https://developer.hashicorp.com/og-image/nomad.jpg"/><link rel="prefetch" href="https://www.datadoghq-browser-agent.com/datadog-rum-v4.js"/><script type="application/ld+json">[{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Developer","item":"https://developer.hashicorp.com/"},{"@type":"ListItem","position":2,"name":"Nomad","item":"https://developer.hashicorp.com/nomad"},{"@type":"ListItem","position":3,"name":"Integrations","item":"https://developer.hashicorp.com/nomad/integrations"},{"@type":"ListItem","position":4,"name":"Outline","item":"https://developer.hashicorp.com/nomad/integrations/hashicorp/outline"}]}]</script><meta name="next-head-count" content="32"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/0a3ef9c875075792.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0a3ef9c875075792.css" data-n-g=""/><link rel="preload" href="/_next/static/css/3ad6c3802e156a79.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3ad6c3802e156a79.css" data-n-p=""/><link rel="preload" href="/_next/static/css/686568afb8217cc6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/686568afb8217cc6.css" data-n-p=""/><link rel="preload" href="/_next/static/css/eb7499f4942666a6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/eb7499f4942666a6.css" data-n-p=""/><link rel="preload" href="/_next/static/css/f1847941b1d3db61.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f1847941b1d3db61.css" data-n-p=""/><link rel="preload" href="/_next/static/css/6ea4faf91511fec3.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6ea4faf91511fec3.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-106a414ea0458477.js" defer=""></script><script src="/_next/static/chunks/framework-56eb74ff06128874.js" defer=""></script><script src="/_next/static/chunks/main-0785f91db64576b8.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f12faad372f07f6f.js" defer=""></script><script src="/_next/static/chunks/4819-bab3fb94ee0c378b.js" defer=""></script><script src="/_next/static/chunks/3713-0a83bd3cd768e186.js" defer=""></script><script src="/_next/static/chunks/1965-de91f49a7b70adcb.js" defer=""></script><script src="/_next/static/chunks/1306-699e21fe04afb846.js" defer=""></script><script src="/_next/static/chunks/563-ec2e839822df3139.js" defer=""></script><script src="/_next/static/chunks/3652-ce43471e7283c3ba.js" defer=""></script><script src="/_next/static/chunks/4762-e57bd9d3b7453da8.js" defer=""></script><script src="/_next/static/chunks/9325-9027f7f3bd62792d.js" defer=""></script><script src="/_next/static/chunks/2291-52f1771184c676af.js" defer=""></script><script src="/_next/static/chunks/1825-93559152dbf033f6.js" defer=""></script><script src="/_next/static/chunks/2460-e1e3286f1330a793.js" defer=""></script><script src="/_next/static/chunks/6075-eff04cc051a0a6a9.js" defer=""></script><script src="/_next/static/chunks/3367-62761ef699b6ef58.js" defer=""></script><script src="/_next/static/chunks/pages/%5BproductSlug%5D/integrations/%5BorganizationSlug%5D/%5BintegrationSlug%5D-cc82fb7f8f57a59a.js" defer=""></script><script src="/_next/static/QskBVl78yH6cCW74yoB6E/_buildManifest.js" defer=""></script><script src="/_next/static/QskBVl78yH6cCW74yoB6E/_ssgManifest.js" defer=""></script></head><body><script>!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://artemis.hashicorp.com/script/"+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics._cdn="https://artemis.hashicorp.com";analytics.SNIPPET_VERSION="4.1.0";}}();</script><div id="__next"><div class="style_root__dZhZu"><a href="https://hashicorp.com/conferences/hashidays" class="style_linkElem__hCESK"><span class="style_textContainer__6CuI7 g-grid-container"><span class="style_tag__jbHGz g-type-body-small-x-strong">HashiDays<!-- --> </span><span class="style_text__rwS0u g-type-body-small">One conference. Three cities.<span class="style_linkText__E8GJf g-type-body-small-x-strong"> <!-- -->Find a city near you</span></span></span></a><button class="style_closeButton__57J9w"><div><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 5 5 15M5 5l10 10"/></svg></div><span style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal">Dismiss alert</span></button></div><script type="text/javascript">
(function checkDismissAlertBanner() {
  try {
    if (document.cookie.includes('banner_one-conference.-three-cities.=1')) {
      const element = document.querySelector('.style_root__dZhZu')
      element.classList.remove('style_isShown__D4mb6')
    }
  } catch (_) {
    // do nothing
  }
})()
</script><script>!function(){try{var d=document.documentElement,n='data-theme',s='setAttribute';var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d[s](n,'dark')}else{d.style.colorScheme = 'light';d[s](n,'light')}}else if(e){d[s](n,e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="core-dev-dot-layout_root__MT1PZ"><div class="base-layout_root___qiZs" data-layout="base-new"><div class="base-layout_header__XhkxS"><header class="navigation-header_root__oE_HT"><div class="navigation-header_leftSide__V0xlc"><div class="product-page-content_productsDropdown__haUyw"><div class="dropdown-menu_root__Hwy5S"><div class="dropdown-menu_activatorWrapper__LxPRt"><button aria-controls="navigation-header-menu-react-aria-1" aria-expanded="false" aria-label="Main menu" class="dropdown-menu_activator__xXb00 g-focus-ring-from-box-shadow-dark product-page-content_productsDropdownButton__bnKKs"><span class="dropdown-menu_activatorLeadingIcon__YQQlH"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true" class="product-page-content_productsDropdownIcon__gXtly"><g fill="currentColor"><path d="M10.336 1.5L2 6.268v11.456l3.131 1.793V8.061l5.205-2.979V1.5z"></path><path d="M13.664 1.5v9.123h-3.328V7.219L7.203 9.012V20.7l3.133 1.796V13.4h3.328v3.381l3.131-1.793V3.293L13.664 1.5z"></path><path d="M22 17.732L13.664 22.5v-3.582l5.203-2.98V4.484L22 6.276v11.456z"></path></g></svg></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="dropdown-menu_activatorTrailingIcon__r_cCd"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button></div><div class="dropdown-menu_dropdownContainer__AZWxN product-page-content_productsDropdownPane__bcdWz" id="navigation-header-menu-react-aria-1" style="display:none"><ul class="dropdown-menu_itemGroup__GEq4r"><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M7.846 2.574a.25.25 0 01.308 0l5.25 4.12a.25.25 0 01.096.196v7.36a.75.75 0 001.5 0V6.89a1.75 1.75 0 00-.67-1.377L9.08 1.394a1.75 1.75 0 00-2.16 0l-5.25 4.12A1.75 1.75 0 001 6.89v7.36a.75.75 0 001.5 0V6.89a.25.25 0 01.096-.196l5.25-4.12z"></path><path d="M6.5 14.25V10.5h3v3.75a.75.75 0 001.5 0v-4C11 9.56 10.44 9 9.75 9h-3.5C5.56 9 5 9.56 5 10.25v4a.75.75 0 001.5 0z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">HashiCorp Developer</span></div></div></a></li></ul><hr class="dropdown-menu_itemGroupDivider__X38aR"/><ul class="dropdown-menu_itemGroup__GEq4r"><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/hcp"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M6.835.6L1 3.96v8.074l2.192 1.264V5.224l3.643-2.1V.6z"></path><path d="M9.165.6v6.43h-2.33v-2.4L4.642 5.894v8.237l2.193 1.266v-6.41h2.33v2.383l2.192-1.264V1.864L9.165.6z"></path><path d="M15 12.04L9.165 15.4v-2.525l3.642-2.1V2.703L15 3.966v8.073z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">HashiCorp Cloud Platform</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/terraform"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-terraform-brand)"><path d="M1 0v5.05l4.349 2.527V2.526L1 0zM10.175 5.344l-4.35-2.525v5.05l4.35 2.527V5.344zM10.651 10.396V5.344L15 2.819v5.05l-4.349 2.527zM10.174 16l-4.349-2.526v-5.05l4.349 2.525V16z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Terraform</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/packer"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-packer-brand)"><path d="M5.163 0l5.762 3.247c1.138.646 2.074 2.085 2.075 3.2v4.963c0 1.123-.933 1.502-2.074.858L9.083 11.23V4.469l-3.92-2.216V0z"></path><path d="M8.3 4.953L3 1.956v11.047L8.3 16V4.953z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Packer</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/consul"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Consul</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/vault"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="var(--token-color-vault-brand)" d="M0 0l7.971 15.516L16 0H0zm6.732 6.16h-1.27V4.89h1.27v1.27zm0-1.906h-1.27V2.985h1.27v1.269zm1.904 3.81h-1.27v-1.27h1.27v1.27zm0-1.905h-1.27V4.89h1.27v1.27zm0-1.905h-1.27V2.985h1.27v1.269zm1.894 1.905H9.26V4.89h1.27v1.27zM9.26 4.254V2.985h1.27v1.269H9.26z"></path></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Vault</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/boundary"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-boundary-brand)"><path d="M4.81 15v-1.085h2.25v-.67H5.968v-1.093h5.149L8.726 8l2.392-4.154H5.84v5.76H3V1h9.775l1.631 2.832L12.006 8l2.448 4.252L12.872 15H4.81z"></path><path d="M5.248 12.152h-1.09v1.092h1.09v-1.092zM3 13.907h1.09v1.092H3v-1.092z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Boundary</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/nomad"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="var(--token-color-nomad-brand)" d="M8 0L1 4v8l7 4 7-4V4L8 0zm3.119 8.797L9.254 9.863 7.001 8.65v2.549l-2.118 1.33v-5.33l1.68-1.018 2.332 1.216V4.794l2.23-1.322-.006 5.325z"></path></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Nomad</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/waypoint"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-waypoint-brand)"><path d="M4 5.312h1.334L10 13.4l3.334-5.777L10.666 3H8l2.666 4.623L10 8.778 6.667 3H0l6 10.4 1.333-2.31L4 5.311zM14.002 6.463L16 3h-3.996l1.998 3.463z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Waypoint</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/vagrant"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="#1868F2"><path d="M1 1.559h4.667v3.4l4.666 9.482H5.667L1 4.959v-3.4zM10.333 4.96V1.559H15v3.4l-4.269 8.672-2.335-4.74 1.937-3.931z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Vagrant</span></div></div></a></li></ul></div></div></div><div class="product-page-content_productLinkAndNav__YTzcr"><a aria-label="Nomad home" class="product-icon-text-link_root__bNTSz g-focus-ring-from-box-shadow-dark" href="/nomad"><div class="product-icon-text-lockup_root__358wV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="product-icon-text-lockup_icon__Zp_5o"><path fill="var(--token-color-nomad-brand)" d="M8 0L1 4v8l7 4 7-4V4L8 0zm3.119 8.797L9.254 9.863 7.001 8.65v2.549l-2.118 1.33v-5.33l1.68-1.018 2.332 1.216V4.794l2.23-1.322-.006 5.325z"></path></svg><span class="product-icon-text-lockup_text__nHTL7 hds-typography-body-200">Nomad</span></div></a><nav class="nav-bar-list-container_nav__C_i0_"><ul class="nav-bar-list-container_ul___04HI"><li><a aria-label="Nomad Install" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/nomad/install"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Install</span></a></li><li><a aria-label="Nomad Intro" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/nomad/intro"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Intro</span></a></li><li><a aria-label="Nomad Tutorials" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/nomad/tutorials"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Tutorials</span></a></li><li><a aria-label="Nomad Documentation" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/nomad/docs"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Documentation</span></a></li><li><a aria-label="Nomad API" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/nomad/api-docs"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">API</span></a></li><li><a aria-label="Nomad Tools" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/nomad/tools"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Tools</span></a></li><li><a aria-label="Nomad Plugins" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/nomad/plugins"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Plugins</span></a></li><li><a aria-label="Nomad Integrations" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/nomad/integrations"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Integrations</span></a></li></ul></nav></div></div><div class="navigation-header_rightSide___Vvh_"><button aria-label="Search" class="command-bar-activator_root__qgVMy g-focus-ring-from-box-shadow-dark"><span class="command-bar-activator_left__ATQTg"><span class="command-bar-activator_leadingIcon__jECP5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M6.344.969a5.375 5.375 0 103.233 9.669l4.174 4.174a.75.75 0 001.06-1.061l-4.173-4.174A5.375 5.375 0 006.344.97zM2.469 6.344a3.875 3.875 0 117.75 0 3.875 3.875 0 01-7.75 0z" clip-rule="evenodd"></path></svg></span><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular command-bar-activator_text__pTZN_">Search</span></span><span class="command-bar-activator_right__XejfJ"><span class="g-screen-reader-only">Command or control key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="cmd-ctrl-icon_root___TToz"><svg xmlns="http://www.w3.org/2000/svg" width="41" height="11" fill="none" viewBox="0 0 41 11"><path fill="#fff" fill-rule="evenodd" d="M4.125 2.063V3h2.25v-.937a2.062 2.062 0 1 1 2.063 2.062H7.5v2.25h.938a2.062 2.062 0 1 1-2.063 2.063V7.5h-2.25v.938a2.062 2.062 0 1 1-2.062-2.063H3v-2.25h-.937a2.062 2.062 0 1 1 2.062-2.062m-2.062-.938a.937.937 0 1 0 0 1.875H3v-.937a.937.937 0 0 0-.937-.938M7.5 7.5v.938a.937.937 0 1 0 .938-.938zM6.375 6.375v-2.25h-2.25v2.25zM2.063 7.5H3v.938a.937.937 0 1 1-.937-.938M7.5 3h.938a.937.937 0 1 0-.938-.937z" clip-rule="evenodd"/><path fill="#fff" d="M15.09 10.5 18.085 0h-1.097L14 10.5zM26.387 5.308c-.183-1.445-1.263-2.534-3.05-2.534C21.264 2.774 20 4.247 20 6.61c0 2.41 1.27 3.89 3.344 3.89 1.76 0 2.86-1.034 3.043-2.5H25.02c-.184.808-.792 1.247-1.682 1.247-1.172 0-1.898-.994-1.898-2.637 0-1.61.72-2.583 1.898-2.583.942 0 1.518.555 1.681 1.281zM28.6 1.041v1.897h-1.133v1.178H28.6v4.281c0 1.432.622 2.007 2.186 2.007.275 0 .537-.034.766-.075V9.158c-.196.02-.32.034-.537.034-.7 0-1.008-.35-1.008-1.15V4.115h1.545V2.938h-1.545V1.041zM33.207 10.356h1.407V5.911c0-1.048.752-1.767 1.819-1.767.249 0 .667.048.785.082V2.842a3.372 3.372 0 0 0-.628-.054c-.93 0-1.721.527-1.924 1.26h-.105v-1.13h-1.354zM38.638 10.356h1.407V0h-1.407z"/></svg></div></span><span class="g-screen-reader-only">K key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="k-icon_root__a_5pR"><svg xmlns="http://www.w3.org/2000/svg" width="8" height="10" fill="none" viewBox="0 0 8 10"><path fill="#fff" d="M1.512 9.84v-3l.986-1.147L5.445 9.84h1.704L3.46 4.745 6.857.84H5.244L1.61 5.094h-.098V.84H.15v9z"/></svg></div></span></span></button><div class="navigation-header_authenticationControls__EP1LY"><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj"><button aria-controls="disclosure-react-aria-21-content" aria-expanded="false" aria-label="User menu" class="disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo navigation-header_userDropdownDisclosureActivator__RayIV g-focus-ring-from-box-shadow-dark activator_hasIcon__5HO6W g-focus-ring-from-box-shadow"><span class="activator_childrenWrapper__kaK0w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path fill-rule="evenodd" d="M12 3a5 5 0 100 10 5 5 0 000-10zM8.5 8a3.5 3.5 0 117 0 3.5 3.5 0 01-7 0z" clip-rule="evenodd"></path><path d="M7.75 14.5A4.75 4.75 0 003 19.25v1a.75.75 0 001.5 0v-1A3.25 3.25 0 017.75 16h8.5a3.25 3.25 0 013.25 3.25v1a.75.75 0 001.5 0v-1a4.75 4.75 0 00-4.75-4.75h-8.5z"></path></g></svg></span><span class="activator_chevronWrapper__4_AVG"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></span></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-21-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><button class="list-item_button__nXy5K g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign in</span></button></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign up</span></a></li><li class="list-item_root__ZdUej"><hr class="list-item_separator__cBVLs"/></li><li class="list-item_root__ZdUej user-dropdown-switcher_listItem__Q_GIj hds-font-weight-medium"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-23">Theme</label></li></ul></div></div></div><button aria-label="Open navigation menu" class="navigation-header_mobileMenuButton__74S4w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path d="M2 5.75A.75.75 0 012.75 5h18.5a.75.75 0 010 1.5H2.75A.75.75 0 012 5.75zM2 11.75a.75.75 0 01.75-.75h18.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75zM2.75 17a.75.75 0 000 1.5h18.5a.75.75 0 000-1.5H2.75z"></path></g></svg></button></div></header></div><div class="base-layout_contentArea__BMvQn"><div class="sidebar-sidecar-layout_root__h5rD8 sidebar-sidecar-layout_mainWidth-wide__TwGq8"><div class="mobile-menu-container_root__fPUFu sidebar-sidecar-layout_sidebarContainer__4fcF8"><div class="sidebar-sidecar-layout_sidebarContentWrapper__ftn5q"><div class="sidebar_sidebar___fTlC"><div class="sidebar_backToLinkWrapper__F6iLs"><div class="sidebar-back-to-link_root__z_Hj1"><a class="standalone-link_standaloneLink__ahuej g-focus-ring-from-box-shadow standalone-link_primary__ESNCA" href="/nomad/integrations"><div class="standalone-link_standaloneLinkContents__4I2XN standalone-link_medium__J2yVM"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M10.795 3.235a.75.75 0 01-.03 1.06L6.842 8l3.923 3.705a.75.75 0 01-1.03 1.09l-4.5-4.25a.75.75 0 010-1.09l4.5-4.25a.75.75 0 011.06.03z" clip-rule="evenodd"></path></svg><span class="standalone-link_text__7GEyG">Nomad Integrations</span></div></a></div></div><nav aria-labelledby="sidebar-label" class="sidebar_nav__IworY" id="sidebar-nav"><div><h2 class="sidebar-headings_root__tGfxC" id="sidebar-label"></h2></div><ul class="sidebar_navList__4Rg4g"><li><a aria-current="page" class="sidebar-nav-highlight-item_root___pPhp g-focus-ring-from-box-shadow sidebar-nav-highlight-item_theme-nomad__FvXsA" href="/nomad/integrations/hashicorp/outline"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="sidebar-nav-highlight-item_icon__G8JxG"><path fill="var(--token-color-nomad-brand)" d="M8 0L1 4v8l7 4 7-4V4L8 0zm3.119 8.797L9.254 9.863 7.001 8.65v2.549l-2.118 1.33v-5.33l1.68-1.018 2.332 1.216V4.794l2.23-1.322-.006 5.325z"></path></svg><span class="sidebar-nav-highlight-item_text__VORFJ hds-typography-body-200">Outline</span></a></li></ul><hr class="sidebar-horizontal-rule_root__UY7oh"/><ul class="sidebar_navList__4Rg4g"><li><h3 class="sidebar-headings_root__tGfxC">Resources</h3></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/tutorials/library?product=nomad"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Tutorial Library</span></a></li><li><a aria-label="Community Forum. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-27" target="_blank" href="https://discuss.hashicorp.com/c/nomad/28"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Community Forum</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-27">(opens in new tab)</span></li><li><a aria-label="Support. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-28" target="_blank" href="https://www.hashicorp.com/customer-success"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Support</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-28">(opens in new tab)</span></li><li><a aria-label="GitHub. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-29" target="_blank" href="https://github.com/hashicorp/nomad"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">GitHub</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-29">(opens in new tab)</span></li></ul></nav></div></div></div><div class="sidebar-sidecar-layout_contentWrapper__Z5BK4"><div class="sidebar-sidecar-layout_paddedAreaWrapper___S_Ff"><div class="sidebar-sidecar-layout_breadcrumbContainer__3uz7P"><div class="sidebar-sidecar-layout_breadcrumbMaxWidth__coOcu"><nav aria-label="Breadcrumb" class="breadcrumb-bar_root__wd_C5"><ol class="breadcrumb-bar_listRoot__8eupO"><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/">Developer</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/nomad">Nomad</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/nomad/integrations">Integrations</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><span class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" aria-current="page">Outline</span></li></ol></nav></div></div><div class="sidebar-sidecar-layout_mainAndSidecar__UDm3Z"><main id="main" class="sidebar-sidecar-layout_main__0SN51"><div class="hds-surface-base card_root__RyqjV content-header-card_contentHeaderCard__SDMMP style_header__b3NdM"><div class="content-header-card_cardTop__GTpii"><span class="icon-tile_root__ShC0s icon-tile_size-large__NxGIv icon-tile_color-nomad__DEU50 content-header-card_icon__A1Xna"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="var(--token-color-nomad-brand)" d="M8 0L1 4v8l7 4 7-4V4L8 0zm3.119 8.797L9.254 9.863 7.001 8.65v2.549l-2.118 1.33v-5.33l1.68-1.018 2.332 1.216V4.794l2.23-1.322-.006 5.325z"></path></svg></span><div class="content-header-card_content__XPCtf"><div class="content-header-card_upper__PQsUG"><div class="content-header-card_left__FSNcW"><div class="content-header-card_titleWrap__IAC6o"><span class="content-header-card_title__HGHfo hds-typography-display-300 from global, hds-font-weight-bold">Outline</span><p class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium content-header-card_attribution__yKU4q">@hashicorp</p></div><p class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular content-header-card_description__M_DkB">Outline - Wiki and knowledgebase for teams</p></div></div><div class="content-header-card_lower__ut_Dv"><ul class="badge-list_badgeList__l_z6s content-header-card_badgeList__I_FGK"><li class="badge-list_badge__mQSlF"><span data-state="tooltip-hidden" data-reach-tooltip-trigger=""><span class="g-screen-reader-only">Community</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path fill-rule="evenodd" d="M6 2a3.5 3.5 0 100 7 3.5 3.5 0 000-7zM4 5.5a2 2 0 114 0 2 2 0 01-4 0z" clip-rule="evenodd"></path><path d="M4.25 10A3.75 3.75 0 00.5 13.75v.5a.75.75 0 001.5 0v-.5a2.25 2.25 0 012.25-2.25h3.5A2.25 2.25 0 0110 13.75v.5a.75.75 0 001.5 0v-.5A3.75 3.75 0 007.75 10h-3.5zM11.25 10.75A.75.75 0 0112 10h.25a3.25 3.25 0 013.25 3.25v1a.75.75 0 01-1.5 0v-1a1.75 1.75 0 00-1.75-1.75H12a.75.75 0 01-.75-.75zM11.273 2.24a.75.75 0 00-.546 1.396 2.001 2.001 0 010 3.728.75.75 0 00.546 1.397 3.501 3.501 0 000-6.522z"></path></g></svg><span>Community</span></span></span></li><li class="badge-list_badge__mQSlF"><span data-state="tooltip-hidden" data-reach-tooltip-trigger=""><span class="g-screen-reader-only">Pack</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><span>Pack</span></span></span></li></ul><p class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular content-header-card_note__QTtmc">Updated 2 years ago</p></div></div></div><div class="content-header-card_cardBottom__ndKDE"><ul class="content-header-card_linksList__vaxQ3"><li class="content-header-card_link___8sUH"><a class="standalone-link_standaloneLink__ahuej g-focus-ring-from-box-shadow standalone-link_secondary__H0E0A" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-33" target="_blank" href="https://github.com/hashicorp/nomad-pack-community-registry/tree/main/packs/outline"><div class="standalone-link_standaloneLinkContents__4I2XN standalone-link_medium__J2yVM"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M8 1C4.133 1 1 4.13 1 7.993c0 3.09 2.006 5.71 4.787 6.635.35.064.478-.152.478-.337 0-.166-.006-.606-.01-1.19-1.947.423-2.357-.937-2.357-.937-.319-.808-.778-1.023-.778-1.023-.635-.434.048-.425.048-.425.703.05 1.073.72 1.073.72.624 1.07 1.638.76 2.037.582.063-.452.244-.76.444-.935-1.554-.176-3.188-.776-3.188-3.456 0-.763.273-1.388.72-1.876-.072-.177-.312-.888.07-1.85 0 0 .586-.189 1.924.716A6.711 6.711 0 018 4.381c.595.003 1.194.08 1.753.236 1.336-.905 1.923-.717 1.923-.717.382.963.142 1.674.07 1.85.448.49.72 1.114.72 1.877 0 2.686-1.638 3.278-3.197 3.45.251.216.475.643.475 1.296 0 .934-.009 1.688-.009 1.918 0 .187.127.404.482.336A6.996 6.996 0 0015 7.993 6.997 6.997 0 008 1z" clip-rule="evenodd"></path></svg><span class="standalone-link_text__7GEyG">GitHub</span></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-33">(opens in new tab)</span></li></ul></div></div><h1>Outline</h1><div class="style_readmeView__MsBqd"><div class="dev-dot-content_root__UJDct hds-typography-body-300"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This pack contains a service job that runs <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://www.getoutline.com/">Outline</a> in a single Nomad client. It currently supports
being run by the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://www.nomadproject.io/docs/drivers/docker">Docker</a> driver.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">It has 4 tasks:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><strong>Outline:</strong> <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://www.getoutline.com/"><em>(reference)</em></a> the wiki and knowledgebase for teams;</li><li class="mdx-lists_listItem__nkqhg"><strong>PostgreSQL:</strong> <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://www.postgresql.org/"><em>(reference)</em></a> the persistent database used by Outline;</li><li class="mdx-lists_listItem__nkqhg"><strong>Redis:</strong> <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://redis.io/"><em>(reference)</em></a> for in-memory storage and cache;</li><li class="mdx-lists_listItem__nkqhg"><strong>MinIO:</strong> <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://min.io/"><em>(reference)</em></a> for images storage, compatible with S3 cloud storage service.</li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Setup:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">Service-to-service communication is handled with Consul Connect;</li><li class="mdx-lists_listItem__nkqhg">Bitnami images are being used for <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://hub.docker.com/r/bitnami/postgresql">PostgreSQL</a>, <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://hub.docker.com/r/bitnami/redis">Redis</a> and <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://hub.docker.com/r/bitnami/minio">MinIO</a>. They are non-root containers and as such the mounted files and directories must have the proper permissions for the UID 1001. To achieve this, these 3 images are being run as user 1001 and there are prestart tasks that create their respective directories, while setting the correct ownership, in the host filesystem with the raw exec driver;</li><li class="mdx-lists_listItem__nkqhg">Only MinIO and Outline ports are exposed. To simplify the pack, MinIO has a static host port of 9000, whereas Outline&#x27;s port is being randomly assigned. In production it&#x27;s recommended that none of the services are directly exposed and that traffic is run through a reverse proxy that supports Consul Connect enabled services, like Traefik;</li><li class="mdx-lists_listItem__nkqhg">MinIO&#x27;s group has a poststart task that applies a policy that disables directory browsing. It does it by finding the correct Docker container, exec&#x27;ing into the container and applying the policy with MinIO&#x27;s MC;</li><li class="mdx-lists_listItem__nkqhg">Outline supports a number of authentication methods. Slack is used for demonstration purposes, but enabling more authentication methods is a matter of defining the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://github.com/outline/outline/blob/main/.env.sample">environment variables</a>;</li><li class="mdx-lists_listItem__nkqhg">The default variables are defined for a local setup.</li></ul><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-requirements"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Requirements permalink" href="/nomad/integrations/hashicorp/outline#requirements"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Requirements</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Clients that expect to run this job require:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a title="Docker volumes" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://www.nomadproject.io/docs/drivers/docker">Docker volumes</a> to be enabled within their Docker plugin stanza:</li></ul><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R16hdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">plugin</span><span style="color:var(--hds-code-block-color-constant)"> &quot;docker&quot;</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">  config</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">    volumes</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">      enabled </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-constant)"> true</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R16hdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R796hdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a title="Raw Exec" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://www.nomadproject.io/docs/drivers/raw_exec">Raw Exec</a> driver to be enabled:</li></ul><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1ehdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">plugin</span><span style="color:var(--hds-code-block-color-constant)"> &quot;raw_exec&quot;</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">  config</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    enabled </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-constant)"> true</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1ehdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R79ehdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a title="CNI plugins installed" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://www.nomadproject.io/docs/job-specification/network#network-modes">CNI plugins installed</a> and <a title="its path" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://www.nomadproject.io/docs/configuration/client#cni_path">its path</a> set in the client&#x27;s configuration if network mode is set to bridge.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a title="Consul Connect" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://www.nomadproject.io/docs/integrations/consul-connect">Consul Connect</a> to be enabled in Consul&#x27;s configuration:</p></li></ul><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1mhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">ports</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  grpc </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-constant)"> 8502</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">connect</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  enabled </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-constant)"> true</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1mhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R79mhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-customizing-the-docker-images"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Customizing the Docker images permalink" href="/nomad/integrations/hashicorp/outline#customizing-the-docker-images"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Customizing the Docker images</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The 4 docker images can be replaced by using their variable names:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">postgresql_task_image</li><li class="mdx-lists_listItem__nkqhg">minio_task_image</li><li class="mdx-lists_listItem__nkqhg">redis_task_image</li><li class="mdx-lists_listItem__nkqhg">outline_task_image</li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2ahdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span>nomad-pack run outline --var outline_task_image="outlinewiki/outline:0.59.0"</span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2ahdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7aahdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-customizing-the-environment-variables"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Customizing the environment variables permalink" href="/nomad/integrations/hashicorp/outline#customizing-the-environment-variables"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Customizing the environment variables</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The 4 tasks have default environment variables. However, it&#x27;s recommended to change the ones related to authentication if the services are going to be publicly accessible. Additional environment variables can be passed to nomad-pack, even if not in the default variables file.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Default PostgreSQL environment variables:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2qhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span>postgresql_task_env_vars = [</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "ALLOW_EMPTY_PASSWORD"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "no"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "POSTGRESQL_USERNAME"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "outline_user"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "POSTGRESQL_PASSWORD"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "outline_user_password"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "POSTGRESQL_DATABASE"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "outline"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  }</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>]</span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2qhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7aqhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Default Redis environment variables:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R32hdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span>redis_task_env_vars = [</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "ALLOW_EMPTY_PASSWORD"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "no"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "REDIS_PASSWORD"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "redis_password"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  }</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>]</span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R32hdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7b2hdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Default MinIO environment variables:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R3ahdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span>minio_task_env_vars = [</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "MINIO_ROOT_USER"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "minio_root_user"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "MINIO_ROOT_PASSWORD"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "minio_root_password"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "MINIO_BROWSER"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "off"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "MINIO_DEFAULT_BUCKETS"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "outline:none"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "MINIO_FORCE_NEW_KEYS"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "yes"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  }</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>]</span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R3ahdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7bahdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Default Outline environment variables:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R3ihdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span>outline_task_env_vars = [</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "SECRET_KEY"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "d1434eff0725153e1cc457a013b53dbcdba6a2b40f00729be5680b56fc003897"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "UTILS_SECRET"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "d5c59234b0018fe6036b0376d022c7f5187feb8cc1769c7bc4c282ed8a983b54"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "REDIS_URL"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "redis://:redis_password@$${NOMAD_UPSTREAM_ADDR_outline-redis}"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "DATABASE_URL"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "postgres://outline_user:outline_user_password@$${NOMAD_UPSTREAM_ADDR_outline-postgresql}/outline"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "DATABASE_URL_TEST"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "postgres://outline_user:outline_user_password@$${NOMAD_UPSTREAM_ADDR_outline-postgresql}/outline_test"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "PGSSLMODE"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "disable"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "URL"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "http://localhost:3000"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "PORT"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "3000"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "AWS_ACCESS_KEY_ID"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "minio_root_user"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "AWS_SECRET_ACCESS_KEY"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "minio_root_password"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "AWS_REGION"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "us-east-1"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "AWS_S3_UPLOAD_BUCKET_URL"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "http://localhost:9000"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "AWS_S3_UPLOAD_BUCKET_NAME"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "outline"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "AWS_S3_UPLOAD_MAX_SIZE"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "26214400"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "AWS_S3_FORCE_PATH_STYLE"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "true"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "AWS_S3_ACL"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "private"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "SLACK_KEY"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "123123"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "SLACK_SECRET"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "123123"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "FORCE_HTTPS"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "false"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "ENABLE_UPDATES"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "no"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "WEB_CONCURRENCY"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "1"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "MAXIMUM_IMPORT_SIZE"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "5120000"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "DEBUG"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "http"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  },</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    key = "DEFAULT_LANGUAGE"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>    value = "en_US"</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  }</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>]</span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R3ihdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7bihdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-customizing-ports"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Customizing ports permalink" href="/nomad/integrations/hashicorp/outline#customizing-ports"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Customizing ports</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">PostgreSQL and Redis ports are not exposed and communication to it needs to be done via its sidecar proxy.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Outline&#x27;s ports is exposed and randomly assigned to the host.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">MinIO port is exposed to the host and static.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The usage of a reverse proxy, such as Traefik, is highly recommended.</p><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-customizing-resources"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Customizing resources permalink" href="/nomad/integrations/hashicorp/outline#customizing-resources"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Customizing resources</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The application resource limits can be customized on a task level. The variables names are:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">outline_task_resources</li><li class="mdx-lists_listItem__nkqhg">postgresql_task_resources</li><li class="mdx-lists_listItem__nkqhg">redis_task_resources</li><li class="mdx-lists_listItem__nkqhg">minio_task_resources</li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R4qhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span>outline_task_resources = {</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  cpu = 1024</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>  memory = 2048</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>}</span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R4qhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7cqhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-setting-the-host-paths"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Setting the host paths permalink" href="/nomad/integrations/hashicorp/outline#setting-the-host-paths"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Setting the host paths</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">PostgreSQL, Redis and MinIO are using bind mounts for storage persistence.
The path for the mounts can be replaced through the following variables:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">postgresql_task_volume_path</li><li class="mdx-lists_listItem__nkqhg">redis_task_volume_path</li><li class="mdx-lists_listItem__nkqhg">minio_task_volume_path</li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R5ehdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span>nomad-pack run outline --var postgresql_task_volume_path="/var/lib/outline/postgresql"</span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R5ehdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7dehdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></div></div></main><div class="sidebar-sidecar-layout_sidecarPosition__WtTq0"><div class="sidebar-sidecar-layout_sidecarTopSlot__qRAEI"></div><div class="sidecar-scroll-container_root__a8nIj"><div class="sidecar-scroll-container_scrollContainer__Dw9id"><div class="style_sidecarContents__mn8YF"><div><nav aria-labelledby="react-aria-49"><p id="react-aria-49" class="outline-nav_navLabel__HrjQb hds-typography-body-100">On this page:</p><ol class="outline-nav_listRoot__Sm1fr"><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/nomad/integrations/hashicorp/outline#requirements">Requirements</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/nomad/integrations/hashicorp/outline#customizing-the-docker-images">Customizing the Docker images</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/nomad/integrations/hashicorp/outline#customizing-the-environment-variables">Customizing the environment variables</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/nomad/integrations/hashicorp/outline#customizing-ports">Customizing ports</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/nomad/integrations/hashicorp/outline#customizing-resources">Customizing resources</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/nomad/integrations/hashicorp/outline#setting-the-host-paths">Setting the host paths</a></li></ol></nav></div></div></div></div></div></div></div></div></div></div><div class="base-layout_footer__HGqK8 base-layout_showFooterTopBorder__4_CwH"><footer class="footer_root__qJO_k"><span class="footer_logoAndSwitcher__CJkN3"><a href="https://www.hashicorp.com/" aria-label="Go to HashiCorp home page" class="footer_logo__pe9i3 g-focus-ring-from-box-shadow"><div><svg xmlns="http://www.w3.org/2000/svg" width="254" height="53" fill="none" viewBox="0 0 254 53"><g fill="#000" clip-path="url(#clip0_1743_1384)"><g><path d="M63.01 12.22h5.32v11.43h12.19V12.22h5.36V40.2h-5.36V28.45H68.33V40.2h-5.32zM89.28 34.77c0-4.2 2.96-5.6 6.56-6.44l6.079-1.4v-.48c0-2.04-1.32-3.32-3.44-3.32s-3.36 1.16-3.76 3.08l-4.56-.52c.68-3.84 3.92-6.32 8.52-6.32 5.08 0 8.4 3.2 8.4 7.88v8.2c0 .52.16.68.52.68h1.12v4.08h-3.12c-1.96 0-2.84-.64-2.84-2.24 0-.48.08-1.04.28-1.76l-.44-.16c-1.44 3.12-3.56 4.48-6.56 4.48-4.12 0-6.76-2.28-6.76-5.76m8.12 2c2.639 0 4.519-1.92 4.519-4.96v-1.6l-4.36 1.04c-2.2.52-3.12 1.28-3.12 2.96s1.16 2.56 2.96 2.56M110.59 34.69l4.88-.96c.52 2.16 2.24 3.24 4.52 3.24 2.28 0 3.56-.92 3.56-2.48s-1.52-1.88-4.4-2.4c-3.64-.56-8.35-1.24-8.35-6.28 0-3.8 3.24-6.44 8.52-6.44 4.68 0 8.32 1.96 9.15 5.92l-4.92.8c-.44-2-2.08-3.04-4.24-3.04-2.36 0-3.48 1-3.48 2.36 0 1.56 1.56 1.88 4.44 2.4 3.6.56 8.32 1.24 8.32 6.28 0 3.96-3.2 6.6-8.6 6.6-4.88 0-8.52-2-9.4-6M136.94 40.21h-5.2V11.42h5.2v8.96c0 1.04-.2 2.04-.48 3.52l.48.16c1.24-2.96 3.12-4.68 6.6-4.68 4.44 0 6.8 2.8 6.8 7.56v13.27h-5.2V27.1c0-2.32-1.16-3.6-3.48-3.6-2.64 0-4.72 2-4.72 5.52zM161.01 35.05c0 .8.28 1.04.88 1.04h2.28v4.12h-4.72c-2.36 0-3.64-1.32-3.64-3.76V23.98h-2.88v-4.12h8.08zm-5.92-20.63c0-1.76 1.44-3.2 3.16-3.2 1.72 0 3.16 1.44 3.16 3.2 0 1.76-1.4 3.16-3.16 3.16-1.76 0-3.16-1.4-3.16-3.16M165.89 26.22c0-8.4 5.52-14.47 13.51-14.47 6.72 0 11.31 3.88 12.55 9.15l-5.28 1.28c-1-3.68-3.44-5.76-7.28-5.76-4.88 0-7.96 4.04-7.96 9.79 0 5.75 3.2 9.79 8.16 9.79 3.92 0 6.32-2.12 7.32-6.04l5 .56c-1.2 6.28-5.84 10.15-12.39 10.15-8.08 0-13.63-6.08-13.63-14.47zM194.08 30.01c0-6.2 4.36-10.63 10.39-10.63s10.39 4.44 10.39 10.63-4.36 10.67-10.39 10.67-10.39-4.48-10.39-10.67m15.59 0c0-3.84-2.04-6.4-5.2-6.4s-5.2 2.56-5.2 6.4c0 3.84 2.08 6.44 5.2 6.44s5.2-2.56 5.2-6.44M218.149 19.86h4.8v.8c0 1.08-.04 1.96-.36 3.6l.48.12c.76-2.68 2.16-4.52 5.44-4.52h1.48v5.04h-2.12c-2.92 0-4.52 1.76-4.52 5v10.31h-5.2zM232.43 19.86h5.12v.92c0 .92-.08 1.64-.36 3.28l.48.12c1.24-3.24 3.56-4.8 6.56-4.8 4.96 0 8.88 4.08 8.88 10.63 0 6.55-3.92 10.67-8.88 10.67-3 0-5.2-1.56-6.48-4.84l-.44.16c.24 1.6.32 2.36.32 3.24v9.15h-5.2V19.85zm15.51 10.15c0-3.96-2.16-6.4-5.2-6.4s-5.2 2.44-5.2 6.4c0 3.96 2.16 6.44 5.2 6.44s5.2-2.44 5.2-6.44"/></g><g><path d="M20.79.01.07 11.97v28.71l7.78 4.5V16.46l12.94-7.47z"/><path d="M29.06.01v22.87h-8.27v-8.54L13 18.84v29.3l7.79 4.5v-22.8h8.27v8.48l7.79-4.49V4.51z"/><path d="M29.06 52.65 49.78 40.7V11.99L42 7.49V36.2l-12.94 7.47z"/></g></g><defs><clipPath id="clip0_1743_1384"><path fill="#fff" d="M0 0h254v53H0z"/></clipPath></defs></svg></div></a><span class="footer_themeSwitcher__CPJxw hds-font-weight-regular"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-56">Theme</label></span></span><ul class="footer_links__t81SU"><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="/certifications"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Certifications</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://status.hashicorp.com"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">System Status</span></a></li><li><button class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Cookie Manager</span></button></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/terms-of-service"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Terms of Use</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/security"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Security</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/privacy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Privacy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trademark-policy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trademark Policy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trade-controls"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trade Controls</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/accessibility"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Accessibility</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" aria-describedby="opens-in-new-tab-label-react-aria-65" target="_blank" href="https://forms.gle/fnHLuNahLEhjuKvE6"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Give Feedback</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-65">(opens in new tab)</span></li></ul></footer></div></div></div><div class="style_root__owpNH"></div><div style="position:fixed;z-index:99;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none;inset:24px"></div><!--$--><!--/$--></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"metadata":{"title":"Outline | Integrations","description":"Outline - Wiki and knowledgebase for teams"},"product":{"name":"Nomad","slug":"nomad","algoliaConfig":{"indexName":"product_NOMAD","searchOnlyApiKey":"9bfec34ea54e56a11bd50d6bfedc5e71"},"analyticsConfig":{"includedDomains":"nomadproject.io www.nomadproject.io","segmentWriteKey":"qW11yxgipKMsKFKQUCpTVgQUYftYsJj0"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Nomad by HashiCorp","description":"Nomad is a highly available, distributed, data-center aware cluster and application scheduler designed to support the modern datacenter with support for long-running services, batch jobs, and much more.","image":"https://www.nomadproject.io/nomad-public/img/og-image.png","icon":[{"href":"/nomad-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiDays","url":"https://hashicorp.com/conferences/hashidays","text":"One conference. Three cities.","linkText":"Find a city near you","expirationDate":"2024-06-14T00:00:00-08:00"},"version":"1.2.5","subnavItems":[{"text":"Overview","url":"/","type":"inbound"},{"text":"Enterprise","url":"https://www.hashicorp.com/products/nomad/","type":"outbound"},"divider",{"text":"Tutorials","url":"https://developer.hashicorp.com/nomad/tutorials","type":"outbound"},{"text":"Docs","url":"/docs","type":"inbound"},{"text":"API","url":"/api-docs","type":"inbound"},{"text":"Plugins","url":"/plugins","type":"inbound"},{"text":"Tools","url":"/tools","type":"inbound"},{"text":"Community","url":"/community","type":"inbound"}],"basePaths":["docs","api-docs","plugins","tools","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"entry-point","name":"Intro","path":"intro"},{"iconName":"api","name":"API","path":"api-docs"},{"iconName":"terminal-screen","name":"Tools","path":"tools"},{"iconName":"plug","name":"Plugins","path":"plugins"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Nomad Integrations."}},"integration":{"id":"ba5ba039-18f2-48b9-9948-f7ebbf6dfd0d","slug":"outline","name":"Outline","description":"Outline - Wiki and knowledgebase for teams","license_type":null,"license_url":null,"external_only":false,"external_url":"https://www.getoutline.com/","tier":"community","repo_url":"https://github.com/hashicorp/nomad-pack-community-registry","subdirectory":"/packs/outline","created_at":"2023-05-17T17:27:33.530Z","updated_at":"2023-07-12T18:05:08.940Z","hide_versions":false,"organization":{"id":"a4a0551a-1451-4d89-9f56-8031c8350c77","slug":"hashicorp","created_at":"2022-11-09T22:56:32.391Z","updated_at":"2022-11-09T22:56:32.391Z"},"product":{"id":"40557cca-56ca-4cb2-abc6-9bba2a9ca62d","slug":"nomad","name":"Nomad","created_at":"2022-11-09T22:56:29.799Z","updated_at":"2022-11-09T22:56:29.799Z"},"versions":["0.0.1"],"components":[],"flags":[],"integration_type":{"id":"e8835871-6a6a-4836-8797-505cbfbe426a","product_id":"40557cca-56ca-4cb2-abc6-9bba2a9ca62d","slug":"pack","name":"Pack","plural_name":"Packs","description":"Packs are templated sets of resources that are meant to be deployed to Nomad together. Each pack defines parameters that can be customized by the end user.","created_at":"2023-05-02T17:31:29.062Z","updated_at":"2023-05-17T22:44:11.429Z"}},"activeRelease":{"id":"c02e0291-65ee-45ef-9fe8-d18f571cc733","integration_id":"ba5ba039-18f2-48b9-9948-f7ebbf6dfd0d","version":"0.0.1","readme":"This pack contains a service job that runs [Outline](https://www.getoutline.com/) in a single Nomad client. It currently supports\nbeing run by the [Docker](https://www.nomadproject.io/docs/drivers/docker) driver.\n\nIt has 4 tasks:\n- **Outline:** [*(reference)*](https://www.getoutline.com/) the wiki and knowledgebase for teams;\n- **PostgreSQL:** [*(reference)*](https://www.postgresql.org/) the persistent database used by Outline;\n- **Redis:** [*(reference)*](https://redis.io/) for in-memory storage and cache;\n- **MinIO:** [*(reference)*](https://min.io/) for images storage, compatible with S3 cloud storage service.\n\nSetup:\n- Service-to-service communication is handled with Consul Connect;\n- Bitnami images are being used for [PostgreSQL](https://hub.docker.com/r/bitnami/postgresql), [Redis](https://hub.docker.com/r/bitnami/redis) and [MinIO](https://hub.docker.com/r/bitnami/minio). They are non-root containers and as such the mounted files and directories must have the proper permissions for the UID 1001. To achieve this, these 3 images are being run as user 1001 and there are prestart tasks that create their respective directories, while setting the correct ownership, in the host filesystem with the raw exec driver;\n- Only MinIO and Outline ports are exposed. To simplify the pack, MinIO has a static host port of 9000, whereas Outline's port is being randomly assigned. In production it's recommended that none of the services are directly exposed and that traffic is run through a reverse proxy that supports Consul Connect enabled services, like Traefik;\n- MinIO's group has a poststart task that applies a policy that disables directory browsing. It does it by finding the correct Docker container, exec'ing into the container and applying the policy with MinIO's MC;\n- Outline supports a number of authentication methods. Slack is used for demonstration purposes, but enabling more authentication methods is a matter of defining the [environment variables](https://github.com/outline/outline/blob/main/.env.sample);\n- The default variables are defined for a local setup.\n\n## Requirements\nClients that expect to run this job require:\n- [Docker volumes](https://www.nomadproject.io/docs/drivers/docker \"Docker volumes\") to be enabled within their Docker plugin stanza:\n```hcl\nplugin \"docker\" {\n  config {\n    volumes {\n      enabled = true\n    }\n  }\n}\n```\n\n- [Raw Exec](https://www.nomadproject.io/docs/drivers/raw_exec \"Raw Exec\") driver to be enabled:\n```hcl\nplugin \"raw_exec\" {\n  config {\n    enabled = true\n  }\n}\n```\n\n- [CNI plugins installed](https://www.nomadproject.io/docs/job-specification/network#network-modes \"CNI plugins installed\") and [its path](https://www.nomadproject.io/docs/configuration/client#cni_path \"its path\") set in the client's configuration if network mode is set to bridge.\n\n- [Consul Connect](https://www.nomadproject.io/docs/integrations/consul-connect \"Consul Connect\") to be enabled in Consul's configuration:\n```hcl\nports {\n  grpc = 8502\n}\n\nconnect {\n  enabled = true\n}\n```\n\n## Customizing the Docker images\n\nThe 4 docker images can be replaced by using their variable names:\n- postgresql_task_image\n- minio_task_image\n- redis_task_image\n- outline_task_image\n\nExample:\n```\nnomad-pack run outline --var outline_task_image=\"outlinewiki/outline:0.59.0\"\n```\n\n## Customizing the environment variables\n\nThe 4 tasks have default environment variables. However, it's recommended to change the ones related to authentication if the services are going to be publicly accessible. Additional environment variables can be passed to nomad-pack, even if not in the default variables file.\n\nDefault PostgreSQL environment variables:\n```\npostgresql_task_env_vars = [\n  {\n    key = \"ALLOW_EMPTY_PASSWORD\"\n    value = \"no\"\n  },\n  {\n    key = \"POSTGRESQL_USERNAME\"\n    value = \"outline_user\"\n  },\n  {\n    key = \"POSTGRESQL_PASSWORD\"\n    value = \"outline_user_password\"\n  },\n  {\n    key = \"POSTGRESQL_DATABASE\"\n    value = \"outline\"\n  }\n]\n```\n\nDefault Redis environment variables:\n```\nredis_task_env_vars = [\n  {\n    key = \"ALLOW_EMPTY_PASSWORD\"\n    value = \"no\"\n  },\n  {\n    key = \"REDIS_PASSWORD\"\n    value = \"redis_password\"\n  }\n]\n```\n\nDefault MinIO environment variables:\n```\nminio_task_env_vars = [\n  {\n    key = \"MINIO_ROOT_USER\"\n    value = \"minio_root_user\"\n  },\n  {\n    key = \"MINIO_ROOT_PASSWORD\"\n    value = \"minio_root_password\"\n  },\n  {\n    key = \"MINIO_BROWSER\"\n    value = \"off\"\n  },\n  {\n    key = \"MINIO_DEFAULT_BUCKETS\"\n    value = \"outline:none\"\n  },\n  {\n    key = \"MINIO_FORCE_NEW_KEYS\"\n    value = \"yes\"\n  }\n]\n```\n\nDefault Outline environment variables:\n```\noutline_task_env_vars = [\n  {\n    key = \"SECRET_KEY\"\n    value = \"d1434eff0725153e1cc457a013b53dbcdba6a2b40f00729be5680b56fc003897\"\n  },\n  {\n    key = \"UTILS_SECRET\"\n    value = \"d5c59234b0018fe6036b0376d022c7f5187feb8cc1769c7bc4c282ed8a983b54\"\n  },\n  {\n    key = \"REDIS_URL\"\n    value = \"redis://:redis_password@$${NOMAD_UPSTREAM_ADDR_outline-redis}\"\n  },\n  {\n    key = \"DATABASE_URL\"\n    value = \"postgres://outline_user:outline_user_password@$${NOMAD_UPSTREAM_ADDR_outline-postgresql}/outline\"\n  },\n  {\n    key = \"DATABASE_URL_TEST\"\n    value = \"postgres://outline_user:outline_user_password@$${NOMAD_UPSTREAM_ADDR_outline-postgresql}/outline_test\"\n  },\n  {\n    key = \"PGSSLMODE\"\n    value = \"disable\"\n  },\n  {\n    key = \"URL\"\n    value = \"http://localhost:3000\"\n  },\n  {\n    key = \"PORT\"\n    value = \"3000\"\n  },\n  {\n    key = \"AWS_ACCESS_KEY_ID\"\n    value = \"minio_root_user\"\n  },\n  {\n    key = \"AWS_SECRET_ACCESS_KEY\"\n    value = \"minio_root_password\"\n  },\n  {\n    key = \"AWS_REGION\"\n    value = \"us-east-1\"\n  },\n  {\n    key = \"AWS_S3_UPLOAD_BUCKET_URL\"\n    value = \"http://localhost:9000\"\n  },\n  {\n    key = \"AWS_S3_UPLOAD_BUCKET_NAME\"\n    value = \"outline\"\n  },\n  {\n    key = \"AWS_S3_UPLOAD_MAX_SIZE\"\n    value = \"26214400\"\n  },\n  {\n    key = \"AWS_S3_FORCE_PATH_STYLE\"\n    value = \"true\"\n  },\n  {\n    key = \"AWS_S3_ACL\"\n    value = \"private\"\n  },\n  {\n    key = \"SLACK_KEY\"\n    value = \"123123\"\n  },\n  {\n    key = \"SLACK_SECRET\"\n    value = \"123123\"\n  },\n  {\n    key = \"FORCE_HTTPS\"\n    value = \"false\"\n  },\n  {\n    key = \"ENABLE_UPDATES\"\n    value = \"no\"\n  },\n  {\n    key = \"WEB_CONCURRENCY\"\n    value = \"1\"\n  },\n  {\n    key = \"MAXIMUM_IMPORT_SIZE\"\n    value = \"5120000\"\n  },\n  {\n    key = \"DEBUG\"\n    value = \"http\"\n  },\n  {\n    key = \"DEFAULT_LANGUAGE\"\n    value = \"en_US\"\n  }\n]\n```\n\n## Customizing ports\n\nPostgreSQL and Redis ports are not exposed and communication to it needs to be done via its sidecar proxy.\n\nOutline's ports is exposed and randomly assigned to the host.\n\nMinIO port is exposed to the host and static.\n\nThe usage of a reverse proxy, such as Traefik, is highly recommended.\n\n## Customizing resources\n\nThe application resource limits can be customized on a task level. The variables names are:\n- outline_task_resources\n- postgresql_task_resources\n- redis_task_resources\n- minio_task_resources\n\nExample:\n```\noutline_task_resources = {\n  cpu = 1024\n  memory = 2048\n}\n```\n\n## Setting the host paths\n\nPostgreSQL, Redis and MinIO are using bind mounts for storage persistence.\nThe path for the mounts can be replaced through the following variables:\n- postgresql_task_volume_path\n- redis_task_volume_path\n- minio_task_volume_path\n\nExample:\n```\nnomad-pack run outline --var postgresql_task_volume_path=\"/var/lib/outline/postgresql\"\n```","created_at":"2023-05-17T22:19:21.584Z","updated_at":"2023-05-17T22:19:21.584Z","components":[]},"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Nomad","url":"/nomad"},{"title":"Integrations","url":"/nomad/integrations"},{"title":"Outline","url":"/nomad/integrations/hashicorp/outline","isCurrentPage":true}],"anchorLinks":[{"id":"requirements","level":2,"title":"Requirements"},{"id":"customizing-the-docker-images","level":2,"title":"Customizing the Docker images"},{"id":"customizing-the-environment-variables","level":2,"title":"Customizing the environment variables"},{"id":"customizing-ports","level":2,"title":"Customizing ports"},{"id":"customizing-resources","level":2,"title":"Customizing resources"},{"id":"setting-the-host-paths","level":2,"title":"Setting the host paths"}],"serializedREADME":{"compiledSource":"const layoutProps={};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return mdx(MDXLayout,{...layoutProps,...props,components:components,mdxType:\"MDXLayout\"},mdx(\"p\",{\"className\":\"g-type-long-body\"},`This pack contains a service job that runs `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://www.getoutline.com/\"},`Outline`),` in a single Nomad client. It currently supports\nbeing run by the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://www.nomadproject.io/docs/drivers/docker\"},`Docker`),` driver.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`It has 4 tasks:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"strong\",{parentName:\"li\"},`Outline:`),` `,mdx(\"a\",{parentName:\"li\",\"href\":\"https://www.getoutline.com/\"},mdx(\"em\",{parentName:\"a\"},`(reference)`)),` the wiki and knowledgebase for teams;`),mdx(\"li\",{parentName:\"ul\"},mdx(\"strong\",{parentName:\"li\"},`PostgreSQL:`),` `,mdx(\"a\",{parentName:\"li\",\"href\":\"https://www.postgresql.org/\"},mdx(\"em\",{parentName:\"a\"},`(reference)`)),` the persistent database used by Outline;`),mdx(\"li\",{parentName:\"ul\"},mdx(\"strong\",{parentName:\"li\"},`Redis:`),` `,mdx(\"a\",{parentName:\"li\",\"href\":\"https://redis.io/\"},mdx(\"em\",{parentName:\"a\"},`(reference)`)),` for in-memory storage and cache;`),mdx(\"li\",{parentName:\"ul\"},mdx(\"strong\",{parentName:\"li\"},`MinIO:`),` `,mdx(\"a\",{parentName:\"li\",\"href\":\"https://min.io/\"},mdx(\"em\",{parentName:\"a\"},`(reference)`)),` for images storage, compatible with S3 cloud storage service.`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Setup:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`Service-to-service communication is handled with Consul Connect;`),mdx(\"li\",{parentName:\"ul\"},`Bitnami images are being used for `,mdx(\"a\",{parentName:\"li\",\"href\":\"https://hub.docker.com/r/bitnami/postgresql\"},`PostgreSQL`),`, `,mdx(\"a\",{parentName:\"li\",\"href\":\"https://hub.docker.com/r/bitnami/redis\"},`Redis`),` and `,mdx(\"a\",{parentName:\"li\",\"href\":\"https://hub.docker.com/r/bitnami/minio\"},`MinIO`),`. They are non-root containers and as such the mounted files and directories must have the proper permissions for the UID 1001. To achieve this, these 3 images are being run as user 1001 and there are prestart tasks that create their respective directories, while setting the correct ownership, in the host filesystem with the raw exec driver;`),mdx(\"li\",{parentName:\"ul\"},`Only MinIO and Outline ports are exposed. To simplify the pack, MinIO has a static host port of 9000, whereas Outline's port is being randomly assigned. In production it's recommended that none of the services are directly exposed and that traffic is run through a reverse proxy that supports Consul Connect enabled services, like Traefik;`),mdx(\"li\",{parentName:\"ul\"},`MinIO's group has a poststart task that applies a policy that disables directory browsing. It does it by finding the correct Docker container, exec'ing into the container and applying the policy with MinIO's MC;`),mdx(\"li\",{parentName:\"ul\"},`Outline supports a number of authentication methods. Slack is used for demonstration purposes, but enabling more authentication methods is a matter of defining the `,mdx(\"a\",{parentName:\"li\",\"href\":\"https://github.com/outline/outline/blob/main/.env.sample\"},`environment variables`),`;`),mdx(\"li\",{parentName:\"ul\"},`The default variables are defined for a local setup.`)),mdx(\"h2\",{\"id\":\"user-content-requirements\",\"data-text-content\":\"Requirements\",\"className\":\"g-type-display-3\"},`Requirements`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Clients that expect to run this job require:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"https://www.nomadproject.io/docs/drivers/docker\",\"title\":\"Docker volumes\"},`Docker volumes`),` to be enabled within their Docker plugin stanza:`)),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`plugin`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` \"docker\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`  config`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`    volumes`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      enabled `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` true`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"https://www.nomadproject.io/docs/drivers/raw_exec\",\"title\":\"Raw Exec\"},`Raw Exec`),` driver to be enabled:`)),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`plugin`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` \"raw_exec\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`  config`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    enabled `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` true`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"a\",{parentName:\"p\",\"href\":\"https://www.nomadproject.io/docs/job-specification/network#network-modes\",\"title\":\"CNI plugins installed\"},`CNI plugins installed`),` and `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://www.nomadproject.io/docs/configuration/client#cni_path\",\"title\":\"its path\"},`its path`),` set in the client's configuration if network mode is set to bridge.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"a\",{parentName:\"p\",\"href\":\"https://www.nomadproject.io/docs/integrations/consul-connect\",\"title\":\"Consul Connect\"},`Consul Connect`),` to be enabled in Consul's configuration:`))),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`ports`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  grpc `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` 8502`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`connect`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  enabled `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` true`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"h2\",{\"id\":\"user-content-customizing-the-docker-images\",\"data-text-content\":\"Customizing the Docker images\",\"className\":\"g-type-display-3\"},`Customizing the Docker images`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The 4 docker images can be replaced by using their variable names:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`postgresql_task_image`),mdx(\"li\",{parentName:\"ul\"},`minio_task_image`),mdx(\"li\",{parentName:\"ul\"},`redis_task_image`),mdx(\"li\",{parentName:\"ul\"},`outline_task_image`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Example:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`nomad-pack run outline --var outline_task_image=\"outlinewiki/outline:0.59.0\"\n`)),mdx(\"h2\",{\"id\":\"user-content-customizing-the-environment-variables\",\"data-text-content\":\"Customizing the environment variables\",\"className\":\"g-type-display-3\"},`Customizing the environment variables`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The 4 tasks have default environment variables. However, it's recommended to change the ones related to authentication if the services are going to be publicly accessible. Additional environment variables can be passed to nomad-pack, even if not in the default variables file.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Default PostgreSQL environment variables:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`postgresql_task_env_vars = [\n  {\n    key = \"ALLOW_EMPTY_PASSWORD\"\n    value = \"no\"\n  },\n  {\n    key = \"POSTGRESQL_USERNAME\"\n    value = \"outline_user\"\n  },\n  {\n    key = \"POSTGRESQL_PASSWORD\"\n    value = \"outline_user_password\"\n  },\n  {\n    key = \"POSTGRESQL_DATABASE\"\n    value = \"outline\"\n  }\n]\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Default Redis environment variables:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`redis_task_env_vars = [\n  {\n    key = \"ALLOW_EMPTY_PASSWORD\"\n    value = \"no\"\n  },\n  {\n    key = \"REDIS_PASSWORD\"\n    value = \"redis_password\"\n  }\n]\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Default MinIO environment variables:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`minio_task_env_vars = [\n  {\n    key = \"MINIO_ROOT_USER\"\n    value = \"minio_root_user\"\n  },\n  {\n    key = \"MINIO_ROOT_PASSWORD\"\n    value = \"minio_root_password\"\n  },\n  {\n    key = \"MINIO_BROWSER\"\n    value = \"off\"\n  },\n  {\n    key = \"MINIO_DEFAULT_BUCKETS\"\n    value = \"outline:none\"\n  },\n  {\n    key = \"MINIO_FORCE_NEW_KEYS\"\n    value = \"yes\"\n  }\n]\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Default Outline environment variables:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`outline_task_env_vars = [\n  {\n    key = \"SECRET_KEY\"\n    value = \"d1434eff0725153e1cc457a013b53dbcdba6a2b40f00729be5680b56fc003897\"\n  },\n  {\n    key = \"UTILS_SECRET\"\n    value = \"d5c59234b0018fe6036b0376d022c7f5187feb8cc1769c7bc4c282ed8a983b54\"\n  },\n  {\n    key = \"REDIS_URL\"\n    value = \"redis://:redis_password@$\\${NOMAD_UPSTREAM_ADDR_outline-redis}\"\n  },\n  {\n    key = \"DATABASE_URL\"\n    value = \"postgres://outline_user:outline_user_password@$\\${NOMAD_UPSTREAM_ADDR_outline-postgresql}/outline\"\n  },\n  {\n    key = \"DATABASE_URL_TEST\"\n    value = \"postgres://outline_user:outline_user_password@$\\${NOMAD_UPSTREAM_ADDR_outline-postgresql}/outline_test\"\n  },\n  {\n    key = \"PGSSLMODE\"\n    value = \"disable\"\n  },\n  {\n    key = \"URL\"\n    value = \"http://localhost:3000\"\n  },\n  {\n    key = \"PORT\"\n    value = \"3000\"\n  },\n  {\n    key = \"AWS_ACCESS_KEY_ID\"\n    value = \"minio_root_user\"\n  },\n  {\n    key = \"AWS_SECRET_ACCESS_KEY\"\n    value = \"minio_root_password\"\n  },\n  {\n    key = \"AWS_REGION\"\n    value = \"us-east-1\"\n  },\n  {\n    key = \"AWS_S3_UPLOAD_BUCKET_URL\"\n    value = \"http://localhost:9000\"\n  },\n  {\n    key = \"AWS_S3_UPLOAD_BUCKET_NAME\"\n    value = \"outline\"\n  },\n  {\n    key = \"AWS_S3_UPLOAD_MAX_SIZE\"\n    value = \"26214400\"\n  },\n  {\n    key = \"AWS_S3_FORCE_PATH_STYLE\"\n    value = \"true\"\n  },\n  {\n    key = \"AWS_S3_ACL\"\n    value = \"private\"\n  },\n  {\n    key = \"SLACK_KEY\"\n    value = \"123123\"\n  },\n  {\n    key = \"SLACK_SECRET\"\n    value = \"123123\"\n  },\n  {\n    key = \"FORCE_HTTPS\"\n    value = \"false\"\n  },\n  {\n    key = \"ENABLE_UPDATES\"\n    value = \"no\"\n  },\n  {\n    key = \"WEB_CONCURRENCY\"\n    value = \"1\"\n  },\n  {\n    key = \"MAXIMUM_IMPORT_SIZE\"\n    value = \"5120000\"\n  },\n  {\n    key = \"DEBUG\"\n    value = \"http\"\n  },\n  {\n    key = \"DEFAULT_LANGUAGE\"\n    value = \"en_US\"\n  }\n]\n`)),mdx(\"h2\",{\"id\":\"user-content-customizing-ports\",\"data-text-content\":\"Customizing ports\",\"className\":\"g-type-display-3\"},`Customizing ports`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`PostgreSQL and Redis ports are not exposed and communication to it needs to be done via its sidecar proxy.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Outline's ports is exposed and randomly assigned to the host.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`MinIO port is exposed to the host and static.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The usage of a reverse proxy, such as Traefik, is highly recommended.`),mdx(\"h2\",{\"id\":\"user-content-customizing-resources\",\"data-text-content\":\"Customizing resources\",\"className\":\"g-type-display-3\"},`Customizing resources`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The application resource limits can be customized on a task level. The variables names are:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`outline_task_resources`),mdx(\"li\",{parentName:\"ul\"},`postgresql_task_resources`),mdx(\"li\",{parentName:\"ul\"},`redis_task_resources`),mdx(\"li\",{parentName:\"ul\"},`minio_task_resources`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Example:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`outline_task_resources = {\n  cpu = 1024\n  memory = 2048\n}\n`)),mdx(\"h2\",{\"id\":\"user-content-setting-the-host-paths\",\"data-text-content\":\"Setting the host paths\",\"className\":\"g-type-display-3\"},`Setting the host paths`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`PostgreSQL, Redis and MinIO are using bind mounts for storage persistence.\nThe path for the mounts can be replaced through the following variables:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`postgresql_task_volume_path`),mdx(\"li\",{parentName:\"ul\"},`redis_task_volume_path`),mdx(\"li\",{parentName:\"ul\"},`minio_task_volume_path`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Example:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`nomad-pack run outline --var postgresql_task_volume_path=\"/var/lib/outline/postgresql\"\n`)))};MDXContent.isMDXComponent=true;","scope":{}}},"__N_SSG":true},"page":"/[productSlug]/integrations/[organizationSlug]/[integrationSlug]","query":{"productSlug":"nomad","organizationSlug":"hashicorp","integrationSlug":"outline"},"buildId":"QskBVl78yH6cCW74yoB6E","isFallback":false,"gsp":true,"scriptLoader":[]}</script><script nomodule="">window.MSInputMethodContext && document.documentMode && document.write('<script src="/ie-warning.js"><\x2fscript>');</script></body></html>