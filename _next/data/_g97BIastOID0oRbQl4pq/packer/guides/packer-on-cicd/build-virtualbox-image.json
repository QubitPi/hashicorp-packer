{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Packer","url":"/packer"},{"title":"Guides","url":"/packer/guides","isCurrentPage":false},{"title":"Build Immutable Infrastructure with Packer in CI/CD","url":"/packer/guides/packer-on-cicd"},{"title":"Build a VirtualBox Image with Packer in TeamCity","url":"/packer/guides/packer-on-cicd/build-virtualbox-image","isCurrentPage":true}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Packer Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Packer","fullPath":"/packer","theme":"packer"},{"title":"Install","fullPath":"/packer/install"},{"title":"Tutorials","fullPath":"/packer/tutorials"},{"title":"Documentation","fullPath":"/packer/docs"},{"title":"Guides","fullPath":"/packer/guides"},{"title":"Integrations","fullPath":"/packer/integrations"}],"showFilterInput":false,"title":"Packer","visuallyHideTitle":true},{"backToLinkProps":{"text":"Packer Home","href":"/packer"},"levelButtonProps":{"levelUpButtonText":"Packer Home"},"menuItems":[{"title":"Guides","fullPath":"/packer/guides","theme":"packer"},{"title":"Upgrade Your Plugin to use the Packer plugin sdk","path":"1.7-plugin-upgrade","filePath":"../content/guides/1.7-plugin-upgrade.mdx","fullPath":"/packer/guides/1.7-plugin-upgrade","id":"sidebar-nav-item-0"},{"title":"Upgrade Your Template to use Packer init","path":"1.7-template-upgrade","filePath":"../content/guides/1.7-template-upgrade.mdx","fullPath":"/packer/guides/1.7-template-upgrade","id":"sidebar-nav-item-1"},{"title":"HCL guides","routes":[{"title":"Overview","path":"hcl","filePath":"../content/guides/hcl/index.mdx","fullPath":"/packer/guides/hcl","id":"sidebar-nav-item-3"},{"title":"Variables","path":"hcl/variables","filePath":"../content/guides/hcl/variables.mdx","fullPath":"/packer/guides/hcl/variables","id":"sidebar-nav-item-4"},{"title":"Upgrade Packer JSON Template to HCL2","href":"/packer/tutorials/configuration-language/hcl2-upgrade","id":"sidebar-nav-item-5"},{"title":"Making a plugin HCL2 enabled","path":"hcl/component-object-spec","filePath":"../content/guides/hcl/component-object-spec.mdx","fullPath":"/packer/guides/hcl/component-object-spec","id":"sidebar-nav-item-6"}],"id":"sidebar-nav-item-2"},{"title":"Automatic OS Installs","routes":[{"title":"Overview","path":"automatic-operating-system-installs","filePath":"../content/guides/automatic-operating-system-installs/index.mdx","fullPath":"/packer/guides/automatic-operating-system-installs","id":"sidebar-nav-item-8"},{"title":"Unattended Installation for Windows","path":"automatic-operating-system-installs/autounattend_windows","filePath":"../content/guides/automatic-operating-system-installs/autounattend_windows.mdx","fullPath":"/packer/guides/automatic-operating-system-installs/autounattend_windows","id":"sidebar-nav-item-9"},{"title":"Unattended Installation for Debian","path":"automatic-operating-system-installs/preseed_ubuntu","filePath":"../content/guides/automatic-operating-system-installs/preseed_ubuntu.mdx","fullPath":"/packer/guides/automatic-operating-system-installs/preseed_ubuntu","id":"sidebar-nav-item-10"}],"id":"sidebar-nav-item-7"},{"title":"Build Immutable Infrastructure with Packer in CI/CD","routes":[{"title":"Overview","path":"packer-on-cicd","filePath":"../content/guides/packer-on-cicd/index.mdx","fullPath":"/packer/guides/packer-on-cicd","id":"sidebar-nav-item-12"},{"title":"Build Images in CI/CD","path":"packer-on-cicd/build-image-in-cicd","filePath":"../content/guides/packer-on-cicd/build-image-in-cicd.mdx","fullPath":"/packer/guides/packer-on-cicd/build-image-in-cicd","id":"sidebar-nav-item-13"},{"title":"Build a VirtualBox Image with Packer in TeamCity","path":"packer-on-cicd/build-virtualbox-image","filePath":"../content/guides/packer-on-cicd/build-virtualbox-image.mdx","fullPath":"/packer/guides/packer-on-cicd/build-virtualbox-image","id":"sidebar-nav-item-14"},{"title":"Pipelineing Builds","path":"packer-on-cicd/pipelineing-builds","filePath":"../content/guides/packer-on-cicd/pipelineing-builds.mdx","fullPath":"/packer/guides/packer-on-cicd/pipelineing-builds","id":"sidebar-nav-item-15"},{"title":"Trigger Terraform Enterprise runs","path":"packer-on-cicd/trigger-tfe","filePath":"../content/guides/packer-on-cicd/trigger-tfe.mdx","fullPath":"/packer/guides/packer-on-cicd/trigger-tfe","id":"sidebar-nav-item-16"},{"title":"Upload a VirtualBox Image to S3","path":"packer-on-cicd/upload-images-to-artifact","filePath":"../content/guides/packer-on-cicd/upload-images-to-artifact.mdx","fullPath":"/packer/guides/packer-on-cicd/upload-images-to-artifact","id":"sidebar-nav-item-17"}],"id":"sidebar-nav-item-11"}],"title":"Guides","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/packer/blob/main/website/../content/guides/packer-on-cicd/build-virtualbox-image.mdx"},"metadata":{"title":"Build a VirtualBox Image with Packer in TeamCity","description":"Use Packer to build VirtualBox images in TeamCity. Learn how to provision a bare-metal machine, install dependencies, and create and run a build in TeamCity.","layout":null},"outlineItems":[{"title":"Build a VirtualBox Image with Packer in TeamCity","url":"#build-a-virtualbox-image-with-packer-in-teamcity","dataHeapTrack":"toc-list-item-index-0"},{"title":"1. Provision a Bare-metal Machine","url":"#1-provision-a-bare-metal-machine","dataHeapTrack":"toc-list-item-index-1"},{"title":"2. Install VirtualBox and TeamCity dependencies","url":"#2-install-virtualbox-and-teamcity-dependencies","dataHeapTrack":"toc-list-item-index-2"},{"title":"3. Install Packer","url":"#3-install-packer","dataHeapTrack":"toc-list-item-index-3"},{"title":"4. Install TeamCity Agent","url":"#4-install-teamcity-agent","dataHeapTrack":"toc-list-item-index-4"},{"title":"5. Create a New Build in TeamCity","url":"#5-create-a-new-build-in-teamcity","dataHeapTrack":"toc-list-item-index-5"},{"title":"6. Run a build in TeamCity","url":"#6-run-a-build-in-teamcity","dataHeapTrack":"toc-list-item-index-6"}],"pageHeading":{"id":"build-a-virtualbox-image-with-packer-in-teamcity","title":"Build a VirtualBox Image with Packer in TeamCity"},"mdxSource":{"compiledSource":"const layoutProps={};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return mdx(MDXLayout,{...layoutProps,...props,components:components,mdxType:\"MDXLayout\"},mdx(\"p\",null,`This guide walks through the process of building a VirtualBox image using\nPacker on a new TeamCity Agent. Before getting started you should have access\nto a TeamCity Server.`),mdx(\"p\",null,`The Packer VirtualBox builder requires access to VirtualBox. Virtualization is\nnot universally supported on cloud instances, so we recommend you run these\nbuilds on either a bare metal server, or cloud instances which support nested\nvirtualization, such as Azure or GCP. This is also true for the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/packer/plugins/builders/vmware\"},`VMware`),` and the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/packer/plugins/builders/qemu\"},`QEMU`),`\nPacker builders.`),mdx(\"p\",null,`We will use Chef's `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/chef/bento\"},`Bento boxes`),` to provision an\nUbuntu image on VirtualBox. For this example, we will use the repository\ndirectly, but you may also fork it for the same results.`),mdx(\"h2\",{\"id\":\"1-provision-a-bare-metal-machine\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#1-provision-a-bare-metal-machine\",\"aria-label\":\"1 provision a bare metal machine permalink\"},`\\xbb`),`1. Provision a Bare-metal Machine`),mdx(\"p\",null,`For the purposes of this example, we will run on a bare-metal instance from\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://www.packet.net/\"},`Packet`),`. If you are a first time user of Packet, the\nPacket team has provided HashiCorp the coupon code `,mdx(\"inlineCode\",{parentName:\"p\"},`hashi25`),` which you can use\nfor `,mdx(\"inlineCode\",{parentName:\"p\"},`$25`),` off to test out this guide and up to 30`,`%`,` if you decide to\nreserve ongoing servers (email `,mdx(\"a\",{parentName:\"p\",\"href\":\"mailto:help@packet.net\"},`help@packet.net`),` for details). You can use\na `,mdx(\"inlineCode\",{parentName:\"p\"},`baremetal_0`),` server type for testing, but for regular use, the `,mdx(\"inlineCode\",{parentName:\"p\"},`baremetal_1`),`\ninstance may be a better option.`),mdx(\"p\",null,`There is also a `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://registry.terraform.io/providers/packethost/packet/latest/docs\"},`Packet\nProvider`),` in\nTerraform you can use to provision the project and instance.`),mdx(\"pre\",{\"className\":\"language-hcl\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-hcl\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`provider`,mdx(\"span\",{parentName:\"span\",\"className\":\"token type variable\"},` \"packet\" `)),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`resource `,mdx(\"span\",{parentName:\"span\",\"className\":\"token type variable\"},`\"packet_project\"`)),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"teamcity_agents\"`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`name`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"TeamCity\"`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`resource `,mdx(\"span\",{parentName:\"span\",\"className\":\"token type variable\"},`\"packet_device\"`)),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"agent\"`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`hostname`),`         `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"teamcity-agent\"`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`plan`),`             `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"baremetal_0\"`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`facility`),`         `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"ams1\"`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`operating_system`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"ubuntu_16_04\"`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`billing_cycle`),`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"hourly\"`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`project_id`),`       `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"`,mdx(\"span\",{parentName:\"span\",\"className\":\"token interpolation\"},mdx(\"span\",{parentName:\"span\",\"className\":\"token punctuation\"},`$`),mdx(\"span\",{parentName:\"span\",\"className\":\"token punctuation\"},`{`),`packet_project`,mdx(\"span\",{parentName:\"span\",\"className\":\"token punctuation\"},`.`),`teamcity_project`,mdx(\"span\",{parentName:\"span\",\"className\":\"token punctuation\"},`.`),`id`,mdx(\"span\",{parentName:\"span\",\"className\":\"token punctuation\"},`}`)),`\"`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`)),mdx(\"h2\",{\"id\":\"2-install-virtualbox-and-teamcity-dependencies\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#2-install-virtualbox-and-teamcity-dependencies\",\"aria-label\":\"2 install virtualbox and teamcity dependencies permalink\"},`\\xbb`),`2. Install VirtualBox and TeamCity dependencies`),mdx(\"p\",null,`VirtualBox must be installed on the new instance, and TeamCity requires the JDK\nprior to installation. This guide uses Ubuntu as the Linux distribution, so you\nmay need to adjust these commands for your distribution of choice.`),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},`Install Teamcity Dependencies`)),mdx(\"pre\",{\"className\":\"language-shell-session\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shell-session\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token command\"},mdx(\"span\",{parentName:\"span\",\"className\":\"token shell-symbol important\"},`$`),` `,mdx(\"span\",{parentName:\"span\",\"className\":\"token bash language-bash\"},mdx(\"span\",{parentName:\"span\",\"className\":\"token function\"},`apt-get`),` upgrade`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token command\"},mdx(\"span\",{parentName:\"span\",\"className\":\"token shell-symbol important\"},`$`),` `,mdx(\"span\",{parentName:\"span\",\"className\":\"token bash language-bash\"},mdx(\"span\",{parentName:\"span\",\"className\":\"token function\"},`apt-get`),` `,mdx(\"span\",{parentName:\"span\",\"className\":\"token function\"},`install`),` -y `,mdx(\"span\",{parentName:\"span\",\"className\":\"token function\"},`zip`),` linux-headers-generic linux-headers-4.13.0-16-generic build-essential openjdk-8-jdk`)),`\n`)),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},`Install VirtualBox`)),mdx(\"pre\",{\"className\":\"language-shell-session\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shell-session\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token command\"},mdx(\"span\",{parentName:\"span\",\"className\":\"token shell-symbol important\"},`$`),` `,mdx(\"span\",{parentName:\"span\",\"className\":\"token bash language-bash\"},mdx(\"span\",{parentName:\"span\",\"className\":\"token function\"},`curl`),` -OL `,mdx(\"span\",{parentName:\"span\",\"className\":\"token string\"},`\"https://download.virtualbox.org/virtualbox/5.2.2/virtualbox-5.2_5.2.2-119230~Ubuntu~xenial_amd64.deb\"`))),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token command\"},mdx(\"span\",{parentName:\"span\",\"className\":\"token shell-symbol important\"},`$`),` `,mdx(\"span\",{parentName:\"span\",\"className\":\"token bash language-bash\"},`dpkg -i virtualbox-5.2_5.2.2-119230~Ubuntu~xenial_amd64.deb`)),`\n`)),mdx(\"p\",null,`You can also use the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/docs/provisioners/remote-exec\"},mdx(\"inlineCode\",{parentName:\"a\"},`remote-exec`),`\nprovisioner`),` in\nyour Terraform configuration to automatically run these commands when\nprovisioning the new instance.`),mdx(\"h2\",{\"id\":\"3-install-packer\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#3-install-packer\",\"aria-label\":\"3 install packer permalink\"},`\\xbb`),`3. Install Packer`),mdx(\"p\",null,`The TeamCity Agent machine will also need Packer Installed. You can find the\nlatest download link from the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/packer/downloads\"},`Packer\nDownload`),` page.`),mdx(\"pre\",{\"className\":\"language-shell-session\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shell-session\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token command\"},mdx(\"span\",{parentName:\"span\",\"className\":\"token shell-symbol important\"},`$`),` `,mdx(\"span\",{parentName:\"span\",\"className\":\"token bash language-bash\"},mdx(\"span\",{parentName:\"span\",\"className\":\"token function\"},`curl`),` -OL `,mdx(\"span\",{parentName:\"span\",\"className\":\"token string\"},`\"https://releases.hashicorp.com/packer/1.1.2/packer_1.1.2_linux_amd64.zip\"`))),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token command\"},mdx(\"span\",{parentName:\"span\",\"className\":\"token shell-symbol important\"},`$`),` `,mdx(\"span\",{parentName:\"span\",\"className\":\"token bash language-bash\"},mdx(\"span\",{parentName:\"span\",\"className\":\"token function\"},`unzip`),` ./packer_1.1.2_linux_amd64.zip`)),`\n`)),mdx(\"p\",null,`Packer is installed at the `,mdx(\"inlineCode\",{parentName:\"p\"},`/root/packer`),` path which is used in subsequent\nsteps. If it is installed elsewhere, take note of the path.`),mdx(\"h2\",{\"id\":\"4-install-teamcity-agent\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#4-install-teamcity-agent\",\"aria-label\":\"4 install teamcity agent permalink\"},`\\xbb`),`4. Install TeamCity Agent`),mdx(\"p\",null,`This guide assume you already have a running instance of TeamCity Server. The\nnew TeamCity Agent can be installed by `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://confluence.jetbrains.com/display/TCD10//Setting+up+and+Running+Additional+Build+Agents#SettingupandRunningAdditionalBuildAgents-InstallingAdditionalBuildAgents\"},`downloading a zip file and installing\nmanually`),`,\nor using `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://confluence.jetbrains.com/display/TCD10//Setting+up+and+Running+Additional+Build+Agents#SettingupandRunningAdditionalBuildAgents-InstallingviaAgentPush\"},`Agent\nPush`),`.\nOnce it is installed it should appear in TeamCity as a new Agent.`),mdx(\"p\",null,`Create a new Agent Pool for agents responsible for VirtualBox Packer builds and\nassign the new Agent to it.`),mdx(\"h2\",{\"id\":\"5-create-a-new-build-in-teamcity\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#5-create-a-new-build-in-teamcity\",\"aria-label\":\"5 create a new build in teamcity permalink\"},`\\xbb`),`5. Create a New Build in TeamCity`),mdx(\"p\",null,`In TeamCity Server, create a new build. To use the upstream Bento repository,\nwe'll choose `,mdx(\"em\",{parentName:\"p\"},`From a repository URL`),`, and enter\n`,mdx(\"inlineCode\",{parentName:\"p\"},`https://github.com/chef/bento.git`),` as the `,mdx(\"strong\",{parentName:\"p\"},`Repository URL`),`.`),mdx(\"p\",null,mdx(\"img\",{parentName:\"p\",\"src\":\"/img/guides/teamcity_create_project_from_url-1.png\",\"alt\":\"TeamCity screenshot: New Build\"})),mdx(\"p\",null,`Click `,mdx(\"strong\",{parentName:\"p\"},`Proceed`),`.`),mdx(\"p\",null,mdx(\"img\",{parentName:\"p\",\"src\":\"/img/guides/teamcity_create_project_from_url-2.png\",\"alt\":\"TeamCity screenshot: New Build\"})),mdx(\"p\",null,`And `,mdx(\"strong\",{parentName:\"p\"},`Proceed`),` again.`),mdx(\"p\",null,`We won't use the `,mdx(\"em\",{parentName:\"p\"},`Auto-detected Build Steps`),`. Instead, click `,mdx(\"em\",{parentName:\"p\"},`configure build\nsteps manually`),`. For the `,mdx(\"em\",{parentName:\"p\"},`runner type`),`, pick `,mdx(\"strong\",{parentName:\"p\"},`Command Line`),`, and enter the\nfollowing values. Make sure to click `,mdx(\"em\",{parentName:\"p\"},`Show advanced options`),`, as we need to set\nthe working directory.`),mdx(\"p\",null,mdx(\"img\",{parentName:\"p\",\"src\":\"/img/guides/teamcity_build_configuration.png\",\"alt\":\"TeamCity screenshot: Build Step\"})),mdx(\"p\",null,`This will use the `,mdx(\"inlineCode\",{parentName:\"p\"},`build`),` command in Packer to build the image defined in\n`,mdx(\"inlineCode\",{parentName:\"p\"},`ubuntu/ubuntu-16.04-amd64.json`),`. It assumes that the VCS repository you're\nusing is a fork of `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/chef/bento\"},`Chef/Bento`),`. Packer defaults\nto building VirtualBox machines by launching a GUI that shows the console.\nSince this will run in CI/CD, use the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/packer/plugins/builders/virtualbox/iso#headless\"},mdx(\"inlineCode\",{parentName:\"a\"},`headless`),`\nvariable`),` to instruct Packer to\nstart the machine without the console. Packer can build multiple image types,\nso the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/packer/docs/commands/build#only-foo-bar-baz\"},mdx(\"inlineCode\",{parentName:\"a\"},`-only=virtualbox-iso`),`\noption`),` instructs Packer to only\nbuild the builds with the name `,mdx(\"inlineCode\",{parentName:\"p\"},`virtualbox-iso`),`.`),mdx(\"h2\",{\"id\":\"6-run-a-build-in-teamcity\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#6-run-a-build-in-teamcity\",\"aria-label\":\"6 run a build in teamcity permalink\"},`\\xbb`),`6. Run a build in TeamCity`),mdx(\"p\",null,`The entire configuration is ready for a new build. Start a new run in TeamCity\nby pressing “Run”.`),mdx(\"p\",null,`The new run should be triggered and the virtual box image will be built.`),mdx(\"p\",null,mdx(\"img\",{parentName:\"p\",\"src\":\"/img/guides/teamcity_build_log.png\",\"alt\":\"TeamCity screenshot: Build log\"})),mdx(\"p\",null,`Once complete, the build status should be updated to complete and successful.`),mdx(\"p\",null,mdx(\"img\",{parentName:\"p\",\"src\":\"/img/guides/teamcity_build_log_complete.png\",\"alt\":\"TeamCity screenshot: Build log complete\"})))};MDXContent.isMDXComponent=true;","scope":{"version":"latest"}},"product":{"name":"Packer","slug":"packer","algoliaConfig":{"indexName":"product_PACKER","searchOnlyApiKey":"4e1ea7f4bf4335ac43d9f28463e42148"},"analyticsConfig":{"includedDomains":"packer.io www.packer.io","segmentWriteKey":"AjXdfmTTk1I9q9dfyePuDFHBrz1tCO3l"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Packer by HashiCorp","description":"Packer helps you create golden images for multiple platforms from a single source configuration.","image":"https://www.packer.io/packer-public/img/og-image.png","icon":[{"href":"/packer-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiDays","url":"https://hashicorp.com/conferences/hashidays","text":"One conference. Three cities.","linkText":"Find a city near you","expirationDate":"2024-06-14T00:00:00-08:00"},"version":"1.7.10","basePaths":["docs","guides","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"guide","name":"Guides","path":"guides"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Packer Integrations."},"currentRootDocsPath":{"iconName":"guide","name":"Guides","path":"guides"}},"projectName":null,"versions":null},"__N_SSG":true}