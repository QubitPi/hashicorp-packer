{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Packer","url":"/packer"},{"title":"Plugins","url":"/packer/plugins"},{"title":"Builders"},{"title":"UCloud","key":"ucloud/packer-plugin-ucloud"}],"githubFileUrl":"https://github.com/ucloud/packer-plugin-ucloud/blob/main/docs/builders/uhost.mdx","sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Packer Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Packer","fullPath":"/packer","theme":"packer"},{"title":"Install","fullPath":"/packer/downloads"},{"title":"Tutorials","fullPath":"/packer/tutorials"},{"title":"Documentation","fullPath":"/packer/docs"},{"title":"Guides","fullPath":"/packer/guides"},{"title":"Plugins","fullPath":"/packer/plugins"},{"title":"Integrations","fullPath":"/packer/integrations"}],"showFilterInput":false,"title":"Packer","visuallyHideTitle":true},{"backToLinkProps":{"text":"Packer Home","href":"/packer"},"levelButtonProps":{"levelUpButtonText":"Packer Home"},"menuItems":[{"title":"Plugins","fullPath":"/packer/plugins","theme":"packer"},{"divider":true,"id":"sidebar-nav-item-2"},{"title":"Anka","routes":[{"title":"Post-Processors","routes":[{"title":"Anka Registry Push","path":"post-processors/anka","remoteFile":{"filePath":"docs/post-processors/anka-registry-push.mdx"},"pluginData":{"title":"Anka","path":"anka","repo":"veertuinc/packer-plugin-veertu-anka","pluginTier":"community","sourceBranch":"master","version":"latest","files":[]},"fullPath":"/packer/plugins/post-processors/anka","id":"sidebar-nav-item-5"}],"id":"sidebar-nav-item-4"},{"title":"Builders","routes":[{"title":"VM Clone","path":"builders/anka/vm-clone","remoteFile":{"filePath":"docs/builders/vm-clone.mdx"},"pluginData":{"title":"Anka","path":"anka","repo":"veertuinc/packer-plugin-veertu-anka","pluginTier":"community","sourceBranch":"master","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/anka/vm-clone","id":"sidebar-nav-item-7"},{"title":"VM Create","path":"builders/anka/vm-create","remoteFile":{"filePath":"docs/builders/vm-create.mdx"},"pluginData":{"title":"Anka","path":"anka","repo":"veertuinc/packer-plugin-veertu-anka","pluginTier":"community","sourceBranch":"master","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/anka/vm-create","id":"sidebar-nav-item-8"}],"id":"sidebar-nav-item-6"}],"id":"sidebar-nav-item-3"},{"title":"DigitalOcean","routes":[{"title":"Builders","routes":[{"title":"digitalocean","path":"builders/digitalocean","remoteFile":{"filePath":"docs/builders/digitalocean.mdx"},"pluginData":{"title":"DigitalOcean","path":"digitalocean","repo":"digitalocean/packer-plugin-digitalocean","pluginTier":"verified","version":"latest","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/builders/digitalocean","id":"sidebar-nav-item-11"}],"id":"sidebar-nav-item-10"},{"title":"Data Sources","routes":[{"title":"digitalocean-image","path":"datasources/digitalocean","remoteFile":{"filePath":"docs/datasources/digitalocen-image.mdx"},"pluginData":{"title":"DigitalOcean","path":"digitalocean","repo":"digitalocean/packer-plugin-digitalocean","pluginTier":"verified","version":"latest","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/datasources/digitalocean","id":"sidebar-nav-item-13"}],"id":"sidebar-nav-item-12"},{"title":"Post-Processors","routes":[{"title":"digitalocean-import","path":"post-processors/digitalocean","remoteFile":{"filePath":"docs/post-processors/digitalocean-import.mdx"},"pluginData":{"title":"DigitalOcean","path":"digitalocean","repo":"digitalocean/packer-plugin-digitalocean","pluginTier":"verified","version":"latest","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/post-processors/digitalocean","id":"sidebar-nav-item-15"}],"id":"sidebar-nav-item-14"}],"id":"sidebar-nav-item-9"},{"title":"External","routes":[{"title":"Data Sources","routes":[{"title":"Overview","path":"datasources/external","remoteFile":{"filePath":"docs/datasources/index.mdx"},"pluginData":{"title":"External","path":"external","repo":"joomcode/packer-plugin-external","version":"latest","sourceBranch":"main","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/datasources/external","id":"sidebar-nav-item-18"},{"title":"External","path":"datasources/external/external","remoteFile":{"filePath":"docs/datasources/external.mdx"},"pluginData":{"title":"External","path":"external","repo":"joomcode/packer-plugin-external","version":"latest","sourceBranch":"main","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/datasources/external/external","id":"sidebar-nav-item-19"},{"title":"External Raw","path":"datasources/external/raw","remoteFile":{"filePath":"docs/datasources/raw.mdx"},"pluginData":{"title":"External","path":"external","repo":"joomcode/packer-plugin-external","version":"latest","sourceBranch":"main","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/datasources/external/raw","id":"sidebar-nav-item-20"}],"id":"sidebar-nav-item-17"}],"id":"sidebar-nav-item-16"},{"title":"Git","routes":[{"title":"Data Sources","routes":[{"title":"Overview","path":"datasources/git","remoteFile":{"filePath":"docs/datasources/index.mdx"},"pluginData":{"title":"Git","path":"git","repo":"ethanmdavidson/packer-plugin-git","version":"latest","sourceBranch":"main","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/datasources/git","id":"sidebar-nav-item-23"},{"title":"Commit","path":"datasources/git/commit","remoteFile":{"filePath":"docs/datasources/commit.mdx"},"pluginData":{"title":"Git","path":"git","repo":"ethanmdavidson/packer-plugin-git","version":"latest","sourceBranch":"main","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/datasources/git/commit","id":"sidebar-nav-item-24"},{"title":"Repository","path":"datasources/git/repository","remoteFile":{"filePath":"docs/datasources/repository.mdx"},"pluginData":{"title":"Git","path":"git","repo":"ethanmdavidson/packer-plugin-git","version":"latest","sourceBranch":"main","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/datasources/git/repository","id":"sidebar-nav-item-25"},{"title":"Tree","path":"datasources/git/tree","remoteFile":{"filePath":"docs/datasources/tree.mdx"},"pluginData":{"title":"Git","path":"git","repo":"ethanmdavidson/packer-plugin-git","version":"latest","sourceBranch":"main","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/datasources/git/tree","id":"sidebar-nav-item-26"}],"id":"sidebar-nav-item-22"}],"id":"sidebar-nav-item-21"},{"title":"Gridscale","routes":[{"title":"Builders","routes":[{"title":"gridscale","path":"builders/gridscale","remoteFile":{"filePath":"docs/builders/gridscale.mdx"},"pluginData":{"title":"Gridscale","path":"gridscale","repo":"gridscale/packer-plugin-gridscale","version":"latest","pluginTier":"verified","isHcpPackerReady":false,"files":[]},"fullPath":"/packer/plugins/builders/gridscale","id":"sidebar-nav-item-29"}],"id":"sidebar-nav-item-28"}],"id":"sidebar-nav-item-27"},{"title":"IPSW","routes":[{"title":"Data Sources","routes":[{"title":"IPSW","path":"datasources/ipsw","remoteFile":{"filePath":"docs/datasources/ipsw.mdx"},"pluginData":{"title":"IPSW","path":"ipsw","repo":"torarnv/packer-plugin-ipsw","version":"latest","sourceBranch":"main","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/datasources/ipsw","id":"sidebar-nav-item-32"}],"id":"sidebar-nav-item-31"}],"id":"sidebar-nav-item-30"},{"title":"Kamatera","routes":[{"title":"Builders","routes":[{"title":"Kamatera","path":"builders/kamatera","remoteFile":{"filePath":"docs/builders/kamatera.mdx"},"pluginData":{"title":"Kamatera","path":"kamatera","repo":"kamatera/packer-plugin-kamatera","pluginTier":"community","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/kamatera","id":"sidebar-nav-item-35"}],"id":"sidebar-nav-item-34"}],"id":"sidebar-nav-item-33"},{"title":"Linode","routes":[{"title":"Builders","routes":[{"title":"Linode","path":"builders/linode","remoteFile":{"filePath":"docs/builders/linode.mdx"},"pluginData":{"title":"Linode","path":"linode","repo":"linode/packer-plugin-linode","pluginTier":"verified","version":"latest","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/builders/linode","id":"sidebar-nav-item-38"}],"id":"sidebar-nav-item-37"}],"id":"sidebar-nav-item-36"},{"title":"Libvirt","routes":[{"title":"Builders","routes":[{"title":"Libvirt","path":"builders/libvirt","remoteFile":{"filePath":"docs/builders/libvirt.mdx"},"pluginData":{"title":"Libvirt","path":"libvirt","repo":"thomasklein94/packer-plugin-libvirt","pluginTier":"community","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/libvirt","id":"sidebar-nav-item-41"}],"id":"sidebar-nav-item-40"}],"id":"sidebar-nav-item-39"},{"title":"Mondoo","routes":[{"title":"Provisioners","routes":[{"title":"cnspec","path":"provisioners/mondoo/cnspec","remoteFile":{"filePath":"docs/provisioners/cnspec.mdx"},"pluginData":{"title":"Mondoo","path":"mondoo","repo":"mondoohq/packer-plugin-mondoo","pluginTier":"verified","version":"latest","files":[]},"fullPath":"/packer/plugins/provisioners/mondoo/cnspec","id":"sidebar-nav-item-44"},{"title":"Mondoo","path":"provisioners/mondoo/mondoo","remoteFile":{"filePath":"docs/provisioners/mondoo.mdx"},"pluginData":{"title":"Mondoo","path":"mondoo","repo":"mondoohq/packer-plugin-mondoo","pluginTier":"verified","version":"latest","files":[]},"fullPath":"/packer/plugins/provisioners/mondoo/mondoo","id":"sidebar-nav-item-45"}],"id":"sidebar-nav-item-43"}],"id":"sidebar-nav-item-42"},{"title":"Nutanix","routes":[{"title":"Builders","routes":[{"title":"Overview","path":"builders/nutanix","remoteFile":{"filePath":"docs/builders/index.mdx"},"pluginData":{"title":"Nutanix","path":"nutanix","repo":"nutanix-cloud-native/packer-plugin-nutanix","version":"latest","pluginTier":"verified","sourceBranch":"main","files":[]},"fullPath":"/packer/plugins/builders/nutanix","id":"sidebar-nav-item-48"},{"title":"Nutanix","path":"builders/nutanix/nutanix","remoteFile":{"filePath":"docs/builders/nutanix.mdx"},"pluginData":{"title":"Nutanix","path":"nutanix","repo":"nutanix-cloud-native/packer-plugin-nutanix","version":"latest","pluginTier":"verified","sourceBranch":"main","files":[]},"fullPath":"/packer/plugins/builders/nutanix/nutanix","id":"sidebar-nav-item-49"}],"id":"sidebar-nav-item-47"}],"id":"sidebar-nav-item-46"},{"title":"Outscale","routes":[{"title":"Builders","routes":[{"title":"Overview","path":"builders/outscale","remoteFile":{"filePath":"docs/builders/index.mdx"},"pluginData":{"title":"Outscale","path":"outscale","repo":"outscale/packer-plugin-outscale","version":"latest","pluginTier":"verified","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/builders/outscale","id":"sidebar-nav-item-52"},{"title":"BSU","path":"builders/outscale/outscale-bsu","remoteFile":{"filePath":"docs/builders/outscale-bsu.mdx"},"pluginData":{"title":"Outscale","path":"outscale","repo":"outscale/packer-plugin-outscale","version":"latest","pluginTier":"verified","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/builders/outscale/outscale-bsu","id":"sidebar-nav-item-53"},{"title":"BSU Surrogate","path":"builders/outscale/outscale-bsusurrogate","remoteFile":{"filePath":"docs/builders/outscale-bsusurrogate.mdx"},"pluginData":{"title":"Outscale","path":"outscale","repo":"outscale/packer-plugin-outscale","version":"latest","pluginTier":"verified","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/builders/outscale/outscale-bsusurrogate","id":"sidebar-nav-item-54"},{"title":"BSU Volume","path":"builders/outscale/outscale-bsuvolume","remoteFile":{"filePath":"docs/builders/outscale-bsuvolume.mdx"},"pluginData":{"title":"Outscale","path":"outscale","repo":"outscale/packer-plugin-outscale","version":"latest","pluginTier":"verified","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/builders/outscale/outscale-bsuvolume","id":"sidebar-nav-item-55"},{"title":"chroot","path":"builders/outscale/outscale-chroot","remoteFile":{"filePath":"docs/builders/outscale-chroot.mdx"},"pluginData":{"title":"Outscale","path":"outscale","repo":"outscale/packer-plugin-outscale","version":"latest","pluginTier":"verified","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/builders/outscale/outscale-chroot","id":"sidebar-nav-item-56"}],"id":"sidebar-nav-item-51"},{"title":"Data Sources","routes":[{"title":"Outscale OMI","path":"datasources/outscale","remoteFile":{"filePath":"docs/datasources/omi.mdx"},"pluginData":{"title":"Outscale","path":"outscale","repo":"outscale/packer-plugin-outscale","version":"latest","pluginTier":"verified","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/datasources/outscale","id":"sidebar-nav-item-58"}],"id":"sidebar-nav-item-57"}],"id":"sidebar-nav-item-50"},{"title":"Scaleway","routes":[{"title":"Builders","routes":[{"title":"Scaleway","path":"builders/scaleway","remoteFile":{"filePath":"docs/builders/scaleway.mdx"},"pluginData":{"title":"Scaleway","path":"scaleway","repo":"scaleway/packer-plugin-scaleway","pluginTier":"verified","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/scaleway","id":"sidebar-nav-item-61"}],"id":"sidebar-nav-item-60"}],"id":"sidebar-nav-item-59"},{"title":"SSH Key","routes":[{"title":"Data Sources","routes":[{"title":"SSH Key","path":"datasources/sshkey","remoteFile":{"filePath":"docs/datasources/sshkey.mdx"},"pluginData":{"title":"SSH Key","path":"sshkey","repo":"ivoronin/packer-plugin-sshkey","pluginTier":"community","version":"latest","files":[]},"fullPath":"/packer/plugins/datasources/sshkey","id":"sidebar-nav-item-64"}],"id":"sidebar-nav-item-63"}],"id":"sidebar-nav-item-62"},{"title":"Tart","routes":[{"title":"Builders","routes":[{"title":"Tart","path":"builders/tart","remoteFile":{"filePath":"docs/builders/tart.mdx"},"pluginData":{"title":"Tart","path":"tart","repo":"cirruslabs/packer-plugin-tart","pluginTier":"community","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/tart","id":"sidebar-nav-item-67"}],"id":"sidebar-nav-item-66"}],"id":"sidebar-nav-item-65"},{"title":"UCloud","routes":[{"title":"Builders","routes":[{"title":"UCloud","path":"builders/ucloud","remoteFile":{"filePath":"docs/builders/uhost.mdx","fileString":"---\ndescription: |\n  The `ucloud-uhost` Packer builder plugin provides the capability to build\n  customized images based on an existing base image for use in UHost Instance.\npage_title: UCloud Image Builder\nnav_title: UCloud\n---\n\n# UCloud Image Builder\n\nType: `ucloud-uhost`\nArtifact BuilderId: `ucloud.uhost`\n\nThe `ucloud-uhost` Packer builder plugin provides the capability to build\ncustomized images based on an existing base image for use in UHost Instance.\n\nThis builder builds an UCloud image by launching an UHost instance from a source image,\nprovisioning that running machine, and then creating an image from that machine.\n\n## Configuration Reference\n\nThe following configuration options are available for building UCloud images. They are\nsegmented below into two categories: required and optional parameters.\n\nIn addition to the options listed here, a\n[communicator](/packer/docs/templates/legacy_json_templates/communicator) can be configured for this\nbuilder.\n\n~> **Note:** The builder doesn't support Windows images for now and only supports CentOS and Ubuntu images via SSH authentication with `ssh_username` (Required) and `ssh_password` (Optional). The `ssh_username` must be `root` for CentOS images and `ubuntu` for Ubuntu images. The `ssh_password` may contain 8-30 characters, and must consist of at least 2 items out of the capital letters, lower case letters, numbers and special characters. The special characters include `()~!@#\\$%^&\\*-+=\\_|{}\\[]:;'<>,.?/`.\n\n### Required:\n\n<!-- Code generated from the comments of the AccessConfig struct in builder/ucloud/common/access_config.go; DO NOT EDIT MANUALLY -->\n\n- `public_key` (string) - This is the UCloud public key. It must be provided unless `profile` is set,\n  but it can also be sourced from the `UCLOUD_PUBLIC_KEY` environment variable.\n\n- `private_key` (string) - This is the UCloud private key. It must be provided unless `profile` is set,\n  but it can also be sourced from the `UCLOUD_PRIVATE_KEY` environment variable.\n\n- `region` (string) - This is the UCloud region. It must be provided, but it can also be sourced from\n  the `UCLOUD_REGION` environment variables.\n\n- `project_id` (string) - This is the UCloud project id. It must be provided, but it can also be sourced\n  from the `UCLOUD_PROJECT_ID` environment variables.\n\n<!-- End of code generated from the comments of the AccessConfig struct in builder/ucloud/common/access_config.go; -->\n\n\n<!-- Code generated from the comments of the RunConfig struct in builder/ucloud/common/run_config.go; DO NOT EDIT MANUALLY -->\n\n- `availability_zone` (string) - This is the UCloud availability zone where UHost instance is located. such as: `cn-bj2-02`.\n  You may refer to [list of availability_zone](https://docs.ucloud.cn/api/summary/regionlist)\n\n- `source_image_id` (string) - This is the ID of base image which you want to create your customized images with.\n\n- `instance_type` (string) - The type of UHost instance.\n  You may refer to [list of instance type](https://docs.ucloud.cn/compute/terraform/specification/instance)\n\n<!-- End of code generated from the comments of the RunConfig struct in builder/ucloud/common/run_config.go; -->\n\n\n<!-- Code generated from the comments of the ImageConfig struct in builder/ucloud/common/image_config.go; DO NOT EDIT MANUALLY -->\n\n- `image_name` (string) - The name of the user-defined image, which contains 1-63 characters and only\n  support Chinese, English, numbers, '-\\_,.:[]'.\n\n<!-- End of code generated from the comments of the ImageConfig struct in builder/ucloud/common/image_config.go; -->\n\n\n### Optional:\n\n<!-- Code generated from the comments of the AccessConfig struct in builder/ucloud/common/access_config.go; DO NOT EDIT MANUALLY -->\n\n- `base_url` (string) - This is the base url. (Default: `https://api.ucloud.cn`).\n\n- `profile` (string) - This is the UCloud profile name as set in the shared credentials file, it can\n  also be sourced from the `UCLOUD_PROFILE` environment variables.\n\n- `shared_credentials_file` (string) - This is the path to the shared credentials file, it can also be sourced from\n  the `UCLOUD_SHARED_CREDENTIAL_FILE` environment variables. If this is not set\n  and a profile is specified, `~/.ucloud/credential.json` will be used.\n\n<!-- End of code generated from the comments of the AccessConfig struct in builder/ucloud/common/access_config.go; -->\n\n\n<!-- Code generated from the comments of the RunConfig struct in builder/ucloud/common/run_config.go; DO NOT EDIT MANUALLY -->\n\n- `instance_name` (string) - The name of instance, which contains 1-63 characters and only support Chinese,\n  English, numbers, '-', '\\_', '.'.\n\n- `boot_disk_type` (string) - The type of boot disk associated to UHost instance.\n  Possible values are: `cloud_ssd` and `cloud_rssd` for cloud boot disk, `local_normal` and `local_ssd`\n  for local boot disk. (Default: `cloud_ssd`). The `cloud_ssd` and `local_ssd` are not fully supported\n  by all regions as boot disk type, please proceed to UCloud console for more details.\n  \n  ~> **Note:** It takes around 10 mins for boot disk initialization when `boot_disk_type` is `local_normal` or `local_ssd`.\n\n- `boot_disk_size` (int) - The size of boot disk associated to UHost instance, which cannot be smaller than the size of source image.\n  The unit is `GB`. Default value is the size of source image.\n\n- `vpc_id` (string) - The ID of VPC linked to the UHost instance. If not defined `vpc_id`, the instance will use the default VPC in the current region.\n\n- `subnet_id` (string) - The ID of subnet under the VPC. If `vpc_id` is defined, the `subnet_id` is mandatory required.\n  If `vpc_id` and `subnet_id` are not defined, the instance will use the default subnet in the current region.\n\n- `security_group_id` (string) - The ID of the fire wall associated to UHost instance. If `security_group_id` is not defined,\n  the instance will use the non-recommended web fire wall, and open port include 22, 3389 by default.\n  It is supported by ICMP fire wall protocols.\n  You may refer to [security group_id](https://docs.ucloud.cn/network/firewall/firewall).\n\n- `eip_bandwidth` (int) - Maximum bandwidth to the elastic public network, measured in Mbps (Mega bit per second). (Default: `10`).\n\n- `eip_charge_mode` (string) - Elastic IP charge mode. Possible values are: `traffic` as pay by traffic, `bandwidth` as pay by bandwidth,\n  `post_accurate_bandwidth` as post pay mode. (Default: `traffic`).\n  Note currently default `traffic` eip charge mode not not fully support by all `availability_zone`\n  in the `region`, please proceed to [UCloud console](https://console.ucloud.cn/unet/eip/create) for more details.\n  You may refer to [eip introduction](https://docs.ucloud.cn/unet/eip/introduction).\n\n- `user_data` (string) - User data to apply when launching the instance.\n  Note that you need to be careful about escaping characters due to the templates\n  being JSON. It is often more convenient to use user_data_file, instead.\n  Packer will not automatically wait for a user script to finish before\n  shutting down the instance this must be handled in a provisioner.\n  You may refer to [user_data_document](https://docs.ucloud.cn/uhost/guide/metadata/userdata)\n\n- `user_data_file` (string) - Path to a file that will be used for the user data when launching the instance.\n\n- `min_cpu_platform` (string) - Specifies a minimum CPU platform for the the VM instance. (Default: `Intel/Auto`).\n  You may refer to [min_cpu_platform](https://docs.ucloud.cn/uhost/introduction/uhost/type_new)\n     - The Intel CPU platform:\n         - `Intel/Auto` as the Intel CPU platform version will be selected randomly by system;\n         - `Intel/IvyBridge` as Intel V2, the version of Intel CPU platform selected by system will be `Intel/IvyBridge` and above;\n         - `Intel/Haswell` as Intel V3,  the version of Intel CPU platform selected by system will be `Intel/Haswell` and above;\n         - `Intel/Broadwell` as Intel V4, the version of Intel CPU platform selected by system will be `Intel/Broadwell` and above;\n         - `Intel/Skylake` as Intel V5, the version of Intel CPU platform selected by system will be `Intel/Skylake` and above;\n         - `Intel/Cascadelake` as Intel V6, the version of Intel CPU platform selected by system will be `Intel/Cascadelake`;\n     - The AMD CPU platform:\n         - `Amd/Auto` as the Amd CPU platform version will be selected randomly by system;\n         - `Amd/Epyc2` as the version of Amd CPU platform selected by system will be `Amd/Epyc2` and above;\n\n- `use_ssh_private_ip` (bool) - If this value is true, packer will connect to the created UHost instance via a private ip\n  instead of allocating an EIP (elastic public ip).(Default: `false`).\n\n<!-- End of code generated from the comments of the RunConfig struct in builder/ucloud/common/run_config.go; -->\n\n\n<!-- Code generated from the comments of the ImageConfig struct in builder/ucloud/common/image_config.go; DO NOT EDIT MANUALLY -->\n\n- `image_description` (string) - The description of the image.\n\n- `image_copy_to_mappings` ([]ImageDestination) - The array of mappings regarding the copied images to the destination regions and projects.\n  \n   - `project_id` (string) - The destination project id, where copying image in.\n  \n   - `region` (string) - The destination region, where copying image in.\n  \n   - `name` (string) - The copied image name. If not defined, builder will use `image_name` as default name.\n  \n   - `description` (string) - The copied image description.\n  \n  ```json\n  {\n    \"image_copy_to_mappings\": [\n      {\n        \"project_id\": \"{{user `ucloud_project_id`}}\",\n        \"region\": \"cn-sh2\",\n        \"description\": \"test\",\n        \"name\": \"packer-test-basic-sh\"\n      }\n    ]\n  }\n  ```\n\n- `wait_image_ready_timeout` (int) - Timeout of creating image or copying image. The default timeout is 3600 seconds if this option\n  is not set or is set to 0.\n\n<!-- End of code generated from the comments of the ImageConfig struct in builder/ucloud/common/image_config.go; -->\n\n\n## Examples\n\nHere is a basic example for build UCloud CentOS image:\n\n<Tabs>\n<Tab heading=\"JSON\">\n\n```json\n{\n  \"variables\": {\n    \"ucloud_public_key\": \"{{env `UCLOUD_PUBLIC_KEY`}}\",\n    \"ucloud_private_key\": \"{{env `UCLOUD_PRIVATE_KEY`}}\",\n    \"ucloud_project_id\": \"{{env `UCLOUD_PROJECT_ID`}}\"\n  },\n\n  \"builders\": [\n    {\n      \"type\": \"ucloud-uhost\",\n      \"public_key\": \"{{user `ucloud_public_key`}}\",\n      \"private_key\": \"{{user `ucloud_private_key`}}\",\n      \"project_id\": \"{{user `ucloud_project_id`}}\",\n      \"region\": \"cn-bj2\",\n      \"availability_zone\": \"cn-bj2-02\",\n      \"instance_type\": \"n-basic-2\",\n      \"source_image_id\": \"uimage-f1chxn\",\n      \"ssh_username\": \"root\",\n      \"image_name\": \"packer-test{{timestamp}}\"\n    }\n  ]\n}\n```\n\n</Tab>\n<Tab heading=\"HCL2\">\n\n```hcl\n// .pkr.hcl file\nvariable \"ucloud_public_key\" {\n  type = string\n  default = \"xxx\"\n}\n\nvariable \"ucloud_private_key\" {\n  type = string\n  default = \"xxx\"\n}\n\nvariable \"ucloud_project_id\" {\n  type = string\n  default = \"xxx\"\n}\n\nsource \"ucloud-uhost\" \"basic-example\" {\n  public_key        =  var.ucloud_public_key\n  private_key       =  var.ucloud_private_key\n  project_id        =  var.ucloud_project_id\n  region            =  \"cn-bj2\"\n  availability_zone =  \"cn-bj2-02\"\n  instance_type     =  \"n-basic-2\"\n  source_image_id   =  \"uimage-f1chxn\"\n  ssh_username      =  \"root\"\n}\n\nbuild {\n  source \"sources.ucloud-uhost.basic-example\" {\n    image_name =  \"packer-test-${timestamp()}\"\n  }\n}\n```\n\n</Tab>\n</Tabs>\n\nHere is a example for build UCloud Ubuntu image:\n\n<Tabs>\n<Tab heading=\"JSON\">\n\n```json\n{\n  \"variables\": {\n    \"ucloud_public_key\": \"{{env `UCLOUD_PUBLIC_KEY`}}\",\n    \"ucloud_private_key\": \"{{env `UCLOUD_PRIVATE_KEY`}}\",\n    \"ucloud_project_id\": \"{{env `UCLOUD_PROJECT_ID`}}\",\n    \"password\": \"ucloud_2020\"\n  },\n\n  \"builders\": [\n    {\n      \"type\": \"ucloud-uhost\",\n      \"public_key\": \"{{user `ucloud_public_key`}}\",\n      \"private_key\": \"{{user `ucloud_private_key`}}\",\n      \"project_id\": \"{{user `ucloud_project_id`}}\",\n      \"region\": \"cn-bj2\",\n      \"availability_zone\": \"cn-bj2-02\",\n      \"instance_type\": \"n-basic-2\",\n      \"source_image_id\": \"uimage-irofn4\",\n      \"ssh_password\": \"{{user `password`}}\",\n      \"ssh_username\": \"ubuntu\",\n      \"image_name\": \"packer-test-ubuntu{{timestamp}}\"\n    }\n  ],\n\n  \"provisioners\": [\n    {\n      \"type\": \"shell\",\n      \"execute_command\": \"echo '{{user `password`}}' | sudo -S '{{.Path}}'\",\n      \"inline\": [\"sleep 30\", \"sudo apt update\", \"sudo apt install nginx -y\"]\n    }\n  ]\n}\n```\n\n</Tab>\n<Tab heading=\"HCL2\">\n\n```hcl\n// .pkr.hcl file\nvariable \"ucloud_public_key\" {\n  type = string\n  default = \"xxx\"\n}\n\nvariable \"ucloud_private_key\" {\n  type = string\n  default = \"xxx\"\n}\n\nvariable \"ucloud_project_id\" {\n  type = string\n  default = \"xxx\"\n}\n\nvariable \"password\" {\n  type  = string\n  default = \"ucloud_2020\"\n}\n\nsource \"ucloud-uhost\" \"basic-example\" {\n  public_key        =  var.ucloud_public_key\n  private_key       =  var.ucloud_private_key\n  project_id        =  var.ucloud_project_id\n  region            =  \"cn-bj2\"\n  availability_zone =  \"cn-bj2-02\"\n  instance_type     =  \"n-basic-2\"\n  ssh_password      =  var.password\n  source_image_id   =  \"uimage-irofn4\"\n  ssh_username      =  \"ubuntu\"\n}\n\nbuild {\n  source \"sources.ucloud-uhost.basic-example\" {\n    image_name =  \"packer-test-ubuntu-${timestamp()}\"\n  }\n  provisioner \"shell\" {\n      execute_command = \"echo '${var.password}' | sudo -S '{{.Path}}'\"\n      inline          = [\"sleep 30\", \"sudo apt update\", \"sudo apt install nginx -y\"]\n  }\n}\n```\n\n</Tab>\n</Tabs>\n\n-> **Note:** Packer can also read the public key and private key from\nenvironmental variables. See the configuration reference in the section above\nfor more information on what environmental variables Packer will look for.\n\n~> **Note:** Source image may be deprecated after a while, you can use the tools like [UCloud CLI](https://docs.ucloud.cn/cli/intro) to run `ucloud image list` to find one that exists.\n","sourceUrl":"https://github.com/ucloud/packer-plugin-ucloud/blob/main/docs/builders/uhost.mdx"},"pluginData":{"title":"UCloud","path":"ucloud","repo":"ucloud/packer-plugin-ucloud","version":"latest","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/builders/ucloud","id":"sidebar-nav-item-70"}],"id":"sidebar-nav-item-69"},{"title":"Post-Processors","routes":[{"title":"UCloud Import","path":"post-processors/ucloud","remoteFile":{"filePath":"docs/post-processors/import.mdx"},"pluginData":{"title":"UCloud","path":"ucloud","repo":"ucloud/packer-plugin-ucloud","version":"latest","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/post-processors/ucloud","id":"sidebar-nav-item-72"}],"id":"sidebar-nav-item-71"}],"id":"sidebar-nav-item-68"},{"title":"UpCloud","routes":[{"title":"Builders","routes":[{"title":"upcloud","path":"builders/upcloud","remoteFile":{"filePath":"docs/builders/upcloud.mdx"},"pluginData":{"title":"UpCloud","path":"upcloud","repo":"UpCloudLtd/packer-plugin-upcloud","version":"latest","pluginTier":"verified","sourceBranch":"master","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/builders/upcloud","id":"sidebar-nav-item-75"}],"id":"sidebar-nav-item-74"},{"title":"Post-Processors","routes":[{"title":"upcloud-import","path":"post-processors/upcloud","remoteFile":{"filePath":"docs/post-processors/upcloud-import.mdx"},"pluginData":{"title":"UpCloud","path":"upcloud","repo":"UpCloudLtd/packer-plugin-upcloud","version":"latest","pluginTier":"verified","sourceBranch":"master","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/post-processors/upcloud","id":"sidebar-nav-item-77"}],"id":"sidebar-nav-item-76"}],"id":"sidebar-nav-item-73"},{"title":"Volcengine","routes":[{"title":"Builders","routes":[{"title":"Volcengine ECS","path":"builders/volcengine","remoteFile":{"filePath":"docs/builders/volcengine-ecs.mdx"},"pluginData":{"title":"Volcengine","path":"volcengine","repo":"volcengine/packer-plugin-volcengine","pluginTier":"community","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/volcengine","id":"sidebar-nav-item-80"}],"id":"sidebar-nav-item-79"}],"id":"sidebar-nav-item-78"},{"title":"Vultr","routes":[{"title":"Builders","routes":[{"title":"Vultr","path":"builders/vultr","remoteFile":{"filePath":"docs/builders/vultr.mdx"},"pluginData":{"title":"Vultr","path":"vultr","repo":"vultr/packer-plugin-vultr","pluginTier":"community","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/vultr","id":"sidebar-nav-item-83"}],"id":"sidebar-nav-item-82"}],"id":"sidebar-nav-item-81"},{"title":"Ksyun","routes":[{"title":"Builders","routes":[{"title":"Epc","path":"builders/ksyun/epc","remoteFile":{"filePath":"docs/builders/epc.mdx"},"pluginData":{"title":"Ksyun","path":"ksyun","repo":"kingsoftcloud/packer-plugin-ksyun","pluginTier":"community","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/ksyun/epc","id":"sidebar-nav-item-86"},{"title":"Instance(KEC)","path":"builders/ksyun/kec","remoteFile":{"filePath":"docs/builders/kec.mdx"},"pluginData":{"title":"Ksyun","path":"ksyun","repo":"kingsoftcloud/packer-plugin-ksyun","pluginTier":"community","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/ksyun/kec","id":"sidebar-nav-item-87"}],"id":"sidebar-nav-item-85"},{"title":"Data Sources","routes":[{"title":"Ksyun KMI","path":"datasources/ksyun","remoteFile":{"filePath":"docs/datasources/kmi.mdx"},"pluginData":{"title":"Ksyun","path":"ksyun","repo":"kingsoftcloud/packer-plugin-ksyun","pluginTier":"community","version":"latest","files":[]},"fullPath":"/packer/plugins/datasources/ksyun","id":"sidebar-nav-item-89"}],"id":"sidebar-nav-item-88"}],"id":"sidebar-nav-item-84"}],"title":"Plugins","visuallyHideTitle":true}],"mainWidth":"narrow"},"outlineItems":[{"title":"UCloud Image Builder","url":"#ucloud-image-builder","dataHeapTrack":"toc-list-item-index-0"},{"title":"Configuration Reference","url":"#configuration-reference","dataHeapTrack":"toc-list-item-index-1"},{"title":"Examples","url":"#examples","dataHeapTrack":"toc-list-item-index-2"}],"metadata":{"title":"UCloud Image Builder","description":"The `ucloud-uhost` Packer builder plugin provides the capability to build\ncustomized images based on an existing base image for use in UHost Instance.\n"},"mdxSource":{"compiledSource":"var m=Object.defineProperty,d=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var r=(e,n,s)=>n in e?m(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,a=(e,n)=>{for(var s in n||(n={}))o.call(n,s)&&r(e,s,n[s]);if(p)for(var s of p(n))i.call(n,s)&&r(e,s,n[s]);return e},l=(e,n)=>d(e,N(n));var c=(e,n)=>{var s={};for(var t in e)o.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&p)for(var t of p(e))n.indexOf(t)<0&&i.call(e,t)&&(s[t]=e[t]);return s};const makeShortcode=e=>function(s){return console.warn(\"Component \"+e+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",a({},s))},BadgesHeader=makeShortcode(\"BadgesHeader\"),PluginBadge=makeShortcode(\"PluginBadge\"),Badge=makeShortcode(\"Badge\"),Tabs=makeShortcode(\"Tabs\"),Tab=makeShortcode(\"Tab\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(s){var t=s,{components:e}=t,n=c(t,[\"components\"]);return mdx(MDXLayout,l(a(a({},layoutProps),n),{components:e,mdxType:\"MDXLayout\"}),mdx(BadgesHeader,{mdxType:\"BadgesHeader\"},mdx(PluginBadge,{type:\"community\",mdxType:\"PluginBadge\"}),mdx(Badge,{href:\"https://github.com/ucloud/packer-plugin-ucloud/releases/tag/v1.0.9\",label:\"v1.0.9\",theme:\"light-gray\",mdxType:\"Badge\"})),mdx(\"h1\",a({},{className:\"g-type-display-2\",id:\"ucloud-image-builder\"}),mdx(\"a\",a({parentName:\"h1\"},{className:\"__permalink-h\",href:\"#ucloud-image-builder\",\"aria-label\":\"ucloud image builder permalink\"}),\"\\xBB\"),\"UCloud Image Builder\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Type: \",mdx(\"inlineCode\",{parentName:\"p\"},\"ucloud-uhost\"),`\nArtifact BuilderId: `,mdx(\"inlineCode\",{parentName:\"p\"},\"ucloud.uhost\")),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"ucloud-uhost\"),` Packer builder plugin provides the capability to build\ncustomized images based on an existing base image for use in UHost Instance.`),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`This builder builds an UCloud image by launching an UHost instance from a source image,\nprovisioning that running machine, and then creating an image from that machine.`),mdx(\"h2\",a({},{className:\"g-type-display-3\",id:\"configuration-reference\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#configuration-reference\",\"aria-label\":\"configuration reference permalink\"}),\"\\xBB\"),\"Configuration Reference\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`The following configuration options are available for building UCloud images. They are\nsegmented below into two categories: required and optional parameters.`),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`In addition to the options listed here, a\n`,mdx(\"a\",a({parentName:\"p\"},{href:\"/packer/docs/templates/legacy_json_templates/communicator\"}),\"communicator\"),` can be configured for this\nbuilder.`),mdx(\"div\",a({},{className:\"alert alert-warning g-type-body\"}),mdx(\"p\",a({parentName:\"div\"},{className:\"g-type-long-body\"}),\"\",mdx(\"strong\",{parentName:\"p\"},\"Note:\"),\" The builder doesn't support Windows images for now and only supports CentOS and Ubuntu images via SSH authentication with \",mdx(\"inlineCode\",{parentName:\"p\"},\"ssh_username\"),\" (Required) and \",mdx(\"inlineCode\",{parentName:\"p\"},\"ssh_password\"),\" (Optional). The \",mdx(\"inlineCode\",{parentName:\"p\"},\"ssh_username\"),\" must be \",mdx(\"inlineCode\",{parentName:\"p\"},\"root\"),\" for CentOS images and \",mdx(\"inlineCode\",{parentName:\"p\"},\"ubuntu\"),\" for Ubuntu images. The \",mdx(\"inlineCode\",{parentName:\"p\"},\"ssh_password\"),\" may contain 8-30 characters, and must consist of at least 2 items out of the capital letters, lower case letters, numbers and special characters. The special characters include \",mdx(\"inlineCode\",{parentName:\"p\"},\"()~!@#\\\\$%^&\\\\*-+=\\\\_|{}\\\\[]:;'<>,.?/\"),\".\")),mdx(\"h3\",a({},{className:\"g-type-display-4\",id:\"required\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#required\",\"aria-label\":\"required permalink\"}),\"\\xBB\"),\"Required:\"),mdx(\"ul\",null,mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"public_key\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#public_key\",\"aria-label\":\"public_key permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"public_key\")),\" (string) - This is the UCloud public key. It must be provided unless \",mdx(\"inlineCode\",{parentName:\"p\"},\"profile\"),` is set,\nbut it can also be sourced from the `,mdx(\"inlineCode\",{parentName:\"p\"},\"UCLOUD_PUBLIC_KEY\"),\" environment variable.\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"private_key\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#private_key\",\"aria-label\":\"private_key permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"private_key\")),\" (string) - This is the UCloud private key. It must be provided unless \",mdx(\"inlineCode\",{parentName:\"p\"},\"profile\"),` is set,\nbut it can also be sourced from the `,mdx(\"inlineCode\",{parentName:\"p\"},\"UCLOUD_PRIVATE_KEY\"),\" environment variable.\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"region\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#region\",\"aria-label\":\"region permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"region\")),` (string) - This is the UCloud region. It must be provided, but it can also be sourced from\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},\"UCLOUD_REGION\"),\" environment variables.\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"project_id\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#project_id\",\"aria-label\":\"project_id permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"project_id\")),` (string) - This is the UCloud project id. It must be provided, but it can also be sourced\nfrom the `,mdx(\"inlineCode\",{parentName:\"p\"},\"UCLOUD_PROJECT_ID\"),\" environment variables.\"))),mdx(\"ul\",null,mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"availability_zone\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#availability_zone\",\"aria-label\":\"availability_zone permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"availability_zone\")),\" (string) - This is the UCloud availability zone where UHost instance is located. such as: \",mdx(\"inlineCode\",{parentName:\"p\"},\"cn-bj2-02\"),`.\nYou may refer to `,mdx(\"a\",a({parentName:\"p\"},{href:\"https://docs.ucloud.cn/api/summary/regionlist\"}),\"list of availability_zone\"))),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"source_image_id\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#source_image_id\",\"aria-label\":\"source_image_id permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"source_image_id\")),\" (string) - This is the ID of base image which you want to create your customized images with.\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"instance_type\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#instance_type\",\"aria-label\":\"instance_type permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"instance_type\")),` (string) - The type of UHost instance.\nYou may refer to `,mdx(\"a\",a({parentName:\"p\"},{href:\"https://docs.ucloud.cn/compute/terraform/specification/instance\"}),\"list of instance type\")))),mdx(\"ul\",null,mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"image_name\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",a({parentName:\"li\"},{href:\"#image_name\",\"aria-label\":\"image_name permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"image_name\")),` (string) - The name of the user-defined image, which contains 1-63 characters and only\nsupport Chinese, English, numbers, '-`,\"_\",\",.:[]'.\")),mdx(\"h3\",a({},{className:\"g-type-display-4\",id:\"optional\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#optional\",\"aria-label\":\"optional permalink\"}),\"\\xBB\"),\"Optional:\"),mdx(\"ul\",null,mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"base_url\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#base_url\",\"aria-label\":\"base_url permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"base_url\")),\" (string) - This is the base url. (Default: \",mdx(\"inlineCode\",{parentName:\"p\"},\"https://api.ucloud.cn\"),\").\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"profile\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#profile\",\"aria-label\":\"profile permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"profile\")),` (string) - This is the UCloud profile name as set in the shared credentials file, it can\nalso be sourced from the `,mdx(\"inlineCode\",{parentName:\"p\"},\"UCLOUD_PROFILE\"),\" environment variables.\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"shared_credentials_file\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#shared_credentials_file\",\"aria-label\":\"shared_credentials_file permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"shared_credentials_file\")),` (string) - This is the path to the shared credentials file, it can also be sourced from\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},\"UCLOUD_SHARED_CREDENTIAL_FILE\"),` environment variables. If this is not set\nand a profile is specified, `,mdx(\"inlineCode\",{parentName:\"p\"},\"~/.ucloud/credential.json\"),\" will be used.\"))),mdx(\"ul\",null,mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"instance_name\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#instance_name\",\"aria-label\":\"instance_name permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"instance_name\")),` (string) - The name of instance, which contains 1-63 characters and only support Chinese,\nEnglish, numbers, '-', '`,\"_\",\"', '.'.\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"boot_disk_type\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#boot_disk_type\",\"aria-label\":\"boot_disk_type permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"boot_disk_type\")),` (string) - The type of boot disk associated to UHost instance.\nPossible values are: `,mdx(\"inlineCode\",{parentName:\"p\"},\"cloud_ssd\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"cloud_rssd\"),\" for cloud boot disk, \",mdx(\"inlineCode\",{parentName:\"p\"},\"local_normal\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"local_ssd\"),`\nfor local boot disk. (Default: `,mdx(\"inlineCode\",{parentName:\"p\"},\"cloud_ssd\"),\"). The \",mdx(\"inlineCode\",{parentName:\"p\"},\"cloud_ssd\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"local_ssd\"),` are not fully supported\nby all regions as boot disk type, please proceed to UCloud console for more details.`),mdx(\"div\",a({parentName:\"li\"},{className:\"alert alert-warning g-type-body\"}),mdx(\"p\",a({parentName:\"div\"},{className:\"g-type-long-body\"}),\"\",mdx(\"strong\",{parentName:\"p\"},\"Note:\"),\" It takes around 10 mins for boot disk initialization when \",mdx(\"inlineCode\",{parentName:\"p\"},\"boot_disk_type\"),\" is \",mdx(\"inlineCode\",{parentName:\"p\"},\"local_normal\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"local_ssd\"),\".\"))),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"boot_disk_size\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#boot_disk_size\",\"aria-label\":\"boot_disk_size permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"boot_disk_size\")),` (int) - The size of boot disk associated to UHost instance, which cannot be smaller than the size of source image.\nThe unit is `,mdx(\"inlineCode\",{parentName:\"p\"},\"GB\"),\". Default value is the size of source image.\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"vpc_id\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#vpc_id\",\"aria-label\":\"vpc_id permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"vpc_id\")),\" (string) - The ID of VPC linked to the UHost instance. If not defined \",mdx(\"inlineCode\",{parentName:\"p\"},\"vpc_id\"),\", the instance will use the default VPC in the current region.\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"subnet_id\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#subnet_id\",\"aria-label\":\"subnet_id permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"subnet_id\")),\" (string) - The ID of subnet under the VPC. If \",mdx(\"inlineCode\",{parentName:\"p\"},\"vpc_id\"),\" is defined, the \",mdx(\"inlineCode\",{parentName:\"p\"},\"subnet_id\"),` is mandatory required.\nIf `,mdx(\"inlineCode\",{parentName:\"p\"},\"vpc_id\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"subnet_id\"),\" are not defined, the instance will use the default subnet in the current region.\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"security_group_id\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#security_group_id\",\"aria-label\":\"security_group_id permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"security_group_id\")),\" (string) - The ID of the fire wall associated to UHost instance. If \",mdx(\"inlineCode\",{parentName:\"p\"},\"security_group_id\"),` is not defined,\nthe instance will use the non-recommended web fire wall, and open port include 22, 3389 by default.\nIt is supported by ICMP fire wall protocols.\nYou may refer to `,mdx(\"a\",a({parentName:\"p\"},{href:\"https://docs.ucloud.cn/network/firewall/firewall\"}),\"security group_id\"),\".\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"eip_bandwidth\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#eip_bandwidth\",\"aria-label\":\"eip_bandwidth permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"eip_bandwidth\")),\" (int) - Maximum bandwidth to the elastic public network, measured in Mbps (Mega bit per second). (Default: \",mdx(\"inlineCode\",{parentName:\"p\"},\"10\"),\").\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"eip_charge_mode\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#eip_charge_mode\",\"aria-label\":\"eip_charge_mode permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"eip_charge_mode\")),\" (string) - Elastic IP charge mode. Possible values are: \",mdx(\"inlineCode\",{parentName:\"p\"},\"traffic\"),\" as pay by traffic, \",mdx(\"inlineCode\",{parentName:\"p\"},\"bandwidth\"),` as pay by bandwidth,\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"post_accurate_bandwidth\"),\" as post pay mode. (Default: \",mdx(\"inlineCode\",{parentName:\"p\"},\"traffic\"),`).\nNote currently default `,mdx(\"inlineCode\",{parentName:\"p\"},\"traffic\"),\" eip charge mode not not fully support by all \",mdx(\"inlineCode\",{parentName:\"p\"},\"availability_zone\"),`\nin the `,mdx(\"inlineCode\",{parentName:\"p\"},\"region\"),\", please proceed to \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://console.ucloud.cn/unet/eip/create\"}),\"UCloud console\"),` for more details.\nYou may refer to `,mdx(\"a\",a({parentName:\"p\"},{href:\"https://docs.ucloud.cn/unet/eip/introduction\"}),\"eip introduction\"),\".\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"user_data\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#user_data\",\"aria-label\":\"user_data permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"user_data\")),` (string) - User data to apply when launching the instance.\nNote that you need to be careful about escaping characters due to the templates\nbeing JSON. It is often more convenient to use user_data_file, instead.\nPacker will not automatically wait for a user script to finish before\nshutting down the instance this must be handled in a provisioner.\nYou may refer to `,mdx(\"a\",a({parentName:\"p\"},{href:\"https://docs.ucloud.cn/uhost/guide/metadata/userdata\"}),\"user_data_document\"))),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"user_data_file\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#user_data_file\",\"aria-label\":\"user_data_file permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"user_data_file\")),\" (string) - Path to a file that will be used for the user data when launching the instance.\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"min_cpu_platform\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#min_cpu_platform\",\"aria-label\":\"min_cpu_platform permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"min_cpu_platform\")),\" (string) - Specifies a minimum CPU platform for the the VM instance. (Default: \",mdx(\"inlineCode\",{parentName:\"p\"},\"Intel/Auto\"),`).\nYou may refer to `,mdx(\"a\",a({parentName:\"p\"},{href:\"https://docs.ucloud.cn/uhost/introduction/uhost/type_new\"}),\"min_cpu_platform\")),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),\"The Intel CPU platform:\",mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"intel-auto\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",a({parentName:\"li\"},{href:\"#intel-auto\",\"aria-label\":\"intel auto permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"Intel/Auto\")),\" as the Intel CPU platform version will be selected randomly by system;\"),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"intel-ivybridge\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",a({parentName:\"li\"},{href:\"#intel-ivybridge\",\"aria-label\":\"intel ivybridge permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"Intel/IvyBridge\")),\" as Intel V2, the version of Intel CPU platform selected by system will be \",mdx(\"inlineCode\",{parentName:\"li\"},\"Intel/IvyBridge\"),\" and above;\"),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"intel-haswell\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",a({parentName:\"li\"},{href:\"#intel-haswell\",\"aria-label\":\"intel haswell permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"Intel/Haswell\")),\" as Intel V3,  the version of Intel CPU platform selected by system will be \",mdx(\"inlineCode\",{parentName:\"li\"},\"Intel/Haswell\"),\" and above;\"),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"intel-broadwell\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",a({parentName:\"li\"},{href:\"#intel-broadwell\",\"aria-label\":\"intel broadwell permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"Intel/Broadwell\")),\" as Intel V4, the version of Intel CPU platform selected by system will be \",mdx(\"inlineCode\",{parentName:\"li\"},\"Intel/Broadwell\"),\" and above;\"),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"intel-skylake\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",a({parentName:\"li\"},{href:\"#intel-skylake\",\"aria-label\":\"intel skylake permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"Intel/Skylake\")),\" as Intel V5, the version of Intel CPU platform selected by system will be \",mdx(\"inlineCode\",{parentName:\"li\"},\"Intel/Skylake\"),\" and above;\"),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"intel-cascadelake\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",a({parentName:\"li\"},{href:\"#intel-cascadelake\",\"aria-label\":\"intel cascadelake permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"Intel/Cascadelake\")),\" as Intel V6, the version of Intel CPU platform selected by system will be \",mdx(\"inlineCode\",{parentName:\"li\"},\"Intel/Cascadelake\"),\";\"))),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),\"The AMD CPU platform:\",mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"amd-auto\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",a({parentName:\"li\"},{href:\"#amd-auto\",\"aria-label\":\"amd auto permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"Amd/Auto\")),\" as the Amd CPU platform version will be selected randomly by system;\"),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"amd-epyc2\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",a({parentName:\"li\"},{href:\"#amd-epyc2\",\"aria-label\":\"amd epyc2 permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"Amd/Epyc2\")),\" as the version of Amd CPU platform selected by system will be \",mdx(\"inlineCode\",{parentName:\"li\"},\"Amd/Epyc2\"),\" and above;\"))))),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"use_ssh_private_ip\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#use_ssh_private_ip\",\"aria-label\":\"use_ssh_private_ip permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"use_ssh_private_ip\")),` (bool) - If this value is true, packer will connect to the created UHost instance via a private ip\ninstead of allocating an EIP (elastic public ip).(Default: `,mdx(\"inlineCode\",{parentName:\"p\"},\"false\"),\").\"))),mdx(\"ul\",null,mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"image_description\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#image_description\",\"aria-label\":\"image_description permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"image_description\")),\" (string) - The description of the image.\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"image_copy_to_mappings\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#image_copy_to_mappings\",\"aria-label\":\"image_copy_to_mappings permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"image_copy_to_mappings\")),\" ([]ImageDestination) - The array of mappings regarding the copied images to the destination regions and projects.\"),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"project_id-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#project_id-1\",\"aria-label\":\"project_id permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"project_id\")),\" (string) - The destination project id, where copying image in.\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"region-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#region-1\",\"aria-label\":\"region permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"region\")),\" (string) - The destination region, where copying image in.\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"name\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#name\",\"aria-label\":\"name permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"name\")),\" (string) - The copied image name. If not defined, builder will use \",mdx(\"inlineCode\",{parentName:\"p\"},\"image_name\"),\" as default name.\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"description\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#description\",\"aria-label\":\"description permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"description\")),\" (string) - The copied image description.\"))),mdx(\"pre\",a({parentName:\"li\"},{className:\"language-json\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"image_copy_to_mappings\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"project_id\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"{{user `ucloud_project_id`}}\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"region\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"cn-sh2\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"description\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"test\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"name\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"packer-test-basic-sh\"'),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{id:\"wait_image_ready_timeout\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",a({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"p\"},{href:\"#wait_image_ready_timeout\",\"aria-label\":\"wait_image_ready_timeout permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"wait_image_ready_timeout\")),` (int) - Timeout of creating image or copying image. The default timeout is 3600 seconds if this option\nis not set or is set to 0.`))),mdx(\"h2\",a({},{className:\"g-type-display-3\",id:\"examples\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#examples\",\"aria-label\":\"examples permalink\"}),\"\\xBB\"),\"Examples\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Here is a basic example for build UCloud CentOS image:\"),mdx(Tabs,{mdxType:\"Tabs\"},mdx(Tab,{heading:\"JSON\",mdxType:\"Tab\"},mdx(\"pre\",a({},{className:\"language-json\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"variables\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"ucloud_public_key\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"{{env `UCLOUD_PUBLIC_KEY`}}\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"ucloud_private_key\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"{{env `UCLOUD_PRIVATE_KEY`}}\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"ucloud_project_id\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"{{env `UCLOUD_PROJECT_ID`}}\"'),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"builders\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"ucloud-uhost\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"public_key\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"{{user `ucloud_public_key`}}\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"private_key\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"{{user `ucloud_private_key`}}\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"project_id\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"{{user `ucloud_project_id`}}\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"region\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"cn-bj2\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"availability_zone\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"cn-bj2-02\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"instance_type\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"n-basic-2\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"source_image_id\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"uimage-f1chxn\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"ssh_username\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"root\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"image_name\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"packer-test{{timestamp}}\"'),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(Tab,{heading:\"HCL2\",mdxType:\"Tab\"},mdx(\"pre\",a({},{className:\"language-hcl\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"// .pkr.hcl file\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"variable\",mdx(\"span\",a({parentName:\"span\"},{className:\"token type variable\"}),' \"ucloud_public_key\" ')),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"type\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" string\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"default\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"xxx\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"variable\",mdx(\"span\",a({parentName:\"span\"},{className:\"token type variable\"}),' \"ucloud_private_key\" ')),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"type\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" string\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"default\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"xxx\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"variable\",mdx(\"span\",a({parentName:\"span\"},{className:\"token type variable\"}),' \"ucloud_project_id\" ')),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"type\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" string\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"default\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"xxx\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,\"source \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"ucloud-uhost\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"basic-example\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"public_key\"),\"        \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  var.ucloud_public_key\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"private_key\"),\"       \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  var.ucloud_private_key\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"project_id\"),\"        \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  var.ucloud_project_id\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"region\"),\"            \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"cn-bj2\"'),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"availability_zone\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"cn-bj2-02\"'),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"instance_type\"),\"     \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"n-basic-2\"'),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"source_image_id\"),\"   \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"uimage-f1chxn\"'),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"ssh_username\"),\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"root\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"build\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  source \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sources.ucloud-uhost.basic-example\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"image_name\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"packer-test-',mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"$\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"timestamp\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),'\"'),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)))),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Here is a example for build UCloud Ubuntu image:\"),mdx(Tabs,{mdxType:\"Tabs\"},mdx(Tab,{heading:\"JSON\",mdxType:\"Tab\"},mdx(\"pre\",a({},{className:\"language-json\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"variables\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"ucloud_public_key\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"{{env `UCLOUD_PUBLIC_KEY`}}\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"ucloud_private_key\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"{{env `UCLOUD_PRIVATE_KEY`}}\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"ucloud_project_id\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"{{env `UCLOUD_PROJECT_ID`}}\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"password\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"ucloud_2020\"'),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"builders\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"ucloud-uhost\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"public_key\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"{{user `ucloud_public_key`}}\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"private_key\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"{{user `ucloud_private_key`}}\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"project_id\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"{{user `ucloud_project_id`}}\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"region\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"cn-bj2\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"availability_zone\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"cn-bj2-02\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"instance_type\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"n-basic-2\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"source_image_id\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"uimage-irofn4\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"ssh_password\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"{{user `password`}}\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"ssh_username\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"ubuntu\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"image_name\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"packer-test-ubuntu{{timestamp}}\"'),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"provisioners\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"shell\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"execute_command\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"\\\"echo '{{user `password`}}' | sudo -S '{{.Path}}'\\\"\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),'\"inline\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sleep 30\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo apt update\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo apt install nginx -y\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(Tab,{heading:\"HCL2\",mdxType:\"Tab\"},mdx(\"pre\",a({},{className:\"language-hcl\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"// .pkr.hcl file\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"variable\",mdx(\"span\",a({parentName:\"span\"},{className:\"token type variable\"}),' \"ucloud_public_key\" ')),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"type\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" string\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"default\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"xxx\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"variable\",mdx(\"span\",a({parentName:\"span\"},{className:\"token type variable\"}),' \"ucloud_private_key\" ')),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"type\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" string\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"default\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"xxx\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"variable\",mdx(\"span\",a({parentName:\"span\"},{className:\"token type variable\"}),' \"ucloud_project_id\" ')),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"type\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" string\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"default\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"xxx\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"variable\",mdx(\"span\",a({parentName:\"span\"},{className:\"token type variable\"}),' \"password\" ')),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"type\"),\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" string\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"default\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"ucloud_2020\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,\"source \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"ucloud-uhost\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"basic-example\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"public_key\"),\"        \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  var.ucloud_public_key\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"private_key\"),\"       \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  var.ucloud_private_key\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"project_id\"),\"        \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  var.ucloud_project_id\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"region\"),\"            \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"cn-bj2\"'),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"availability_zone\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"cn-bj2-02\"'),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"instance_type\"),\"     \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"n-basic-2\"'),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"ssh_password\"),\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  var.password\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"source_image_id\"),\"   \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"uimage-irofn4\"'),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"ssh_username\"),\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"ubuntu\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"build\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  source \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sources.ucloud-uhost.basic-example\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"image_name\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"packer-test-ubuntu-',mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"$\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"timestamp\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),'\"'),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"provisioner\",mdx(\"span\",a({parentName:\"span\"},{className:\"token type variable\"}),' \"shell\" ')),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"execute_command\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),`\"echo '`,mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"$\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token keyword\"}),\"var\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token type variable\"}),\"password\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),`' | sudo -S '{{.Path}}'\"`),`\n`,\"      \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"inline\"),\"          \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sleep 30\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo apt update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo apt install nginx -y\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)))),mdx(\"div\",a({},{className:\"alert alert-info g-type-body\"}),mdx(\"p\",a({parentName:\"div\"},{className:\"g-type-long-body\"}),\"\",mdx(\"strong\",{parentName:\"p\"},\"Note:\"),` Packer can also read the public key and private key from\nenvironmental variables. See the configuration reference in the section above\nfor more information on what environmental variables Packer will look for.`)),mdx(\"div\",a({},{className:\"alert alert-warning g-type-body\"}),mdx(\"p\",a({parentName:\"div\"},{className:\"g-type-long-body\"}),\"\",mdx(\"strong\",{parentName:\"p\"},\"Note:\"),\" Source image may be deprecated after a while, you can use the tools like \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://docs.ucloud.cn/cli/intro\"}),\"UCloud CLI\"),\" to run \",mdx(\"inlineCode\",{parentName:\"p\"},\"ucloud image list\"),\" to find one that exists.\")))}MDXContent.isMDXComponent=!0;\n","scope":{}},"product":{"name":"Packer","slug":"packer","algoliaConfig":{"indexName":"product_PACKER","searchOnlyApiKey":"4e1ea7f4bf4335ac43d9f28463e42148"},"analyticsConfig":{"includedDomains":"packer.io www.packer.io","segmentWriteKey":"AjXdfmTTk1I9q9dfyePuDFHBrz1tCO3l"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Packer by HashiCorp","description":"Packer helps you create golden images for multiple platforms from a single source configuration.","image":"https://www.packer.io/packer-public/img/og-image.png","icon":[{"href":"/packer-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiConf","url":"https://hashiconf.com/2023?utm_source=direct&utm_medium=banner&utm_campaign=23Q3_HASHICONFGLOBAL_EVENT&utm_content=&utm_offer=event","text":"Our community conference is taking place in San Francisco and online October 10-12.","linkText":"Register now","expirationDate":""},"version":"1.7.10","basePaths":["docs","guides","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"guide","name":"Guides","path":"guides"},{"iconName":"plug","name":"Plugins","path":"plugins"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Packer Integrations."},"currentRootDocsPath":{"iconName":"plug","name":"Plugins","path":"plugins"}}},"__N_SSG":true}