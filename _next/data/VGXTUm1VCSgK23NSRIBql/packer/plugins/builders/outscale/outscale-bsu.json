{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Packer","url":"/packer"},{"title":"Plugins","url":"/packer/plugins"},{"title":"Builders"},{"title":"Outscale","key":"outscale/packer-plugin-outscale"},{"title":"BSU","url":"/packer/plugins/builders/outscale/outscale-bsu","isCurrentPage":true}],"githubFileUrl":"https://github.com/outscale/packer-plugin-outscale/blob/main/docs/builders/outscale-bsu.mdx","sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Packer Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Packer","fullPath":"/packer","theme":"packer"},{"title":"Install","fullPath":"/packer/downloads"},{"title":"Tutorials","fullPath":"/packer/tutorials"},{"title":"Documentation","fullPath":"/packer/docs"},{"title":"Guides","fullPath":"/packer/guides"},{"title":"Plugins","fullPath":"/packer/plugins"},{"title":"Integrations","fullPath":"/packer/integrations"}],"showFilterInput":false,"title":"Packer","visuallyHideTitle":true},{"backToLinkProps":{"text":"Packer Home","href":"/packer"},"levelButtonProps":{"levelUpButtonText":"Packer Home"},"menuItems":[{"title":"Plugins","fullPath":"/packer/plugins","theme":"packer"},{"divider":true,"id":"sidebar-nav-item-2"},{"title":"Anka","routes":[{"title":"Post-Processors","routes":[{"title":"Anka Registry Push","path":"post-processors/anka","remoteFile":{"filePath":"docs/post-processors/anka-registry-push.mdx"},"pluginData":{"title":"Anka","path":"anka","repo":"veertuinc/packer-plugin-veertu-anka","pluginTier":"community","sourceBranch":"master","version":"latest","files":[]},"fullPath":"/packer/plugins/post-processors/anka","id":"sidebar-nav-item-5"}],"id":"sidebar-nav-item-4"},{"title":"Builders","routes":[{"title":"VM Clone","path":"builders/anka/vm-clone","remoteFile":{"filePath":"docs/builders/vm-clone.mdx"},"pluginData":{"title":"Anka","path":"anka","repo":"veertuinc/packer-plugin-veertu-anka","pluginTier":"community","sourceBranch":"master","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/anka/vm-clone","id":"sidebar-nav-item-7"},{"title":"VM Create","path":"builders/anka/vm-create","remoteFile":{"filePath":"docs/builders/vm-create.mdx"},"pluginData":{"title":"Anka","path":"anka","repo":"veertuinc/packer-plugin-veertu-anka","pluginTier":"community","sourceBranch":"master","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/anka/vm-create","id":"sidebar-nav-item-8"}],"id":"sidebar-nav-item-6"}],"id":"sidebar-nav-item-3"},{"title":"DigitalOcean","routes":[{"title":"Builders","routes":[{"title":"digitalocean","path":"builders/digitalocean","remoteFile":{"filePath":"docs/builders/digitalocean.mdx"},"pluginData":{"title":"DigitalOcean","path":"digitalocean","repo":"digitalocean/packer-plugin-digitalocean","pluginTier":"verified","version":"latest","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/builders/digitalocean","id":"sidebar-nav-item-11"}],"id":"sidebar-nav-item-10"},{"title":"Data Sources","routes":[{"title":"digitalocean-image","path":"datasources/digitalocean","remoteFile":{"filePath":"docs/datasources/digitalocen-image.mdx"},"pluginData":{"title":"DigitalOcean","path":"digitalocean","repo":"digitalocean/packer-plugin-digitalocean","pluginTier":"verified","version":"latest","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/datasources/digitalocean","id":"sidebar-nav-item-13"}],"id":"sidebar-nav-item-12"},{"title":"Post-Processors","routes":[{"title":"digitalocean-import","path":"post-processors/digitalocean","remoteFile":{"filePath":"docs/post-processors/digitalocean-import.mdx"},"pluginData":{"title":"DigitalOcean","path":"digitalocean","repo":"digitalocean/packer-plugin-digitalocean","pluginTier":"verified","version":"latest","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/post-processors/digitalocean","id":"sidebar-nav-item-15"}],"id":"sidebar-nav-item-14"}],"id":"sidebar-nav-item-9"},{"title":"External","routes":[{"title":"Data Sources","routes":[{"title":"Overview","path":"datasources/external","remoteFile":{"filePath":"docs/datasources/index.mdx"},"pluginData":{"title":"External","path":"external","repo":"joomcode/packer-plugin-external","version":"latest","sourceBranch":"main","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/datasources/external","id":"sidebar-nav-item-18"},{"title":"External","path":"datasources/external/external","remoteFile":{"filePath":"docs/datasources/external.mdx"},"pluginData":{"title":"External","path":"external","repo":"joomcode/packer-plugin-external","version":"latest","sourceBranch":"main","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/datasources/external/external","id":"sidebar-nav-item-19"},{"title":"External Raw","path":"datasources/external/raw","remoteFile":{"filePath":"docs/datasources/raw.mdx"},"pluginData":{"title":"External","path":"external","repo":"joomcode/packer-plugin-external","version":"latest","sourceBranch":"main","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/datasources/external/raw","id":"sidebar-nav-item-20"}],"id":"sidebar-nav-item-17"}],"id":"sidebar-nav-item-16"},{"title":"Git","routes":[{"title":"Data Sources","routes":[{"title":"Overview","path":"datasources/git","remoteFile":{"filePath":"docs/datasources/index.mdx"},"pluginData":{"title":"Git","path":"git","repo":"ethanmdavidson/packer-plugin-git","version":"latest","sourceBranch":"main","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/datasources/git","id":"sidebar-nav-item-23"},{"title":"Commit","path":"datasources/git/commit","remoteFile":{"filePath":"docs/datasources/commit.mdx"},"pluginData":{"title":"Git","path":"git","repo":"ethanmdavidson/packer-plugin-git","version":"latest","sourceBranch":"main","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/datasources/git/commit","id":"sidebar-nav-item-24"},{"title":"Repository","path":"datasources/git/repository","remoteFile":{"filePath":"docs/datasources/repository.mdx"},"pluginData":{"title":"Git","path":"git","repo":"ethanmdavidson/packer-plugin-git","version":"latest","sourceBranch":"main","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/datasources/git/repository","id":"sidebar-nav-item-25"},{"title":"Tree","path":"datasources/git/tree","remoteFile":{"filePath":"docs/datasources/tree.mdx"},"pluginData":{"title":"Git","path":"git","repo":"ethanmdavidson/packer-plugin-git","version":"latest","sourceBranch":"main","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/datasources/git/tree","id":"sidebar-nav-item-26"}],"id":"sidebar-nav-item-22"}],"id":"sidebar-nav-item-21"},{"title":"Gridscale","routes":[{"title":"Builders","routes":[{"title":"gridscale","path":"builders/gridscale","remoteFile":{"filePath":"docs/builders/gridscale.mdx"},"pluginData":{"title":"Gridscale","path":"gridscale","repo":"gridscale/packer-plugin-gridscale","version":"latest","pluginTier":"verified","isHcpPackerReady":false,"files":[]},"fullPath":"/packer/plugins/builders/gridscale","id":"sidebar-nav-item-29"}],"id":"sidebar-nav-item-28"}],"id":"sidebar-nav-item-27"},{"title":"IPSW","routes":[{"title":"Data Sources","routes":[{"title":"IPSW","path":"datasources/ipsw","remoteFile":{"filePath":"docs/datasources/ipsw.mdx"},"pluginData":{"title":"IPSW","path":"ipsw","repo":"torarnv/packer-plugin-ipsw","version":"latest","sourceBranch":"main","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/datasources/ipsw","id":"sidebar-nav-item-32"}],"id":"sidebar-nav-item-31"}],"id":"sidebar-nav-item-30"},{"title":"Kamatera","routes":[{"title":"Builders","routes":[{"title":"Kamatera","path":"builders/kamatera","remoteFile":{"filePath":"docs/builders/kamatera.mdx"},"pluginData":{"title":"Kamatera","path":"kamatera","repo":"kamatera/packer-plugin-kamatera","pluginTier":"community","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/kamatera","id":"sidebar-nav-item-35"}],"id":"sidebar-nav-item-34"}],"id":"sidebar-nav-item-33"},{"title":"Linode","routes":[{"title":"Builders","routes":[{"title":"Linode","path":"builders/linode","remoteFile":{"filePath":"docs/builders/linode.mdx"},"pluginData":{"title":"Linode","path":"linode","repo":"linode/packer-plugin-linode","pluginTier":"verified","version":"latest","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/builders/linode","id":"sidebar-nav-item-38"}],"id":"sidebar-nav-item-37"}],"id":"sidebar-nav-item-36"},{"title":"Libvirt","routes":[{"title":"Builders","routes":[{"title":"Libvirt","path":"builders/libvirt","remoteFile":{"filePath":"docs/builders/libvirt.mdx"},"pluginData":{"title":"Libvirt","path":"libvirt","repo":"thomasklein94/packer-plugin-libvirt","pluginTier":"community","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/libvirt","id":"sidebar-nav-item-41"}],"id":"sidebar-nav-item-40"}],"id":"sidebar-nav-item-39"},{"title":"Mondoo","routes":[{"title":"Provisioners","routes":[{"title":"cnspec","path":"provisioners/mondoo/cnspec","remoteFile":{"filePath":"docs/provisioners/cnspec.mdx"},"pluginData":{"title":"Mondoo","path":"mondoo","repo":"mondoohq/packer-plugin-mondoo","pluginTier":"verified","version":"latest","files":[]},"fullPath":"/packer/plugins/provisioners/mondoo/cnspec","id":"sidebar-nav-item-44"},{"title":"Mondoo","path":"provisioners/mondoo/mondoo","remoteFile":{"filePath":"docs/provisioners/mondoo.mdx"},"pluginData":{"title":"Mondoo","path":"mondoo","repo":"mondoohq/packer-plugin-mondoo","pluginTier":"verified","version":"latest","files":[]},"fullPath":"/packer/plugins/provisioners/mondoo/mondoo","id":"sidebar-nav-item-45"}],"id":"sidebar-nav-item-43"}],"id":"sidebar-nav-item-42"},{"title":"Nutanix","routes":[{"title":"Builders","routes":[{"title":"Overview","path":"builders/nutanix","remoteFile":{"filePath":"docs/builders/index.mdx"},"pluginData":{"title":"Nutanix","path":"nutanix","repo":"nutanix-cloud-native/packer-plugin-nutanix","version":"latest","pluginTier":"verified","sourceBranch":"main","files":[]},"fullPath":"/packer/plugins/builders/nutanix","id":"sidebar-nav-item-48"},{"title":"Nutanix","path":"builders/nutanix/nutanix","remoteFile":{"filePath":"docs/builders/nutanix.mdx"},"pluginData":{"title":"Nutanix","path":"nutanix","repo":"nutanix-cloud-native/packer-plugin-nutanix","version":"latest","pluginTier":"verified","sourceBranch":"main","files":[]},"fullPath":"/packer/plugins/builders/nutanix/nutanix","id":"sidebar-nav-item-49"}],"id":"sidebar-nav-item-47"}],"id":"sidebar-nav-item-46"},{"title":"Outscale","routes":[{"title":"Builders","routes":[{"title":"Overview","path":"builders/outscale","remoteFile":{"filePath":"docs/builders/index.mdx"},"pluginData":{"title":"Outscale","path":"outscale","repo":"outscale/packer-plugin-outscale","version":"latest","pluginTier":"verified","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/builders/outscale","id":"sidebar-nav-item-52"},{"title":"BSU","path":"builders/outscale/outscale-bsu","remoteFile":{"filePath":"docs/builders/outscale-bsu.mdx","fileString":"---\ndescription: >\n  The outscale-bsu Packer builder is able to create Outscale OMIs backed by BSU\n  volumes for use in Outscale. For more information on the difference between\n\n  BSU-backed VMs and VM-store backed VMs, see the storage for\n\n  the root device section in the Outscale documentation.\npage_title: Outscale BSU - Builders\nnav_title: BSU\n---\n\n# OMI Builder (BSU backed)\n\nType: `outscale-bsu`\nArtifact BuilderId: `oapi.outscale.bsu`\n\nThe `outscale-bsu` Packer builder is able to create Outscale OMIs backed by BSU\nvolumes for use in [Flexible Compute Unit](https://docs.outscale.com/en/userguide/Flexible-Compute-Unit-(FCU).html). For more information on\nthe difference between BSU-backed VMs and VM-store backed\nVMs, see the [\"storage for the root device\" section in the Outscale\ndocumentation](https://docs.outscale.com/en/userguide/Defining-Block-Device-Mappings.html).\n\nThis builder builds an OMI by launching an Outscale VM from a source OMI,\nprovisioning that running machine, and then creating an OMI from that machine.\nThis is all done in your own Outscale account. The builder will create temporary\nkeypairs, security group rules, etc. that provide it temporary access to the\nVM while the image is being created. This simplifies configuration quite\na bit.\n\nThe builder does _not_ manage OMIs. Once it creates an OMI and stores it in\nyour account, it is up to you to use, delete, etc. the OMI.\n\n-> **Note:** Temporary resources are, by default, all created with the\nprefix `packer`. This can be useful if you want to restrict the security groups\nand key pairs Packer is able to operate on.\n\n## Configuration Reference\n\nThere are many configuration options available for the builder. They are\nsegmented below into two categories: required and optional parameters. Within\neach category, the available configuration keys are alphabetized.\n\nIn addition to the options listed here, a\n[communicator](/docs/templates/legacy_json_templates/communicator) can be configured for this\nbuilder.\n\n### Required:\n\n- `access_key` (string) - The access key used to communicate with OUTSCALE. [Learn how to set this](/docs/builders/outscale#authentication)\n\n- `omi_name` (string) - The name of the resulting OMIS that will appear when managing OMIs in the Outscale console or via APIs. This must be unique. To help make this unique, use a function like `timestamp` (see [template engine](/docs/templates/legacy_json_templates/engine) for more info).\n\n- `vm_type` (string) - The Outscale VM type to use while building the OMI, such as `t2.small`.\n\n- `region` (string) - The name of the region, such as `us-east-1`, in which to launch the Outscale VM to create the OMI.\n\n- `secret_key` (string) - The secret key used to communicate with Outscale. [Learn how to set this](/docs/builders/outscale#authentication)\n\n- `source_omi` (string) - The initial OMI used as a base for the newly created machine. `source_omi_filter` may be used instead to populate this automatically.\n\n### Optional:\n\n- `omi_block_device_mappings` (array of block device mappings) - Add one or more [block device mappings](https://docs.outscale.com/en/userguide/Defining-Block-Device-Mappings.html) to the OMI. These will be attached when booting a new VM from your OMI. To add a block device during the Packer build see `launch_block_device_mappings` below. Your options here may vary depending on the type of VM you use. The block device mappings allow for the following configuration:\n\n  - `delete_on_vm_deletion` (boolean) - Indicates whether the BSU volume is deleted on VM termination. Default `false`. **NOTE**: If this value is not explicitly set to `true` and volumes are not cleaned up by an alternative method, additional volumes will accumulate after every build.\n\n  - `device_name` (string) - The device name exposed to the VM (for example, `/dev/sdh` or `xvdh`). Required for every device in the block device mapping.\n\n  - `iops` (number) - The number of I/O operations per second (IOPS) that the volume supports. See the documentation on\n    [IOPs](https://docs.outscale.com/en/userguide/About-Volumes.html#_volume_types_and_iops)\n    for more information\n\n  - `no_device` (boolean) - Suppresses the specified device included in the\n    block device mapping of the OMI\n\n  - `snapshot_id` (string) - The ID of the snapshot\n\n  - `virtual_name` (string) - The virtual device name. See the documentation on [Block Device Mapping](https://docs.outscale.com/en/userguide/Defining-Block-Device-Mappings.html) for more information\n\n  - `volume_size` (number) - The size of the volume, in GiB. Required if not specifying a `snapshot_id`\n\n  - `volume_type` (string) - The volume type. `gp2` for General Purpose (SSD) volumes, `io1` for Provisioned IOPS (SSD) volumes, and `standard` for Magnetic volumes\n\n- `omi_description` (string) - The description to set for the resulting OMI(s). By default this description is empty. This is a [template engine](/docs/templates/legacy_json_templates/engine), see [Build template\n  data](#build-template-data) for more information.\n\n- `omi_account_ids` (array of strings) - A list of account IDs that have access to launch the resulting OMI(s). By default no additional users other than the user creating the OMIS has permissions to launch it.\n\n- `product_codes` ([]string) - A list of product codes to associate with the OMI. By default no product codes are associated with the OMI.\n\n- `global_permission` (boolean) - This option is useful to make the OMI publicly accessible.\n\n- `omi_virtualization_type` (string) - The type of virtualization for the OMI you are building. This option must match the supported virtualization type of `source_omi`. Can be `paravirtual` or `hvm`.\n\n- `associate_public_ip_address` (boolean) - If using a non-default Net, public IP addresses are not provided by default. If this is toggled, your new VM will get a Public IP.\n\n- `subregion_name` (string) - Destination subregion to launch VM in. Leave this empty to allow Outscale to auto-assign.\n\n- `custom_endpoint_oapi` (string) - This option is useful if you use a cloud\n  provider whose API is compatible with Outscale OAPI. Specify another endpoint\n  like this `outscale.com/oapi/latest`.\n\n- `disable_stop_vm` (boolean) - Packer normally stops the build\n  VM after all provisioners have run. For Windows VMs, it is\n  sometimes desirable to [run Sysprep](<https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-vista/cc721940(v=ws.10)>) which will stop the VM for you. If this is set to `true`, Packer\n  _will not_ stop the VM but will assume that you will send the stop\n  signal yourself through your final provisioner. You can do this with a\n  [windows-shell provisioner](/docs/provisioners/windows-shell).\n\n  Note that Packer will still wait for the VM to be stopped, and\n  failing to send the stop signal yourself, when you have set this flag to\n  `true`, will cause a timeout.\n\n- `bsu_optimized` (boolean) - If true, the VM is created with optimized BSU I/O.\n\n- `force_delete_snapshot` (boolean) - Force Packer to delete snapshots\n  associated with OMIs, which have been deregistered by `force_deregister`.\n  Default `false`.\n\n- `force_deregister` (boolean) - Force Packer to first deregister an existing\n  OMIS if one with the same name already exists. Default `false`.\n\n- `insecure_skip_tls_verify` (boolean) - This allows skipping TLS\n  verification of the OAPI endpoint. The default is `false`.\n\n- `launch_block_device_mappings` (array of block device mappings) - Add one\n  or more block devices before the Packer build starts. If you add VM\n  store volumes or BSU volumes in addition to the root device volume, the\n  created OMIS will contain block device mapping information for those\n  volumes. Outscale creates snapshots of the source VM's root volume and\n  any other BSU volumes described here. When you launch an VM from this\n  new OMI, the VM automatically launches with these additional volumes,\n  and will restore them from snapshots taken from the source VM.\n\n- `run_tags` (object of key/value strings) - Tags to apply to the VM\n  that is _launched_ to create the OMI. These tags are _not_ applied to the\n  resulting OMIS unless they're duplicated in `tags`. This is a [template\n  engine](/docs/templates/legacy_json_templates/engine), see [Build template\n  data](#build-template-data) for more information.\n\n- `run_volume_tags` (object of key/value strings) - Tags to apply to the\n  volumes that are _launched_ to create the OMI. These tags are _not_ applied\n  to the resulting OMIS unless they're duplicated in `tags`. This is a\n  [template engine](/docs/templates/legacy_json_templates/engine), see [Build template\n  data](#build-template-data) for more information.\n\n- `security_group_id` (string) - The ID (_not_ the name) of the security\n  group to assign to the VM. By default this is not set and Packer will\n  automatically create a new temporary security group to allow SSH access.\n  Note that if this is specified, you must be sure the security group allows\n  access to the `ssh_port` given below.\n\n- `security_group_ids` (array of strings) - A list of security groups as\n  described above. Note that if this is specified, you must omit the\n  `security_group_id`.\n\n- `shutdown_behavior` (string) - Automatically terminate VMs on\n  shutdown in case Packer exits ungracefully. Possible values are \"stop\" and\n  \"terminate\", default is `stop`.\n\n- `skip_region_validation` (boolean) - Set to true if you want to skip\n  validation of the region configuration option. Default `false`.\n\n- `snapshot_groups` (array of strings) - A list of groups that have access to\n  create volumes from the snapshot(s). By default no groups have permission\n  to create volumes from the snapshot(s). `all` will make the snapshot\n  publicly accessible.\n\n- `snapshot_tags` (object of key/value strings) - Tags to apply to snapshot.\n  They will override OMIS tags if already applied to snapshot. This is a\n  [template engine](/docs/templates/legacy_json_templates/engine), see [Build template\n  data](#build-template-data) for more information.\n\n- `source_omi_filter` (object) - Filters used to populate the `source_omi` field.\n\n  - `filters` (map of strings) - filters used to select a `source_omi`.\n  - `owners` (array of strings) - Filters the images by their owner. You may specify one or more Outscale account IDs, \"self\" (which will use the account whose credentials you are using to run Packer). This option is required for security reasons.\n\n    Example:\n\n    ```json\n    {\n      \"source_omi_filter\": {\n        \"filters\": {\n          \"virtualization-type\": \"hvm\",\n          \"image-name\": \"image-name-in-account\",\n          \"root-device-type\": \"ebs\"\n        },\n        \"owners\": [\"099720109477\"]\n      }\n    }\n    ```\n\n    This selects an Ubuntu 16.04 HVM BSU OMIS from Canonical. NOTE:\n    This will fail unless _exactly_ one OMIS is returned. In the above example,\n    `most_recent` will cause this to succeed by selecting the newest image.\n\n- `ssh_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the home directory\n  of current user.\n\n\n- `ssh_keypair_name` (string) - If specified, this is the key that will be used for SSH with the\n  machine. The key must match a key pair name loaded up into the remote.\n  By default, this is blank, and Packer will generate a temporary keypair\n  unless [`ssh_password`](#ssh_password) is used.\n  [`ssh_private_key_file`](#ssh_private_key_file) or\n  [`ssh_agent_auth`](#ssh_agent_auth) must be specified when\n  [`ssh_keypair_name`](#ssh_keypair_name) is utilized.\n\n\n- `ssh_agent_auth` (bool) - If true, the local SSH agent will be used to authenticate connections to\n  the source instance. No temporary keypair will be created, and the\n  values of [`ssh_password`](#ssh_password) and\n  [`ssh_private_key_file`](#ssh_private_key_file) will be ignored. The\n  environment variable `SSH_AUTH_SOCK` must be set for this option to work\n  properly.\n\n\n- `ssh_interface` (string) - One of `public_ip`, `private_ip`, `public_dns`, or `private_dns`. If set, either the public IP address, private IP address, public DNS name or private DNS name will used as the host for SSH. The default behaviour if inside a Net is to use the public IP address if available, otherwise the private IP address will be used. If not in a Net the public DNS name will be used. Also works for WinRM.\n\n  Where Packer is configured for an outbound proxy but WinRM traffic should be direct, `ssh_interface` must be set to `private_dns` and `<region>.compute.internal` included in the `NO_PROXY` environment variable.\n\n- `subnet_id` (string) - If using Net, the ID of the subnet, such as `subnet-12345def`, where Packer will launch the VM. This field is required if you are using an non-default Net.\n\n- `tags` (object of key/value strings) - Tags applied to the OMIS and relevant snapshots. This is a [template engine](/docs/templates/legacy_json_templates/engine), see [Build template data](#build-template-data) for more information.\n\n- `temporary_key_pair_name` (string) - The name of the temporary key pair to generate. By default, Packer generates a name that looks like `packer_<UUID>`, where &lt;UUID&gt; is a 36 character unique identifier.\n\n- `temporary_security_group_source_cidr` (string) - An IPv4 CIDR block to be authorized access to the VM, when packer is creating a temporary security group. The default is `0.0.0.0/0` (i.e., allow any IPv4 source). This is only used when `security_group_id` or `security_group_ids` is not specified.\n\n- `user_data` (string) - User data to apply when launching the VM. Note that you need to be careful about escaping characters due to the templates being JSON. It is often more convenient to use `user_data_file`, instead. Packer will not automatically wait for a user script to finish before shutting down the VM this must be handled in a provisioner.\n\n- `user_data_file` (string) - Path to a file that will be used for the user data when launching the VM.\n\n- `net_id` (string) - If launching into a Net subnet, Packer needs the Net ID in order to create a temporary security group within the Net. Requires `subnet_id` to be set. If this field is left blank, Packer will try to get the Net ID from the `subnet_id`.\n\n- `net_filter` (object) - Filters used to populate the `net_id` field.\n  Example:\n\n  ```json\n  {\n    \"net_filter\": {\n      \"filters\": {\n        \"is-default\": \"false\",\n        \"ip-range\": \"/24\"\n      }\n    }\n  }\n  ```\n\n  This selects the Net with a IPv4 CIDR block of `/24`. NOTE: This will fail unless _exactly_ one Net is returned.\n\n  - `filters` (map of strings) - filters used to select a `vpc_id`. NOTE: This will fail unless _exactly_ one Net is returned.\n\n    `net_id` take precedence over this.\n\n- `windows_password_timeout` (string) - The timeout for waiting for a Windows password for Windows VMs. Defaults to 20 minutes. Example value: `10m`\n\n## Basic Example\n\nHere is a basic example. You will need to provide access keys, and may need to change the OMIS IDs according to what images exist at the time the template is run:\n\n```json\n{\n  \"variables\": {\n    \"access_key\": \"{{env `OUTSCALE_ACCESSKEYID`}}\",\n    \"secret_key\": \"{{env `OUTSCALE_SECRETKEYID`}}\"\n  },\n  \"builders\": [\n    {\n      \"type\": \"outscale-bsu\",\n      \"access_key\": \"{{user `access_key`}}\",\n      \"secret_key\": \"{{user `secret_key`}}\",\n      \"region\": \"us-east-1\",\n      \"source_omi\": \"ami-abcfd0283\",\n      \"vm_type\": \"t2.micro\",\n      \"ssh_username\": \"outscale\",\n      \"omi_name\": \"packer_osc {{timestamp}}\"\n    }\n  ]\n}\n```\n\n-> **Note:** Packer can also read the access key and secret access key from\nenvironmental variables. See the configuration reference in the section above\nfor more information on what environmental variables Packer will look for.\n\nFurther information on locating OMIS IDs and their relationship to VM\ntypes and regions can be found in the Outscale Documentation [reference](https://docs.outscale.com/en/userguide/Official-OMIs-Reference.html).\n\n## Accessing the Instance to Debug\n\nIf you need to access the VM to debug for some reason, run the builder\nwith the `-debug` flag. In debug mode, the Outscale builder will save the private key in the current directory and will output the DNS or IP information as well.\nYou can use this information to access the VM as it is running.\n\n## OMIS Block Device Mappings Example\n\nHere is an example using the optional OMIS block device mappings. Our\nconfiguration of `launch_block_device_mappings` will expand the root volume\n(`/dev/sda`) to 40gb during the build (up from the default of 8gb). With\n`ami_block_device_mappings` Outscale will attach additional volumes `/dev/sdb` and\n`/dev/sdc` when we boot a new VM of our OMI.\n\n```json\n{\n  \"type\": \"outscale-bsu\",\n  \"access_key\": \"YOUR KEY HERE\",\n  \"secret_key\": \"YOUR SECRET KEY HERE\",\n  \"region\": \"us-east-1\",\n  \"source_omi\": \"ami-fce3c696\",\n  \"vm_type\": \"t2.micro\",\n  \"ssh_username\": \"ubuntu\",\n  \"omi_name\": \"packer-quick-start {{timestamp}}\",\n  \"launch_block_device_mappings\": [\n    {\n      \"device_name\": \"/dev/sda1\",\n      \"volume_size\": 40,\n      \"volume_type\": \"gp2\",\n      \"delete_on_vm_deletion\": true\n    }\n  ],\n  \"omi_block_device_mappings\": [\n    {\n      \"device_name\": \"/dev/sdb\",\n      \"virtual_name\": \"ephemeral0\"\n    },\n    {\n      \"device_name\": \"/dev/sdc\",\n      \"virtual_name\": \"ephemeral1\"\n    }\n  ]\n}\n```\n\n## Build template data\n\nIn configuration directives marked as a template engine above, the following variables are available:\n\n- `BuildRegion` - The region (for example `eu-west-2`) where Packer is building the OMI.\n- `SourceOMI` - The source OMIS ID (for example `ami-a2412fcd`) used to build the OMI.\n- `SourceOMIName` - The source OMIS Name (for example `ubutu-390`) used to build the OMI.\n- `SourceOMITags` - The source OMIS Tags, as a `map[string]string` object.\n\n## Tag Example\n\nHere is an example using the optional OMIS tags. This will add the tags `OS_Version` and `Release` to the finished OMI. As before, you will need to provide your access keys, and may need to change the source OMIS ID based on what images exist when this template is run:\n\n```json\n{\n  \"type\": \"outscale-bsu\",\n  \"access_key\": \"YOUR KEY HERE\",\n  \"secret_key\": \"YOUR SECRET KEY HERE\",\n  \"region\": \"us-east-1\",\n  \"source_omi\": \"ami-fce3c696\",\n  \"vm_type\": \"t2.micro\",\n  \"ssh_username\": \"ubuntu\",\n  \"omi_name\": \"packer-quick-start {{timestamp}}\",\n  \"tags\": {\n    \"OS_Version\": \"Ubuntu\",\n    \"Release\": \"Latest\",\n    \"Base_OMI_Name\": \"{{ .SourceOMIName }}\",\n    \"Extra\": \"{{ .SourceOMITags.TagName }}\"\n  }\n}\n```\n\n-> **Note:** Packer uses pre-built OMIs as the source for building images.\nThese source OMIs may include volumes that are not flagged to be destroyed on\ntermination of the VM building the new image. Packer will attempt to\nclean up all residual volumes that are not designated by the user to remain\nafter termination. If you need to preserve those source volumes, you can\noverwrite the termination setting by specifying `delete_on_vm_deletion=false`\nin the `launch_block_device_mappings` block for the device.\n","sourceUrl":"https://github.com/outscale/packer-plugin-outscale/blob/main/docs/builders/outscale-bsu.mdx"},"pluginData":{"title":"Outscale","path":"outscale","repo":"outscale/packer-plugin-outscale","version":"latest","pluginTier":"verified","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/builders/outscale/outscale-bsu","id":"sidebar-nav-item-53"},{"title":"BSU Surrogate","path":"builders/outscale/outscale-bsusurrogate","remoteFile":{"filePath":"docs/builders/outscale-bsusurrogate.mdx"},"pluginData":{"title":"Outscale","path":"outscale","repo":"outscale/packer-plugin-outscale","version":"latest","pluginTier":"verified","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/builders/outscale/outscale-bsusurrogate","id":"sidebar-nav-item-54"},{"title":"BSU Volume","path":"builders/outscale/outscale-bsuvolume","remoteFile":{"filePath":"docs/builders/outscale-bsuvolume.mdx"},"pluginData":{"title":"Outscale","path":"outscale","repo":"outscale/packer-plugin-outscale","version":"latest","pluginTier":"verified","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/builders/outscale/outscale-bsuvolume","id":"sidebar-nav-item-55"},{"title":"chroot","path":"builders/outscale/outscale-chroot","remoteFile":{"filePath":"docs/builders/outscale-chroot.mdx"},"pluginData":{"title":"Outscale","path":"outscale","repo":"outscale/packer-plugin-outscale","version":"latest","pluginTier":"verified","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/builders/outscale/outscale-chroot","id":"sidebar-nav-item-56"}],"id":"sidebar-nav-item-51"},{"title":"Data Sources","routes":[{"title":"Outscale OMI","path":"datasources/outscale","remoteFile":{"filePath":"docs/datasources/omi.mdx"},"pluginData":{"title":"Outscale","path":"outscale","repo":"outscale/packer-plugin-outscale","version":"latest","pluginTier":"verified","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/datasources/outscale","id":"sidebar-nav-item-58"}],"id":"sidebar-nav-item-57"}],"id":"sidebar-nav-item-50"},{"title":"Scaleway","routes":[{"title":"Builders","routes":[{"title":"Scaleway","path":"builders/scaleway","remoteFile":{"filePath":"docs/builders/scaleway.mdx"},"pluginData":{"title":"Scaleway","path":"scaleway","repo":"scaleway/packer-plugin-scaleway","pluginTier":"verified","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/scaleway","id":"sidebar-nav-item-61"}],"id":"sidebar-nav-item-60"}],"id":"sidebar-nav-item-59"},{"title":"SSH Key","routes":[{"title":"Data Sources","routes":[{"title":"SSH Key","path":"datasources/sshkey","remoteFile":{"filePath":"docs/datasources/sshkey.mdx"},"pluginData":{"title":"SSH Key","path":"sshkey","repo":"ivoronin/packer-plugin-sshkey","pluginTier":"community","version":"latest","files":[]},"fullPath":"/packer/plugins/datasources/sshkey","id":"sidebar-nav-item-64"}],"id":"sidebar-nav-item-63"}],"id":"sidebar-nav-item-62"},{"title":"Tart","routes":[{"title":"Builders","routes":[{"title":"Tart","path":"builders/tart","remoteFile":{"filePath":"docs/builders/tart.mdx"},"pluginData":{"title":"Tart","path":"tart","repo":"cirruslabs/packer-plugin-tart","pluginTier":"community","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/tart","id":"sidebar-nav-item-67"}],"id":"sidebar-nav-item-66"}],"id":"sidebar-nav-item-65"},{"title":"UCloud","routes":[{"title":"Builders","routes":[{"title":"UCloud","path":"builders/ucloud","remoteFile":{"filePath":"docs/builders/uhost.mdx"},"pluginData":{"title":"UCloud","path":"ucloud","repo":"ucloud/packer-plugin-ucloud","version":"latest","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/builders/ucloud","id":"sidebar-nav-item-70"}],"id":"sidebar-nav-item-69"},{"title":"Post-Processors","routes":[{"title":"UCloud Import","path":"post-processors/ucloud","remoteFile":{"filePath":"docs/post-processors/import.mdx"},"pluginData":{"title":"UCloud","path":"ucloud","repo":"ucloud/packer-plugin-ucloud","version":"latest","pluginTier":"community","files":[]},"fullPath":"/packer/plugins/post-processors/ucloud","id":"sidebar-nav-item-72"}],"id":"sidebar-nav-item-71"}],"id":"sidebar-nav-item-68"},{"title":"UpCloud","routes":[{"title":"Builders","routes":[{"title":"upcloud","path":"builders/upcloud","remoteFile":{"filePath":"docs/builders/upcloud.mdx"},"pluginData":{"title":"UpCloud","path":"upcloud","repo":"UpCloudLtd/packer-plugin-upcloud","version":"latest","pluginTier":"verified","sourceBranch":"master","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/builders/upcloud","id":"sidebar-nav-item-75"}],"id":"sidebar-nav-item-74"},{"title":"Post-Processors","routes":[{"title":"upcloud-import","path":"post-processors/upcloud","remoteFile":{"filePath":"docs/post-processors/upcloud-import.mdx"},"pluginData":{"title":"UpCloud","path":"upcloud","repo":"UpCloudLtd/packer-plugin-upcloud","version":"latest","pluginTier":"verified","sourceBranch":"master","isHcpPackerReady":true,"files":[]},"fullPath":"/packer/plugins/post-processors/upcloud","id":"sidebar-nav-item-77"}],"id":"sidebar-nav-item-76"}],"id":"sidebar-nav-item-73"},{"title":"Volcengine","routes":[{"title":"Builders","routes":[{"title":"Volcengine ECS","path":"builders/volcengine","remoteFile":{"filePath":"docs/builders/volcengine-ecs.mdx"},"pluginData":{"title":"Volcengine","path":"volcengine","repo":"volcengine/packer-plugin-volcengine","pluginTier":"community","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/volcengine","id":"sidebar-nav-item-80"}],"id":"sidebar-nav-item-79"}],"id":"sidebar-nav-item-78"},{"title":"Vultr","routes":[{"title":"Builders","routes":[{"title":"Vultr","path":"builders/vultr","remoteFile":{"filePath":"docs/builders/vultr.mdx"},"pluginData":{"title":"Vultr","path":"vultr","repo":"vultr/packer-plugin-vultr","pluginTier":"community","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/vultr","id":"sidebar-nav-item-83"}],"id":"sidebar-nav-item-82"}],"id":"sidebar-nav-item-81"},{"title":"Ksyun","routes":[{"title":"Builders","routes":[{"title":"Epc","path":"builders/ksyun/epc","remoteFile":{"filePath":"docs/builders/epc.mdx"},"pluginData":{"title":"Ksyun","path":"ksyun","repo":"kingsoftcloud/packer-plugin-ksyun","pluginTier":"community","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/ksyun/epc","id":"sidebar-nav-item-86"},{"title":"Instance(KEC)","path":"builders/ksyun/kec","remoteFile":{"filePath":"docs/builders/kec.mdx"},"pluginData":{"title":"Ksyun","path":"ksyun","repo":"kingsoftcloud/packer-plugin-ksyun","pluginTier":"community","version":"latest","files":[]},"fullPath":"/packer/plugins/builders/ksyun/kec","id":"sidebar-nav-item-87"}],"id":"sidebar-nav-item-85"},{"title":"Data Sources","routes":[{"title":"Ksyun KMI","path":"datasources/ksyun","remoteFile":{"filePath":"docs/datasources/kmi.mdx"},"pluginData":{"title":"Ksyun","path":"ksyun","repo":"kingsoftcloud/packer-plugin-ksyun","pluginTier":"community","version":"latest","files":[]},"fullPath":"/packer/plugins/datasources/ksyun","id":"sidebar-nav-item-89"}],"id":"sidebar-nav-item-88"}],"id":"sidebar-nav-item-84"}],"title":"Plugins","visuallyHideTitle":true}],"mainWidth":"narrow"},"outlineItems":[{"title":"OMI Builder (BSU backed)","url":"#omi-builder-bsu-backed","dataHeapTrack":"toc-list-item-index-0"},{"title":"Configuration Reference","url":"#configuration-reference","dataHeapTrack":"toc-list-item-index-1"},{"title":"Basic Example","url":"#basic-example","dataHeapTrack":"toc-list-item-index-2"},{"title":"Accessing the Instance to Debug","url":"#accessing-the-instance-to-debug","dataHeapTrack":"toc-list-item-index-3"},{"title":"OMIS Block Device Mappings Example","url":"#omis-block-device-mappings-example","dataHeapTrack":"toc-list-item-index-4"},{"title":"Build template data","url":"#build-template-data","dataHeapTrack":"toc-list-item-index-5"},{"title":"Tag Example","url":"#tag-example","dataHeapTrack":"toc-list-item-index-6"}],"metadata":{"title":"Outscale BSU - Builders","description":"The outscale-bsu Packer builder is able to create Outscale OMIs backed by BSU volumes for use in Outscale. For more information on the difference between\nBSU-backed VMs and VM-store backed VMs, see the storage for\nthe root device section in the Outscale documentation.\n"},"mdxSource":{"compiledSource":"var c=Object.defineProperty,d=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;var l=(a,n,t)=>n in a?c(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t,e=(a,n)=>{for(var t in n||(n={}))p.call(n,t)&&l(a,t,n[t]);if(i)for(var t of i(n))o.call(n,t)&&l(a,t,n[t]);return a},r=(a,n)=>d(a,N(n));var m=(a,n)=>{var t={};for(var s in a)p.call(a,s)&&n.indexOf(s)<0&&(t[s]=a[s]);if(a!=null&&i)for(var s of i(a))n.indexOf(s)<0&&o.call(a,s)&&(t[s]=a[s]);return t};const makeShortcode=a=>function(t){return console.warn(\"Component \"+a+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",e({},t))},BadgesHeader=makeShortcode(\"BadgesHeader\"),PluginBadge=makeShortcode(\"PluginBadge\"),Badge=makeShortcode(\"Badge\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var s=t,{components:a}=s,n=m(s,[\"components\"]);return mdx(MDXLayout,r(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(BadgesHeader,{mdxType:\"BadgesHeader\"},mdx(PluginBadge,{type:\"verified\",mdxType:\"PluginBadge\"}),mdx(PluginBadge,{type:\"hcp_packer_ready\",mdxType:\"PluginBadge\"}),mdx(Badge,{href:\"https://github.com/outscale/packer-plugin-outscale/releases/tag/v1.1.3\",label:\"v1.1.3\",theme:\"light-gray\",mdxType:\"Badge\"})),mdx(\"h1\",e({},{className:\"g-type-display-2\",id:\"omi-builder-bsu-backed\"}),mdx(\"a\",e({parentName:\"h1\"},{className:\"__permalink-h\",href:\"#omi-builder-bsu-backed\",\"aria-label\":\"omi builder bsu backed permalink\"}),\"\\xBB\"),\"OMI Builder (BSU backed)\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Type: \",mdx(\"inlineCode\",{parentName:\"p\"},\"outscale-bsu\"),`\nArtifact BuilderId: `,mdx(\"inlineCode\",{parentName:\"p\"},\"oapi.outscale.bsu\")),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"outscale-bsu\"),` Packer builder is able to create Outscale OMIs backed by BSU\nvolumes for use in `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.outscale.com/en/userguide/Flexible-Compute-Unit-(FCU).html\"}),\"Flexible Compute Unit\"),`. For more information on\nthe difference between BSU-backed VMs and VM-store backed\nVMs, see the `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.outscale.com/en/userguide/Defining-Block-Device-Mappings.html\"}),`\"storage for the root device\" section in the Outscale\ndocumentation`),\".\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),`This builder builds an OMI by launching an Outscale VM from a source OMI,\nprovisioning that running machine, and then creating an OMI from that machine.\nThis is all done in your own Outscale account. The builder will create temporary\nkeypairs, security group rules, etc. that provide it temporary access to the\nVM while the image is being created. This simplifies configuration quite\na bit.`),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The builder does \",mdx(\"em\",{parentName:\"p\"},\"not\"),` manage OMIs. Once it creates an OMI and stores it in\nyour account, it is up to you to use, delete, etc. the OMI.`),mdx(\"div\",e({},{className:\"alert alert-info g-type-body\"}),mdx(\"p\",e({parentName:\"div\"},{className:\"g-type-long-body\"}),\"\",mdx(\"strong\",{parentName:\"p\"},\"Note:\"),` Temporary resources are, by default, all created with the\nprefix `,mdx(\"inlineCode\",{parentName:\"p\"},\"packer\"),`. This can be useful if you want to restrict the security groups\nand key pairs Packer is able to operate on.`)),mdx(\"h2\",e({},{className:\"g-type-display-3\",id:\"configuration-reference\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#configuration-reference\",\"aria-label\":\"configuration reference permalink\"}),\"\\xBB\"),\"Configuration Reference\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),`There are many configuration options available for the builder. They are\nsegmented below into two categories: required and optional parameters. Within\neach category, the available configuration keys are alphabetized.`),mdx(\"p\",e({},{className:\"g-type-long-body\"}),`In addition to the options listed here, a\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/templates/legacy_json_templates/communicator\"}),\"communicator\"),` can be configured for this\nbuilder.`),mdx(\"h3\",e({},{className:\"g-type-display-4\",id:\"required\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#required\",\"aria-label\":\"required permalink\"}),\"\\xBB\"),\"Required:\"),mdx(\"ul\",null,mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"access_key\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#access_key\",\"aria-label\":\"access_key permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"access_key\")),\" (string) - The access key used to communicate with OUTSCALE. \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://packer.io/plugins/builders/outscale#authentication\"}),\"Learn how to set this\"))),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"omi_name\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#omi_name\",\"aria-label\":\"omi_name permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"omi_name\")),\" (string) - The name of the resulting OMIS that will appear when managing OMIs in the Outscale console or via APIs. This must be unique. To help make this unique, use a function like \",mdx(\"inlineCode\",{parentName:\"p\"},\"timestamp\"),\" (see \",mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/templates/legacy_json_templates/engine\"}),\"template engine\"),\" for more info).\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"vm_type\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#vm_type\",\"aria-label\":\"vm_type permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"vm_type\")),\" (string) - The Outscale VM type to use while building the OMI, such as \",mdx(\"inlineCode\",{parentName:\"p\"},\"t2.small\"),\".\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"region\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#region\",\"aria-label\":\"region permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"region\")),\" (string) - The name of the region, such as \",mdx(\"inlineCode\",{parentName:\"p\"},\"us-east-1\"),\", in which to launch the Outscale VM to create the OMI.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"secret_key\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#secret_key\",\"aria-label\":\"secret_key permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"secret_key\")),\" (string) - The secret key used to communicate with Outscale. \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://packer.io/plugins/builders/outscale#authentication\"}),\"Learn how to set this\"))),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"source_omi\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#source_omi\",\"aria-label\":\"source_omi permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"source_omi\")),\" (string) - The initial OMI used as a base for the newly created machine. \",mdx(\"inlineCode\",{parentName:\"p\"},\"source_omi_filter\"),\" may be used instead to populate this automatically.\"))),mdx(\"h3\",e({},{className:\"g-type-display-4\",id:\"optional\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#optional\",\"aria-label\":\"optional permalink\"}),\"\\xBB\"),\"Optional:\"),mdx(\"ul\",null,mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"omi_block_device_mappings\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#omi_block_device_mappings\",\"aria-label\":\"omi_block_device_mappings permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"omi_block_device_mappings\")),\" (array of block device mappings) - Add one or more \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.outscale.com/en/userguide/Defining-Block-Device-Mappings.html\"}),\"block device mappings\"),\" to the OMI. These will be attached when booting a new VM from your OMI. To add a block device during the Packer build see \",mdx(\"inlineCode\",{parentName:\"p\"},\"launch_block_device_mappings\"),\" below. Your options here may vary depending on the type of VM you use. The block device mappings allow for the following configuration:\"),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"delete_on_vm_deletion\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#delete_on_vm_deletion\",\"aria-label\":\"delete_on_vm_deletion permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"delete_on_vm_deletion\")),\" (boolean) - Indicates whether the BSU volume is deleted on VM termination. Default \",mdx(\"inlineCode\",{parentName:\"p\"},\"false\"),\". \",mdx(\"strong\",{parentName:\"p\"},\"NOTE\"),\": If this value is not explicitly set to \",mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),\" and volumes are not cleaned up by an alternative method, additional volumes will accumulate after every build.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"device_name\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#device_name\",\"aria-label\":\"device_name permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"device_name\")),\" (string) - The device name exposed to the VM (for example, \",mdx(\"inlineCode\",{parentName:\"p\"},\"/dev/sdh\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"xvdh\"),\"). Required for every device in the block device mapping.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"iops\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#iops\",\"aria-label\":\"iops permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"iops\")),` (number) - The number of I/O operations per second (IOPS) that the volume supports. See the documentation on\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.outscale.com/en/userguide/About-Volumes.html#_volume_types_and_iops\"}),\"IOPs\"),`\nfor more information`)),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"no_device\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#no_device\",\"aria-label\":\"no_device permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"no_device\")),` (boolean) - Suppresses the specified device included in the\nblock device mapping of the OMI`)),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"snapshot_id\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#snapshot_id\",\"aria-label\":\"snapshot_id permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"snapshot_id\")),\" (string) - The ID of the snapshot\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"virtual_name\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#virtual_name\",\"aria-label\":\"virtual_name permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"virtual_name\")),\" (string) - The virtual device name. See the documentation on \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.outscale.com/en/userguide/Defining-Block-Device-Mappings.html\"}),\"Block Device Mapping\"),\" for more information\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"volume_size\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#volume_size\",\"aria-label\":\"volume_size permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"volume_size\")),\" (number) - The size of the volume, in GiB. Required if not specifying a \",mdx(\"inlineCode\",{parentName:\"p\"},\"snapshot_id\"))),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"volume_type\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#volume_type\",\"aria-label\":\"volume_type permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"volume_type\")),\" (string) - The volume type. \",mdx(\"inlineCode\",{parentName:\"p\"},\"gp2\"),\" for General Purpose (SSD) volumes, \",mdx(\"inlineCode\",{parentName:\"p\"},\"io1\"),\" for Provisioned IOPS (SSD) volumes, and \",mdx(\"inlineCode\",{parentName:\"p\"},\"standard\"),\" for Magnetic volumes\")))),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"omi_description\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#omi_description\",\"aria-label\":\"omi_description permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"omi_description\")),\" (string) - The description to set for the resulting OMI(s). By default this description is empty. This is a \",mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/templates/legacy_json_templates/engine\"}),\"template engine\"),\", see \",mdx(\"a\",e({parentName:\"p\"},{href:\"#build-template-data\"}),`Build template\ndata`),\" for more information.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"omi_account_ids\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#omi_account_ids\",\"aria-label\":\"omi_account_ids permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"omi_account_ids\")),\" (array of strings) - A list of account IDs that have access to launch the resulting OMI(s). By default no additional users other than the user creating the OMIS has permissions to launch it.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"product_codes\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#product_codes\",\"aria-label\":\"product_codes permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"product_codes\")),\" ([]string) - A list of product codes to associate with the OMI. By default no product codes are associated with the OMI.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"global_permission\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#global_permission\",\"aria-label\":\"global_permission permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"global_permission\")),\" (boolean) - This option is useful to make the OMI publicly accessible.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"omi_virtualization_type\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#omi_virtualization_type\",\"aria-label\":\"omi_virtualization_type permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"omi_virtualization_type\")),\" (string) - The type of virtualization for the OMI you are building. This option must match the supported virtualization type of \",mdx(\"inlineCode\",{parentName:\"p\"},\"source_omi\"),\". Can be \",mdx(\"inlineCode\",{parentName:\"p\"},\"paravirtual\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"hvm\"),\".\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"associate_public_ip_address\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#associate_public_ip_address\",\"aria-label\":\"associate_public_ip_address permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"associate_public_ip_address\")),\" (boolean) - If using a non-default Net, public IP addresses are not provided by default. If this is toggled, your new VM will get a Public IP.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"subregion_name\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#subregion_name\",\"aria-label\":\"subregion_name permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"subregion_name\")),\" (string) - Destination subregion to launch VM in. Leave this empty to allow Outscale to auto-assign.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"custom_endpoint_oapi\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#custom_endpoint_oapi\",\"aria-label\":\"custom_endpoint_oapi permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"custom_endpoint_oapi\")),` (string) - This option is useful if you use a cloud\nprovider whose API is compatible with Outscale OAPI. Specify another endpoint\nlike this `,mdx(\"inlineCode\",{parentName:\"p\"},\"outscale.com/oapi/latest\"),\".\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"disable_stop_vm\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#disable_stop_vm\",\"aria-label\":\"disable_stop_vm permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"disable_stop_vm\")),` (boolean) - Packer normally stops the build\nVM after all provisioners have run. For Windows VMs, it is\nsometimes desirable to `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-vista/cc721940(v=ws.10)\"}),\"run Sysprep\"),\" which will stop the VM for you. If this is set to \",mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),`, Packer\n`,mdx(\"em\",{parentName:\"p\"},\"will not\"),` stop the VM but will assume that you will send the stop\nsignal yourself through your final provisioner. You can do this with a\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/provisioners/windows-shell\"}),\"windows-shell provisioner\"),\".\"),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),`Note that Packer will still wait for the VM to be stopped, and\nfailing to send the stop signal yourself, when you have set this flag to\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),\", will cause a timeout.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"bsu_optimized\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#bsu_optimized\",\"aria-label\":\"bsu_optimized permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"bsu_optimized\")),\" (boolean) - If true, the VM is created with optimized BSU I/O.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"force_delete_snapshot\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#force_delete_snapshot\",\"aria-label\":\"force_delete_snapshot permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"force_delete_snapshot\")),` (boolean) - Force Packer to delete snapshots\nassociated with OMIs, which have been deregistered by `,mdx(\"inlineCode\",{parentName:\"p\"},\"force_deregister\"),`.\nDefault `,mdx(\"inlineCode\",{parentName:\"p\"},\"false\"),\".\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"force_deregister\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#force_deregister\",\"aria-label\":\"force_deregister permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"force_deregister\")),` (boolean) - Force Packer to first deregister an existing\nOMIS if one with the same name already exists. Default `,mdx(\"inlineCode\",{parentName:\"p\"},\"false\"),\".\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"insecure_skip_tls_verify\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#insecure_skip_tls_verify\",\"aria-label\":\"insecure_skip_tls_verify permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"insecure_skip_tls_verify\")),` (boolean) - This allows skipping TLS\nverification of the OAPI endpoint. The default is `,mdx(\"inlineCode\",{parentName:\"p\"},\"false\"),\".\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"launch_block_device_mappings\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#launch_block_device_mappings\",\"aria-label\":\"launch_block_device_mappings permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"launch_block_device_mappings\")),` (array of block device mappings) - Add one\nor more block devices before the Packer build starts. If you add VM\nstore volumes or BSU volumes in addition to the root device volume, the\ncreated OMIS will contain block device mapping information for those\nvolumes. Outscale creates snapshots of the source VM's root volume and\nany other BSU volumes described here. When you launch an VM from this\nnew OMI, the VM automatically launches with these additional volumes,\nand will restore them from snapshots taken from the source VM.`)),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"run_tags\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#run_tags\",\"aria-label\":\"run_tags permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"run_tags\")),` (object of key/value strings) - Tags to apply to the VM\nthat is `,mdx(\"em\",{parentName:\"p\"},\"launched\"),\" to create the OMI. These tags are \",mdx(\"em\",{parentName:\"p\"},\"not\"),` applied to the\nresulting OMIS unless they're duplicated in `,mdx(\"inlineCode\",{parentName:\"p\"},\"tags\"),\". This is a \",mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/templates/legacy_json_templates/engine\"}),`template\nengine`),\", see \",mdx(\"a\",e({parentName:\"p\"},{href:\"#build-template-data\"}),`Build template\ndata`),\" for more information.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"run_volume_tags\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#run_volume_tags\",\"aria-label\":\"run_volume_tags permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"run_volume_tags\")),` (object of key/value strings) - Tags to apply to the\nvolumes that are `,mdx(\"em\",{parentName:\"p\"},\"launched\"),\" to create the OMI. These tags are \",mdx(\"em\",{parentName:\"p\"},\"not\"),` applied\nto the resulting OMIS unless they're duplicated in `,mdx(\"inlineCode\",{parentName:\"p\"},\"tags\"),`. This is a\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/templates/legacy_json_templates/engine\"}),\"template engine\"),\", see \",mdx(\"a\",e({parentName:\"p\"},{href:\"#build-template-data\"}),`Build template\ndata`),\" for more information.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"security_group_id\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#security_group_id\",\"aria-label\":\"security_group_id permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"security_group_id\")),\" (string) - The ID (\",mdx(\"em\",{parentName:\"p\"},\"not\"),` the name) of the security\ngroup to assign to the VM. By default this is not set and Packer will\nautomatically create a new temporary security group to allow SSH access.\nNote that if this is specified, you must be sure the security group allows\naccess to the `,mdx(\"inlineCode\",{parentName:\"p\"},\"ssh_port\"),\" given below.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"security_group_ids\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#security_group_ids\",\"aria-label\":\"security_group_ids permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"security_group_ids\")),` (array of strings) - A list of security groups as\ndescribed above. Note that if this is specified, you must omit the\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"security_group_id\"),\".\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"shutdown_behavior\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#shutdown_behavior\",\"aria-label\":\"shutdown_behavior permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"shutdown_behavior\")),` (string) - Automatically terminate VMs on\nshutdown in case Packer exits ungracefully. Possible values are \"stop\" and\n\"terminate\", default is `,mdx(\"inlineCode\",{parentName:\"p\"},\"stop\"),\".\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"skip_region_validation\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#skip_region_validation\",\"aria-label\":\"skip_region_validation permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"skip_region_validation\")),` (boolean) - Set to true if you want to skip\nvalidation of the region configuration option. Default `,mdx(\"inlineCode\",{parentName:\"p\"},\"false\"),\".\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"snapshot_groups\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#snapshot_groups\",\"aria-label\":\"snapshot_groups permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"snapshot_groups\")),` (array of strings) - A list of groups that have access to\ncreate volumes from the snapshot(s). By default no groups have permission\nto create volumes from the snapshot(s). `,mdx(\"inlineCode\",{parentName:\"p\"},\"all\"),` will make the snapshot\npublicly accessible.`)),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"snapshot_tags\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#snapshot_tags\",\"aria-label\":\"snapshot_tags permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"snapshot_tags\")),` (object of key/value strings) - Tags to apply to snapshot.\nThey will override OMIS tags if already applied to snapshot. This is a\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/templates/legacy_json_templates/engine\"}),\"template engine\"),\", see \",mdx(\"a\",e({parentName:\"p\"},{href:\"#build-template-data\"}),`Build template\ndata`),\" for more information.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"source_omi_filter\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#source_omi_filter\",\"aria-label\":\"source_omi_filter permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"source_omi_filter\")),\" (object) - Filters used to populate the \",mdx(\"inlineCode\",{parentName:\"p\"},\"source_omi\"),\" field.\"),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"filters\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#filters\",\"aria-label\":\"filters permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"filters\")),\" (map of strings) - filters used to select a \",mdx(\"inlineCode\",{parentName:\"p\"},\"source_omi\"),\".\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"owners\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#owners\",\"aria-label\":\"owners permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"owners\")),' (array of strings) - Filters the images by their owner. You may specify one or more Outscale account IDs, \"self\" (which will use the account whose credentials you are using to run Packer). This option is required for security reasons.'),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),\"Example:\"),mdx(\"pre\",e({parentName:\"li\"},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"source_omi_filter\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"filters\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"virtualization-type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"hvm\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"image-name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"image-name-in-account\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"root-device-type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ebs\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"owners\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"099720109477\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),`This selects an Ubuntu 16.04 HVM BSU OMIS from Canonical. NOTE:\nThis will fail unless `,mdx(\"em\",{parentName:\"p\"},\"exactly\"),` one OMIS is returned. In the above example,\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"most_recent\"),\" will cause this to succeed by selecting the newest image.\")))),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"ssh_private_key_file\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#ssh_private_key_file\",\"aria-label\":\"ssh_private_key_file permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ssh_private_key_file\")),` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\nThe `,mdx(\"inlineCode\",{parentName:\"p\"},\"~\"),` can be used in path and will be expanded to the home directory\nof current user.`))),mdx(\"ul\",null,mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"ssh_keypair_name\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#ssh_keypair_name\",\"aria-label\":\"ssh_keypair_name permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ssh_keypair_name\")),` (string) - If specified, this is the key that will be used for SSH with the\nmachine. The key must match a key pair name loaded up into the remote.\nBy default, this is blank, and Packer will generate a temporary keypair\nunless `,mdx(\"a\",e({parentName:\"li\"},{href:\"#ssh_password\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ssh_password\")),` is used.\n`,mdx(\"a\",e({parentName:\"li\"},{href:\"#ssh_private_key_file\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ssh_private_key_file\")),` or\n`,mdx(\"a\",e({parentName:\"li\"},{href:\"#ssh_agent_auth\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ssh_agent_auth\")),` must be specified when\n`,mdx(\"a\",e({parentName:\"li\"},{href:\"#ssh_keypair_name\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ssh_keypair_name\")),\" is utilized.\")),mdx(\"ul\",null,mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"ssh_agent_auth\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#ssh_agent_auth\",\"aria-label\":\"ssh_agent_auth permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ssh_agent_auth\")),` (bool) - If true, the local SSH agent will be used to authenticate connections to\nthe source instance. No temporary keypair will be created, and the\nvalues of `,mdx(\"a\",e({parentName:\"li\"},{href:\"#ssh_password\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ssh_password\")),` and\n`,mdx(\"a\",e({parentName:\"li\"},{href:\"#ssh_private_key_file\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ssh_private_key_file\")),` will be ignored. The\nenvironment variable `,mdx(\"inlineCode\",{parentName:\"li\"},\"SSH_AUTH_SOCK\"),` must be set for this option to work\nproperly.`)),mdx(\"ul\",null,mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"ssh_interface\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#ssh_interface\",\"aria-label\":\"ssh_interface permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ssh_interface\")),\" (string) - One of \",mdx(\"inlineCode\",{parentName:\"p\"},\"public_ip\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"private_ip\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"public_dns\"),\", or \",mdx(\"inlineCode\",{parentName:\"p\"},\"private_dns\"),\". If set, either the public IP address, private IP address, public DNS name or private DNS name will used as the host for SSH. The default behaviour if inside a Net is to use the public IP address if available, otherwise the private IP address will be used. If not in a Net the public DNS name will be used. Also works for WinRM.\"),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),\"Where Packer is configured for an outbound proxy but WinRM traffic should be direct, \",mdx(\"inlineCode\",{parentName:\"p\"},\"ssh_interface\"),\" must be set to \",mdx(\"inlineCode\",{parentName:\"p\"},\"private_dns\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"<region>.compute.internal\"),\" included in the \",mdx(\"inlineCode\",{parentName:\"p\"},\"NO_PROXY\"),\" environment variable.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"subnet_id\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#subnet_id\",\"aria-label\":\"subnet_id permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"subnet_id\")),\" (string) - If using Net, the ID of the subnet, such as \",mdx(\"inlineCode\",{parentName:\"p\"},\"subnet-12345def\"),\", where Packer will launch the VM. This field is required if you are using an non-default Net.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"tags\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#tags\",\"aria-label\":\"tags permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"tags\")),\" (object of key/value strings) - Tags applied to the OMIS and relevant snapshots. This is a \",mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/templates/legacy_json_templates/engine\"}),\"template engine\"),\", see \",mdx(\"a\",e({parentName:\"p\"},{href:\"#build-template-data\"}),\"Build template data\"),\" for more information.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"temporary_key_pair_name\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#temporary_key_pair_name\",\"aria-label\":\"temporary_key_pair_name permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"temporary_key_pair_name\")),\" (string) - The name of the temporary key pair to generate. By default, Packer generates a name that looks like \",mdx(\"inlineCode\",{parentName:\"p\"},\"packer_<UUID>\"),\", where \",\"<\",\"UUID\",\">\",\" is a 36 character unique identifier.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"temporary_security_group_source_cidr\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#temporary_security_group_source_cidr\",\"aria-label\":\"temporary_security_group_source_cidr permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"temporary_security_group_source_cidr\")),\" (string) - An IPv4 CIDR block to be authorized access to the VM, when packer is creating a temporary security group. The default is \",mdx(\"inlineCode\",{parentName:\"p\"},\"0.0.0.0/0\"),\" (i.e., allow any IPv4 source). This is only used when \",mdx(\"inlineCode\",{parentName:\"p\"},\"security_group_id\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"security_group_ids\"),\" is not specified.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"user_data\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#user_data\",\"aria-label\":\"user_data permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"user_data\")),\" (string) - User data to apply when launching the VM. Note that you need to be careful about escaping characters due to the templates being JSON. It is often more convenient to use \",mdx(\"inlineCode\",{parentName:\"p\"},\"user_data_file\"),\", instead. Packer will not automatically wait for a user script to finish before shutting down the VM this must be handled in a provisioner.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"user_data_file\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#user_data_file\",\"aria-label\":\"user_data_file permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"user_data_file\")),\" (string) - Path to a file that will be used for the user data when launching the VM.\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"net_id\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#net_id\",\"aria-label\":\"net_id permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"net_id\")),\" (string) - If launching into a Net subnet, Packer needs the Net ID in order to create a temporary security group within the Net. Requires \",mdx(\"inlineCode\",{parentName:\"p\"},\"subnet_id\"),\" to be set. If this field is left blank, Packer will try to get the Net ID from the \",mdx(\"inlineCode\",{parentName:\"p\"},\"subnet_id\"),\".\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"net_filter\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#net_filter\",\"aria-label\":\"net_filter permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"net_filter\")),\" (object) - Filters used to populate the \",mdx(\"inlineCode\",{parentName:\"p\"},\"net_id\"),` field.\nExample:`),mdx(\"pre\",e({parentName:\"li\"},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"net_filter\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"filters\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"is-default\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"false\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"ip-range\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"/24\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),\"This selects the Net with a IPv4 CIDR block of \",mdx(\"inlineCode\",{parentName:\"p\"},\"/24\"),\". NOTE: This will fail unless \",mdx(\"em\",{parentName:\"p\"},\"exactly\"),\" one Net is returned.\"),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"filters-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#filters-1\",\"aria-label\":\"filters permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"filters\")),\" (map of strings) - filters used to select a \",mdx(\"inlineCode\",{parentName:\"p\"},\"vpc_id\"),\". NOTE: This will fail unless \",mdx(\"em\",{parentName:\"p\"},\"exactly\"),\" one Net is returned.\"),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"net_id\"),\" take precedence over this.\")))),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"windows_password_timeout\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"#windows_password_timeout\",\"aria-label\":\"windows_password_timeout permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"windows_password_timeout\")),\" (string) - The timeout for waiting for a Windows password for Windows VMs. Defaults to 20 minutes. Example value: \",mdx(\"inlineCode\",{parentName:\"p\"},\"10m\")))),mdx(\"h2\",e({},{className:\"g-type-display-3\",id:\"basic-example\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#basic-example\",\"aria-label\":\"basic example permalink\"}),\"\\xBB\"),\"Basic Example\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Here is a basic example. You will need to provide access keys, and may need to change the OMIS IDs according to what images exist at the time the template is run:\"),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"variables\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"access_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{env `OUTSCALE_ACCESSKEYID`}}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"secret_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{env `OUTSCALE_SECRETKEYID`}}\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"builders\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"outscale-bsu\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"access_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{user `access_key`}}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"secret_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{user `secret_key`}}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"region\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"us-east-1\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"source_omi\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ami-abcfd0283\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"vm_type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"t2.micro\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"ssh_username\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"outscale\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"omi_name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"packer_osc {{timestamp}}\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"div\",e({},{className:\"alert alert-info g-type-body\"}),mdx(\"p\",e({parentName:\"div\"},{className:\"g-type-long-body\"}),\"\",mdx(\"strong\",{parentName:\"p\"},\"Note:\"),` Packer can also read the access key and secret access key from\nenvironmental variables. See the configuration reference in the section above\nfor more information on what environmental variables Packer will look for.`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),`Further information on locating OMIS IDs and their relationship to VM\ntypes and regions can be found in the Outscale Documentation `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.outscale.com/en/userguide/Official-OMIs-Reference.html\"}),\"reference\"),\".\"),mdx(\"h2\",e({},{className:\"g-type-display-3\",id:\"accessing-the-instance-to-debug\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#accessing-the-instance-to-debug\",\"aria-label\":\"accessing the instance to debug permalink\"}),\"\\xBB\"),\"Accessing the Instance to Debug\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),`If you need to access the VM to debug for some reason, run the builder\nwith the `,mdx(\"inlineCode\",{parentName:\"p\"},\"-debug\"),` flag. In debug mode, the Outscale builder will save the private key in the current directory and will output the DNS or IP information as well.\nYou can use this information to access the VM as it is running.`),mdx(\"h2\",e({},{className:\"g-type-display-3\",id:\"omis-block-device-mappings-example\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#omis-block-device-mappings-example\",\"aria-label\":\"omis block device mappings example permalink\"}),\"\\xBB\"),\"OMIS Block Device Mappings Example\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),`Here is an example using the optional OMIS block device mappings. Our\nconfiguration of `,mdx(\"inlineCode\",{parentName:\"p\"},\"launch_block_device_mappings\"),` will expand the root volume\n(`,mdx(\"inlineCode\",{parentName:\"p\"},\"/dev/sda\"),`) to 40gb during the build (up from the default of 8gb). With\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"ami_block_device_mappings\"),\" Outscale will attach additional volumes \",mdx(\"inlineCode\",{parentName:\"p\"},\"/dev/sdb\"),` and\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"/dev/sdc\"),\" when we boot a new VM of our OMI.\"),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"outscale-bsu\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"access_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"YOUR KEY HERE\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"secret_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"YOUR SECRET KEY HERE\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"region\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"us-east-1\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"source_omi\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ami-fce3c696\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"vm_type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"t2.micro\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"ssh_username\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ubuntu\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"omi_name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"packer-quick-start {{timestamp}}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"launch_block_device_mappings\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"device_name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"/dev/sda1\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"volume_size\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"40\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"volume_type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"gp2\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"delete_on_vm_deletion\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"omi_block_device_mappings\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"device_name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"/dev/sdb\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"virtual_name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ephemeral0\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"device_name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"/dev/sdc\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"virtual_name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ephemeral1\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"h2\",e({},{className:\"g-type-display-3\",id:\"build-template-data\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#build-template-data\",\"aria-label\":\"build template data permalink\"}),\"\\xBB\"),\"Build template data\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"In configuration directives marked as a template engine above, the following variables are available:\"),mdx(\"ul\",null,mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"buildregion\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#buildregion\",\"aria-label\":\"buildregion permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"BuildRegion\")),\" - The region (for example \",mdx(\"inlineCode\",{parentName:\"li\"},\"eu-west-2\"),\") where Packer is building the OMI.\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"sourceomi\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#sourceomi\",\"aria-label\":\"sourceomi permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"SourceOMI\")),\" - The source OMIS ID (for example \",mdx(\"inlineCode\",{parentName:\"li\"},\"ami-a2412fcd\"),\") used to build the OMI.\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"sourceominame\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#sourceominame\",\"aria-label\":\"sourceominame permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"SourceOMIName\")),\" - The source OMIS Name (for example \",mdx(\"inlineCode\",{parentName:\"li\"},\"ubutu-390\"),\") used to build the OMI.\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{id:\"sourceomitags\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#sourceomitags\",\"aria-label\":\"sourceomitags permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"SourceOMITags\")),\" - The source OMIS Tags, as a \",mdx(\"inlineCode\",{parentName:\"li\"},\"map[string]string\"),\" object.\")),mdx(\"h2\",e({},{className:\"g-type-display-3\",id:\"tag-example\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#tag-example\",\"aria-label\":\"tag example permalink\"}),\"\\xBB\"),\"Tag Example\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Here is an example using the optional OMIS tags. This will add the tags \",mdx(\"inlineCode\",{parentName:\"p\"},\"OS_Version\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"Release\"),\" to the finished OMI. As before, you will need to provide your access keys, and may need to change the source OMIS ID based on what images exist when this template is run:\"),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"outscale-bsu\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"access_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"YOUR KEY HERE\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"secret_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"YOUR SECRET KEY HERE\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"region\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"us-east-1\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"source_omi\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ami-fce3c696\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"vm_type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"t2.micro\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"ssh_username\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ubuntu\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"omi_name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"packer-quick-start {{timestamp}}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"tags\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"OS_Version\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Ubuntu\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Release\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Latest\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Base_OMI_Name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{ .SourceOMIName }}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Extra\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{ .SourceOMITags.TagName }}\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"div\",e({},{className:\"alert alert-info g-type-body\"}),mdx(\"p\",e({parentName:\"div\"},{className:\"g-type-long-body\"}),\"\",mdx(\"strong\",{parentName:\"p\"},\"Note:\"),` Packer uses pre-built OMIs as the source for building images.\nThese source OMIs may include volumes that are not flagged to be destroyed on\ntermination of the VM building the new image. Packer will attempt to\nclean up all residual volumes that are not designated by the user to remain\nafter termination. If you need to preserve those source volumes, you can\noverwrite the termination setting by specifying `,mdx(\"inlineCode\",{parentName:\"p\"},\"delete_on_vm_deletion=false\"),`\nin the `,mdx(\"inlineCode\",{parentName:\"p\"},\"launch_block_device_mappings\"),\" block for the device.\")))}MDXContent.isMDXComponent=!0;\n","scope":{}},"product":{"name":"Packer","slug":"packer","algoliaConfig":{"indexName":"product_PACKER","searchOnlyApiKey":"4e1ea7f4bf4335ac43d9f28463e42148"},"analyticsConfig":{"includedDomains":"packer.io www.packer.io","segmentWriteKey":"AjXdfmTTk1I9q9dfyePuDFHBrz1tCO3l"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Packer by HashiCorp","description":"Packer helps you create golden images for multiple platforms from a single source configuration.","image":"https://www.packer.io/packer-public/img/og-image.png","icon":[{"href":"/packer-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiConf","url":"https://hashiconf.com/2023?utm_source=direct&utm_medium=banner&utm_campaign=23Q3_HASHICONFGLOBAL_EVENT&utm_content=&utm_offer=event","text":"Our community conference is taking place in San Francisco and online October 10-12.","linkText":"Register now","expirationDate":""},"version":"1.7.10","basePaths":["docs","guides","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"guide","name":"Guides","path":"guides"},{"iconName":"plug","name":"Plugins","path":"plugins"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Packer Integrations."},"currentRootDocsPath":{"iconName":"plug","name":"Plugins","path":"plugins"}}},"__N_SSG":true}